/*!
 * tui-editor
 * @version 1.4.10
 * @author NHN FE Development Lab <dl_javascript@nhn.com> (https://nhn.github.io/tui.editor/)
 * @license MIT
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("jquery"),require("tui-code-snippet"),require("codemirror"),require("to-mark"),require("markdown-it"),require("highlight.js"),require("squire-rte")):"function"==typeof define&&define.amd?define(["jquery","tui-code-snippet","codemirror","to-mark","markdown-it","highlight.js","squire-rte"],t):"object"==typeof exports?exports.Editor=t(require("jquery"),require("tui-code-snippet"),require("codemirror"),require("to-mark"),require("markdown-it"),require("highlight.js"),require("squire-rte")):(e.tui=e.tui||{},e.tui.Editor=t(e.$,e.tui.util,e.CodeMirror,e.toMark,e.markdownit,e.hljs,e.Squire))}(window,(function(e,t,n,i,a,o,r){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var a=t[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(i,a,function(t){return e[t]}.bind(null,a));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist",n(n.s=45)}([function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=l(n(0)),o=l(n(1)),r=l(n(22));function l(e){return e&&e.__esModule?e:{default:e}}var s=n(14).isMac?1:0,u=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._command=new o.default.Map,this._mdCommand=new o.default.Map,this._wwCommand=new o.default.Map,this._options=a.default.extend({useCommandShortcut:!0},n),this.base=t,this.keyMapCommand={},this._initEvent()}return i(e,[{key:"_addCommandBefore",value:function(e){var t={command:e};return this.base.eventManager.emit("addCommandBefore",t),t.command||e}},{key:"addCommand",value:function(t){for(var n=arguments.length,i=Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];i.length&&(t=e.command.apply(e,[t].concat(i)));var o=(t=this._addCommandBefore(t)).getName(),r=void 0;return t.isMDType()?r=this._mdCommand:t.isWWType()?r=this._wwCommand:t.isGlobalType()&&(r=this._command),r.set(o,t),t.keyMap&&(this.keyMapCommand[t.keyMap[s]]=o),t}},{key:"_initEvent",value:function(){var e=this;this.base.eventManager.listen("command",(function(){e.exec.apply(e,arguments)})),this.base.eventManager.listen("keyMap",(function(t){if(e._options.useCommandShortcut){var n=e.keyMapCommand[t.keyMap];n&&(t.data.preventDefault(),e.exec(n))}}))}},{key:"exec",value:function(e){var t=void 0,n=void 0,i=this.base;if((t=this._command.get(e))||(this.base.isMarkdownMode()?(t=this._mdCommand.get(e),i=this.base.mdEditor):(t=this._wwCommand.get(e),i=this.base.wwEditor)),t){for(var a,o=arguments.length,r=Array(o>1?o-1:0),l=1;l<o;l++)r[l-1]=arguments[l];r.unshift(i),n=(a=t).exec.apply(a,r)}return n}}]),e}();u.command=function(e,t){var n=r.default.factory(e,t.name,t.keyMap);return o.default.extend(n,t),n},t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.I18n=void 0;var i,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(1),r=(i=o)&&i.__esModule?i:{default:i};var l=void 0,s="en_US",u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._code=s,this._langs=new r.default.Map}return a(e,[{key:"setCode",value:function(e){this._code=e}},{key:"setLanguage",value:function(e,t){var n=this;(e=[].concat(e)).forEach((function(e){if(n._langs.has(e)){var i=n._langs.get(e);n._langs.set(e,r.default.extend(i,t))}else n._langs.set(e,t)}))}},{key:"get",value:function(e,t){t||(t=this._code);var n=this._langs.get(t);n||(n=this._langs.get(s));var i=n[e];if(!i)throw new Error('There is no text key "'+e+'" in '+t);return i}}],[{key:"getSharedInstance",value:function(){return l||(l=new e),l}}]),e}();t.I18n=u,t.default=new u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(0)),a=o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}var r=/\u200B/g,l=function(e){return e&&e.nodeType===Node.TEXT_NODE},s=function(e){return e&&e.nodeType===Node.ELEMENT_NODE},u=function(e){return s(e)?e.tagName:"TEXT"},c=function(e){var t=void 0;return s(e)?t=e.textContent.replace(r,"").length:l(e)&&(t=e.nodeValue.replace(r,"").length),t},d=function(e){var t,n=e.parentNode.childNodes,i=void 0,a=void 0;for(i=0,t=n.length;i<t;i+=1)if(n[i]===e){a=i;break}return a},f=function(e,t){var n=void 0;return l(e)?n=e:e.childNodes.length&&t>=0&&(n=e.childNodes[t]),n},h=function(e,t,n){for(var i=e+"Sibling",a=void 0,o=void 0;t&&!t[i]&&(a=u(t.parentNode))!==n&&"BODY"!==a;)t=t.parentNode;return t[i]&&(o=t[i]),o},g=function(e,t,n){for(var i=void 0;e.parentNode&&!t(e.parentNode)&&(e=e.parentNode,!n||!n(e.parentNode)););return t(e.parentNode)&&(i=e),i},v=function(e,t){return a.default.isString(t)?g(e,(function(e){return t===u(e)})):g(e,(function(e){return t===e}))},p=function(e,t,n){var i=e+"Sibling",a=void 0;return(t=v(t,n))&&t[i]&&(a=t[i]),a},m=function(e){var t={};t.tagName=e.nodeName,e.id&&(t.id=e.id);var n=e.className.trim();return n&&(t.className=n),t},y=function(e,t,n){var i=t;if(i&&e===i.parentNode)for(;i!==n;){var a=i.nextSibling;e.removeChild(i),i=a}},_=function(e){return!!e&&("UL"===e.nodeName||"OL"===e.nodeName)},b=function(e,t){e.hasChildNodes()&&(a.default.forEachArray(e.childNodes,(function(){t.appendChild(e.firstChild)})),t.normalize()),e.parentNode&&e.parentNode.removeChild(e)},k=function(e,t){if("SPAN"!==e.nodeName)for(var n=e.parentNode,i=e;i.childNodes&&1===i.childNodes.length&&!l(i.firstChild)&&"SPAN"!==(i=i.firstChild).nodeName;)if(i.nodeName===t){var a=document.createElement(t);return b(i,i.parentNode),n.replaceChild(a,e),a.appendChild(e),a}return e},w=function(e,t,n){var i=k(e,n);if(i.nodeName===n)for(var a=k(t,n),o=i,r=i.nextSibling;r;){var l=r.nextSibling;if((r=k(r,n)).nodeName===n?o?b(r,o):o=r:o=null,r===a)break;r=l}};t.default={getNodeName:u,isTextNode:l,isElemNode:s,isBlockNode:function(e){return/^(ADDRESS|ARTICLE|ASIDE|BLOCKQUOTE|DETAILS|DIALOG|DD|DIV|DL|DT|FIELDSET|FIGCAPTION|FIGURE|FOOTER|FORM|H[\d]|HEADER|HGROUP|HR|LI|MAIN|NAV|OL|P|PRE|SECTION|UL)$/gi.test(this.getNodeName(e))},getTextLength:c,getOffsetLength:function(e){var t=void 0;return s(e)?t=e.childNodes.length:l(e)&&(t=e.nodeValue.replace(r,"").length),t},getPrevOffsetNodeUntil:function(e,t,n){return t>0?f(e,t-1):h("previous",e,n)},getNodeOffsetOfParent:d,getChildNodeByOffset:f,getNodeWithDirectionUntil:h,containsNode:function(e,t){for(var n=document.createTreeWalker(e,4,null,!1),i=e===t;!i&&n.nextNode();)i=n.currentNode===t;return i},getTopPrevNodeUnder:function(e,t){return p("previous",e,t)},getTopNextNodeUnder:function(e,t){return p("next",e,t)},getParentUntilBy:g,getParentUntil:v,getTopBlockNode:function(e){return v(e,"BODY")},getPrevTextNode:function(e){for(e=e.previousSibling||e.parentNode;!l(e)&&"BODY"!==u(e);)if(e.previousSibling)for(e=e.previousSibling;e.lastChild;)e=e.lastChild;else e=e.parentNode;return"BODY"===u(e)&&(e=null),e},findOffsetNode:function(e,t,n){var i=[],o="",r=0,l=void 0;if(!t.length)return i;for(var s=t.shift(),u=document.createTreeWalker(e,4,null,!1);u.nextNode();){for(o=u.currentNode.nodeValue||"",n&&(o=n(o)),l=r+o.length;l>=s;){if(i.push({container:u.currentNode,offsetInContainer:s-r,offset:s}),!t.length)return i;s=t.shift()}r=l}do{i.push({container:u.currentNode,offsetInContainer:o.length,offset:s}),s=t.shift()}while(!a.default.isUndefined(s));return i},getPath:function(e,t){for(var n=[];e&&e!==t;)s(e)&&n.unshift(m(e)),e=e.parentNode;return n},getNodeInfo:m,getTableCellByDirection:function(e,t){var n=null;return a.default.isUndefined(t)||"next"!==t&&"previous"!==t||(n="next"===t?e.nextElementSibling:e.previousElementSibling),n},getSiblingRowCellByDirection:function(e,t,n){var o=null,r=void 0,l=void 0,s=void 0,c=void 0,f=void 0,h=void 0;return a.default.isUndefined(t)||"next"!==t&&"previous"!==t||e&&(r=(0,i.default)(e),"next"===t?(s=r.parent().next(),h=(f=(c=r.parents("thead"))[0]&&c.next())&&"TBODY"===u(f[0]),l=0):(s=r.parent().prev(),h=(f=(c=r.parents("tbody"))[0]&&c.prev())&&"THEAD"===u(f[0]),l=e.parentNode.childNodes.length-1),!a.default.isUndefined(n)&&n||(l=d(e)),s[0]?o=s.children("td,th")[l]:c[0]&&h&&(o=f.find("td,th")[l])),o},isMDSupportInlineNode:function(e){return/^(A|B|BR|CODE|DEL|EM|I|IMG|S|SPAN|STRONG)$/gi.test(e.nodeName)},isStyledNode:function(e){return/^(A|ABBR|ACRONYM|B|BDI|BDO|BIG|CITE|CODE|DEL|DFN|EM|I|INS|KBD|MARK|Q|S|SAMP|SMALL|SPAN|STRONG|SUB|SUP|U|VAR)$/gi.test(e.nodeName)},removeChildFromStartToEndNode:y,removeNodesByDirection:function(e,t,n){for(var i=t;i!==e;){var a=i.parentNode,o=i,r=o.nextSibling,l=o.previousSibling;!n&&r?y(a,r,null):n&&l&&y(a,a.childNodes[0],i),i=a}},getLeafNode:function(e){for(var t=e;t.childNodes&&t.childNodes.length;){var n=t.firstChild;t=l(n)&&!c(n)&&n.nextSibling||n}return t},isInsideTaskBox:function(e,t,n){var i=parseInt(e.left,10),a=parseInt(e.top,10),o=parseInt(e.width,10),r=parseInt(e.height,10);return t>=i&&t<=i+o&&n>=a&&n<=a+r},isListNode:_,isFirstListItem:function(e){var t=e.nodeName,n=e.parentNode;return"LI"===t&&e===n.firstChild},isFirstLevelListItem:function(e){var t=e.nodeName,n=e.parentNode.parentNode;return"LI"===t&&!_(n)},mergeNode:b,createHorizontalRule:function(){var e=document.createElement("div"),t=document.createElement("hr");return e.setAttribute("contenteditable",!1),t.setAttribute("contenteditable",!1),e.appendChild(t),e},createEmptyLine:function(){var e=document.createElement("div");return e.appendChild(document.createElement("br")),e},changeTagOrder:k,mergeSameNodes:w,optimizeRange:function(e,t){var n=e.collapsed,i=e.commonAncestorContainer,a=e.startContainer,o=e.endContainer;if(!n){var r=null;if(a!==o?(w(v(a,i),v(o,i),t),r=i):l(a)&&(r=a.parentNode),r&&r.nodeName===t){var s=r.previousSibling,u=void 0;s&&(u=k(s)).nodeName===t&&b(r,u);var c=r.nextSibling;c&&(u=k(c)).nodeName===t&&b(u,r)}}},getAllTextNode:function(e){for(var t=document.createTreeWalker(e,4,null,!1),n=[];t.nextNode();){var i=t.currentNode;l(i)&&n.push(i)}return n},isCellNode:function(e){return!!e&&("TD"===e.nodeName||"TH"===e.nodeName)},getLastNodeBy:function(e,t){for(var n=e&&e.lastChild;n&&t(n);)n=n.lastChild;return n},getParentNodeBy:function(e,t){for(;e&&t(e.parentNode,e);)e=e.parentNode;return e},getSiblingNodeBy:function(e,t,n){for(var i=t+"Sibling";e&&n(e[i],e);)e=e[i];return e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=l(n(0)),o=l(n(1)),r=l(n(8));function l(e){return e&&e.__esModule?e:{default:e}}var s="tui-popup-",u='<div class="'+s+'header">\n        <span class="'+s+'title"></span>\n        <div class="'+s+'header-buttons">\n            <button type="button" class="'+s+'close-button"></button>\n        </div>\n    </div>\n    <div class="'+s+'body"></div>',c='<div class="'+s+'wrapper">\n        <div class="'+s+'header">\n            <span class="'+s+'title"></span>\n            <div class="'+s+'header-buttons">\n                <button type="button" class="'+s+'close-button"></button>\n            </div>\n        </div>\n        <div class="'+s+'body"></div>\n    </div>',d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=o.default.extend({header:!0,$target:(0,a.default)("body"),textContent:""},e);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{tagName:"div",className:e.modal?s+"modal-background":s+"wrapper",rootElement:e.$el}));return n._initInstance(e),n._initDOM(e),n._initDOMEvent(e),n._initEditorEvent(e),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"_initInstance",value:function(e){this._$target=e.$target,e.$el&&(this.$el=e.$el,this._isExternalHtmlUse=!0),e.content?this.$content=(0,a.default)(e.content):this.$content=e.textContent,this.options=e}},{key:"_initDOM",value:function(){this._initLayout(),this._isExternalHtmlUse||(o.default.isExisty(this.options.title)&&this.setTitle(this.options.title),this.setContent(this.$content));var e=this.options.headerButtons;if(e){this.$el.find("."+s+"close-button").remove();var t=this.$el.find("."+s+"header-buttons");t.empty(),t.append((0,a.default)(e))}this.options.css&&this.$el.css(this.options.css)}},{key:"_initDOMEvent",value:function(){var e=this,t=this.options,n=t.openerCssQuery,i=t.closerCssQuery;n&&(0,a.default)(n).on("click."+this._id,(function(){return e.show()})),i&&(0,a.default)(i).on("click."+this._id,(function(){return e.hide()})),this.on("click ."+s+"close-button",(function(){return e.hide()}))}},{key:"_initEditorEvent",value:function(){}},{key:"_initLayout",value:function(){var e=this.options;if(this._isExternalHtmlUse)this.hide(),this._$target.append(this.$el);else{var t=e.modal?c:u;this.$el.html(t),this.$el.addClass(e.className),this.hide(),this._$target.append(this.$el),this.$body=this.$el.find("."+s+"body"),e.header||this.$el.find("."+s+"header").remove()}}},{key:"setContent",value:function(e){this.$body.empty(),this.$body.append(e)}},{key:"setTitle",value:function(e){var t=this.$el.find("."+s+"title");t.empty(),t.append(e)}},{key:"getTitleElement",value:function(){return this.$el.find("."+s+"title").get(0)}},{key:"hide",value:function(){this.$el.css("display","none"),this._isShow=!1,this.trigger("hidden",this)}},{key:"show",value:function(){this.$el.css("display","block"),this._isShow=!0,this.trigger("shown",this)}},{key:"isShow",value:function(){return this._isShow}},{key:"remove",value:function(){var e=this.options,t=e.openerCssQuery,n=e.closerCssQuery;this.trigger("remove",this),this.off(),t&&(0,a.default)(t).off("."+this._id),n&&(0,a.default)(n).off("."+this._id),this.$el.remove(),this.$el=null}},{key:"setFitToWindow",value:function(e){this.$el.toggleClass("fit-window",e)}},{key:"isFitToWindow",value:function(){return this.$el.hasClass("fit-window")}},{key:"toggleFitToWindow",value:function(){var e=!this.isFitToWindow();return this.setFitToWindow(e),e}}]),t}(r.default);t.default=d},function(e,t){e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CodeBlockManager=void 0;var i,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(32),r=(i=o)&&i.__esModule?i:{default:i};var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._replacers={}}return a(e,[{key:"setReplacer",value:function(e,t){this._replacers[e]=t}},{key:"getReplacer",value:function(e){return this._replacers[e]}},{key:"createCodeBlockHtml",value:function(e,t){var n=this.getReplacer(e);return n?n(t,e):r.default.getLanguage(e)?r.default.highlight(e,t).value:function(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}(t,!1)}}],[{key:"getHighlightJSLanguages",value:function(){return r.default.listLanguages()}}]),e}();t.CodeBlockManager=l,t.default=new l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=r(n(0)),o=r(n(1));function r(e){return e&&e.__esModule?e:{default:e}}var l=-1;var s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=o.default.extend({tagName:"div"},t),this.tagName=t.tagName,this.className=t.className,this._id=l+=1,this._setRootElement(t.rootElement)}return i(e,[{key:"on",value:function(e,t){var n=this;o.default.isObject(e)?o.default.forEach(e,(function(e,t){n._addEvent(t,e)})):this._addEvent(e,t)}},{key:"_addEvent",value:function(e,t){var n=this._parseEventType(e),i=n.event,a=n.selector;a?this.$el.on(i,a,t):this.$el.on(i,t)}},{key:"off",value:function(e,t){if(e){var n=this._parseEventType(e),i=n.event,a=n.selector;a?this.$el.off(i,a,t):this.$el.off(i,t)}else this.$el.off()}},{key:"_parseEventType",value:function(e){var t=e.split(" ");return{event:t.shift(),selector:t.join(" ")}}},{key:"_setRootElement",value:function(e){var t=this.tagName,n=this.className;e||(n=n||"uic"+this._id,e=(0,a.default)("<"+t+' class="'+n+'"/>')),this.$el=e}},{key:"trigger",value:function(){var e;(e=this.$el).trigger.apply(e,arguments)}},{key:"_getEventNameWithNamespace",value:function(e){var t=e.split(" ");return t[0]+=".uicEvent"+this._id,t.join(" ")}},{key:"remove",value:function(){this.$el&&this.$el.remove()}},{key:"destroy",value:function(){var e=this;this.remove(),o.default.forEachOwnProperties(this,(function(t,n){e[n]=null}))}}]),e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(0)),a=o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}var r=new RegExp("^(abbr|align|alt|axis|bgcolor|border|cellpadding|cellspacing|class|clear|color|cols|compact|coords|dir|face|headers|height|hreflang|hspace|ismap|lang|language|nohref|nowrap|rel|rev|rows|rules|scope|scrolling|shape|size|span|start|summary|tabindex|target|title|type|valign|value|vspace|width|checked|mathvariant|encoding|id|name|background|cite|href|longdesc|src|usemap|xlink:href|data-+|checked|style)","g"),l=new RegExp("^(accent-height|accumulate|additive|alphabetic|arabic-form|ascent|baseProfile|bbox|begin|by|calcMode|cap-height|class|color|color-rendering|content|cx|cy|d|dx|dy|descent|display|dur|end|fill|fill-rule|font-family|font-size|font-stretch|font-style|font-variant|font-weight|from|fx|fy|g1|g2|glyph-name|gradientUnits|hanging|height|horiz-adv-x|horiz-origin-x|ideographic|k|keyPoints|keySplines|keyTimes|lang|marker-end|marker-mid|marker-start|markerHeight|markerUnits|markerWidth|mathematical|max|min|offset|opacity|orient|origin|overline-position|overline-thickness|panose-1|path|pathLength|points|preserveAspectRatio|r|refX|refY|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|rotate|rx|ry|slope|stemh|stemv|stop-color|stop-opacity|strikethrough-position|strikethrough-thickness|stroke|stroke-dasharray|stroke-dashoffset|stroke-linecap|stroke-linejoin|stroke-miterlimit|stroke-opacity|stroke-width|systemLanguage|target|text-anchor|to|transform|type|u1|u2|underline-position|underline-thickness|unicode|unicode-range|units-per-em|values|version|viewBox|visibility|width|widths|x|x-height|x1|x2|xlink:actuate|xlink:arcrole|xlink:role|xlink:show|xlink:title|xlink:type|xml:base|xml:lang|xml:space|xmlns|xmlns:xlink|y|y1|y2|zoomAndPan)","g"),s={href:/^(javascript:).*/g};t.default=function(e,t){var n=(0,i.default)("<div />");return e=e.replace(/<!--[\s\S]*?-->/g,""),n.append(e),function(e){e.find("script, iframe, textarea, form, button, select, meta, style, link, title, embed, object, details, summary").remove()}(n),function(e){e.find("*").each((function(e,t){var n=t.attributes,i=a.default.toArray(n).filter((function(e){var t=e.name.match(r),n=e.name.match(l);return!t&&!n}));a.default.forEachArray(i,(function(e){n.getNamedItem(e.name)&&n.removeNamedItem(e.name)}))}))}(n),function(e){var t=function(t){s.hasOwnProperty(t)&&e.find("["+t+"]").each((function(e,n){var i=n.attributes,a=s[t],o=i.getNamedItem(t);a&&o&&o.value.toLowerCase().match(a)&&i.removeNamedItem(t)}))};for(var n in s)t(n)}(n),function(e,t){var n=void 0;if(t)n=e[0].innerHTML;else{for(var i=document.createDocumentFragment(),o=a.default.toArray(e[0].childNodes),r=o.length,l=0;l<r;l+=1)i.appendChild(o[l]);n=i}return n}(n,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(1),r=(i=o)&&i.__esModule?i:{default:i};var l=/^(https?:\/\/)?([\da-z.-]+)\.([a-z.]{2,6})(\/([^\s]*))?$/g,s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.eventManager=t,this._initEvent(),this._initDefaultImageImporter()}return a(e,[{key:"_initEvent",value:function(){var e=this;this.eventManager.listen("drop",(function(t){var n=t.data.dataTransfer&&t.data.dataTransfer.files;e._processBlobItems(n,t.data)})),this.eventManager.listen("willPaste",(function(t){var n=t.data.fragment.querySelectorAll("*");if(1===n.length&&"IMG"===n[0].tagName&&/^data:image/.test(n[0].src)){t.data.preventDefault();var i=function(e){for(var t=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],i=new ArrayBuffer(t.length),a=new Uint8Array(i),o=0;o<t.length;o+=1)a[o]=t.charCodeAt(o);return new Blob([i],{type:n})}(n[0].src);e._emitAddImageBlobHook(i,"paste")}})),this.eventManager.listen("paste",(function(t){e._processClipboard(t.data)})),this.eventManager.listen("pasteBefore",(function(t){e._decodeURL(t)}))}},{key:"_initDefaultImageImporter",value:function(){this.eventManager.listen("addImageBlobHook",(function(e,t){var n=new FileReader;n.onload=function(e){t(e.target.result)},n.readAsDataURL(e)}))}},{key:"_emitAddImageBlobHook",value:function(e,t){var n=this;this.eventManager.emit("addImageBlobHook",e,(function(t,i){n.eventManager.emit("command","AddImage",{imageUrl:t,altText:i||e.name||"image"})}),t)}},{key:"_decodeURL",value:function(t){var n=e.decodeURIGraceful,i=e.encodeMarkdownCharacters;if("markdown"===t.source&&t.data.text){var a=t.data.text,o=a[0];1===a.length&&o.match(l)&&(o=i(o=n(o)),t.data.update(null,null,[o]))}else if("wysiwyg"===t.source){var r=t.$clipboardContainer.get(0),s=r.childNodes[0],u=s.innerText;1===r.childNodes.length&&"A"===s.tagName&&u.match(l)&&(s.innerText=n(u),s.href=i(s.href))}}},{key:"_processClipboard",value:function(e){var t=e.clipboardData||window.clipboardData,n=t&&t.items,i=t.types;n&&i&&1===i.length&&-1!==r.default.inArray("Files",[].slice.call(i))&&this._processBlobItems(n,e)}},{key:"_processBlobItems",value:function(e,t){var n=this;e&&r.default.forEachArray(e,(function(e){if(-1!==e.type.indexOf("image")){t.preventDefault(),t.stopPropagation(),t.codemirrorIgnore=!0;var i=e.name?e:e.getAsFile();return n._emitAddImageBlobHook(i,t.type),!1}return!0}))}}],[{key:"decodeURIGraceful",value:function(e){var t=e.split(" "),n=[],i=void 0;return r.default.forEachArray(t,(function(e){try{i=(i=decodeURIComponent(e)).replace(/ /g,"%20")}catch(t){i=e}return n.push(i)})),n.join(" ")}},{key:"encodeMarkdownCharacters",value:function(e){return e.replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\[/g,"%5B").replace(/\]/g,"%5D").replace(/</g,"%3C").replace(/>/g,"%3E")}},{key:"escapeMarkdownCharacters",value:function(e){return e.replace(/\(/g,"\\(").replace(/\)/g,"\\)").replace(/\[/g,"\\[").replace(/\]/g,"\\]").replace(/</g,"\\<").replace(/>/g,"\\>")}}]),e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}var r=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{name:t.name};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,a.default.extend({className:t.className},e)));return n._name=e.name,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"getName",value:function(){return this._name}}]),t}(o(n(8)).default);Object.defineProperty(r,"name",{enumerable:!0,writable:!0,value:"item"}),Object.defineProperty(r,"className",{enumerable:!0,writable:!0,value:"tui-toolbar-item"}),t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(13);var r=function(e){function t(e,n,i,a,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i,a,o));return r._initEvent(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"_initEvent",value:function(){var e=this,t="";this.eventManager.listen("contentChangedFromMarkdown",(function(n){t=n.getValue(),e.isVisible()&&e.lazyRunner.run("refresh",t)})),this.eventManager.listen("previewNeedsRefresh",(function(n){e.refresh(n||t)})),this.$el.on("scroll",(function(t){e.eventManager.emit("scroll",{source:"preview",data:t})}))}},{key:"render",value:function(e){(function e(t,n,i){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in a)return a.value;var r=a.get;return void 0!==r?r.call(i):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"render",this).call(this,e),this.eventManager.emit("previewRenderAfter",this)}},{key:"remove",value:function(){this.$el.off("scroll"),this.$el=null}}]),t}(((i=o)&&i.__esModule?i:{default:i}).default);t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=r(n(0)),o=r(n(21));function r(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t,n,i,a){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:800;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.eventManager=n,this.convertor=i,this.$el=t,this.isViewer=!!a,this._initContentSection(),this.lazyRunner=new o.default,this.lazyRunner.registerLazyRunFunction("refresh",this.refresh,r,this)}return i(e,[{key:"_initContentSection",value:function(){this._$previewContent=(0,a.default)('<div class="tui-editor-contents" />'),this.$el.append(this._$previewContent)}},{key:"refresh",value:function(e){this.render(this.convertor.toHTMLWithCodeHightlight(e))}},{key:"getHTML",value:function(){return this._$previewContent.html()}},{key:"setHTML",value:function(e){this._$previewContent.html(e)}},{key:"render",value:function(e){var t=this._$previewContent;e=this.eventManager.emit("previewBeforeHook",e)||e,t.empty(),t.html(e)}},{key:"setHeight",value:function(e){this.$el.get(0).style.height=e+"px"}},{key:"setMinHeight",value:function(e){this.$el.get(0).style.minHeight=e+"px"}},{key:"isVisible",value:function(){return"none"!==this.$el.css("display")}}]),e}();t.default=l},function(e,t,n){"use strict";var i=/Mac/.test(navigator.platform);e.exports={isMac:i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(1),r=(i=o)&&i.__esModule?i:{default:i};var l=["previewBeforeHook","previewRenderAfter","previewNeedsRefresh","addImageBlobHook","setMarkdownAfter","contentChangedFromWysiwyg","changeFromWysiwyg","contentChangedFromMarkdown","changeFromMarkdown","change","changeModeToWysiwyg","changeModeToMarkdown","changeModeBefore","changeMode","changePreviewStyle","changePreviewTabPreview","changePreviewTabWrite","openPopupAddLink","openPopupAddImage","openPopupAddTable","openPopupTableUtils","openHeadingSelect","openPopupCodeBlockLanguages","openPopupCodeBlockEditor","openDropdownToolbar","closePopupCodeBlockLanguages","closePopupCodeBlockEditor","closeAllPopup","command","addCommandBefore","htmlUpdate","markdownUpdate","renderedHtmlUpdated","removeEditor","convertorAfterMarkdownToHtmlConverted","convertorBeforeHtmlToMarkdownConverted","convertorAfterHtmlToMarkdownConverted","stateChange","wysiwygSetValueAfter","wysiwygSetValueBefore","wysiwygGetValueBefore","wysiwygProcessHTMLText","wysiwygRangeChangeAfter","wysiwygKeyEvent","scroll","click","mousedown","mouseover","mouseout","mouseup","contextmenu","keydown","keyup","keyMap","load","focus","blur","paste","pasteBefore","willPaste","copy","copyBefore","copyAfter","cut","cutAfter","drop","show","hide"],s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.events=new r.default.Map,this.TYPE=new r.default.Enum(l)}return a(e,[{key:"listen",value:function(e,t){var n=this._getTypeInfo(e),i=this.events.get(n.type)||[];if(!this._hasEventType(n.type))throw new Error("There is no event type "+n.type);n.namespace&&(t.namespace=n.namespace),i.push(t),this.events.set(n.type,i)}},{key:"emit",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t.shift(),a=this._getTypeInfo(i),o=this.events.get(a.type),l=void 0;return o&&r.default.forEach(o,(function(e){var n=e.apply(void 0,t);r.default.isUndefined(n)||(l=l||[]).push(n)})),l}},{key:"emitReduce",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t.shift(),a=this.events.get(i);return a&&r.default.forEach(a,(function(e){var n=e.apply(void 0,t);r.default.isFalsy(n)||(t[0]=n)})),t[0]}},{key:"_getTypeInfo",value:function(e){var t=e.split(".");return{type:t[0],namespace:t[1]}}},{key:"_hasEventType",value:function(e){return!r.default.isUndefined(this.TYPE[this._getTypeInfo(e).type])}},{key:"addEventType",value:function(e){if(this._hasEventType(e))throw new Error("There is already have event type "+e);this.TYPE.set(e)}},{key:"removeEventHandler",value:function(e,t){var n=this,i=this._getTypeInfo(e),a=i.type,o=i.namespace;a&&t?this._removeEventHandlerWithHandler(a,t):a&&!o?this.events.delete(a):!a&&o?this.events.forEach((function(e,t){n._removeEventHandlerWithTypeInfo(t,o)})):a&&o&&this._removeEventHandlerWithTypeInfo(a,o)}},{key:"_removeEventHandlerWithHandler",value:function(e,t){var n=this.events.get(e)||[],i=n.indexOf(t);i>=0&&n.splice(i,1)}},{key:"_removeEventHandlerWithTypeInfo",value:function(e,t){var n=[],i=this.events.get(e);i&&(i.map((function(e){return e.namespace!==t&&n.push(e),null})),this.events.set(e,n))}}]),e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(1),r=(i=o)&&i.__esModule?i:{default:i};var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.exts=new r.default.Map}return a(e,[{key:"defineExtension",value:function(e,t){this.exts.set(e,t)}},{key:"applyExtension",value:function(e,t){var n=this;t&&t.forEach((function(t){var i=r.default.isObject(t),a=i?t.name:t;if(n.exts.has(a)){var o=n.exts.get(a);i?o(e,t):o(e)}}))}}]),e}();t.default=new l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=y(n(0)),o=y(n(1)),r=y(n(23)),l=y(n(18)),s=y(n(9)),u=y(n(24)),c=y(n(25)),d=y(n(26)),f=y(n(27)),h=y(n(28)),g=y(n(29)),v=y(n(30)),p=n(31),m=y(n(7));function y(e){return e&&e.__esModule?e:{default:e}}var _=new r.default({html:!0,breaks:!0,quotes:"“”‘’",langPrefix:"lang-",highlight:function(e,t){return m.default.createCodeBlockHtml(t,e)}}),b=new r.default({html:!0,breaks:!0,quotes:"“”‘’",langPrefix:"lang-"});_.block.ruler.at("code",d.default),_.block.ruler.at("table",h.default,{alt:["paragraph","reference"]}),_.block.ruler.at("blockquote",f.default,{alt:["paragraph","reference","blockquote","list"]}),_.block.ruler.at("html_block",g.default,{alt:["paragraph","reference","blockquote"]}),_.inline.ruler.at("backticks",v.default),_.use(u.default),_.use(c.default),_.renderer.rules.softbreak=function(e,t,n){if(!n.breaks)return"\n";var i=e[t-1];return i&&"html_inline"===i.type&&"<br>"===i.content?"":n.xhtmlOut?"<br />\n":"<br>\n"},b.block.ruler.at("code",d.default),b.block.ruler.at("table",h.default,{alt:["paragraph","reference"]}),b.block.ruler.at("blockquote",f.default,{alt:["paragraph","reference","blockquote","list"]}),b.block.ruler.at("html_block",g.default,{alt:["paragraph","reference","blockquote"]}),b.inline.ruler.at("backticks",v.default),b.use(u.default),b.use(c.default);var k=new RegExp("(\\\\<|<)([A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*)(\\/?>)","g"),w=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.eventManager=t}return i(e,[{key:"_markdownToHtmlWithCodeHighlight",value:function(e,t){return e=this._replaceImgAttrToDataProp(e),_.render(e,t)}},{key:"_markdownToHtml",value:function(e,t){return e=e.replace(k,(function(e,t,n,i){return"\\"!==e[0]?""+t+n+" data-tomark-pass "+i:e})),e=this._replaceImgAttrToDataProp(e),b.render(e,t)}},{key:"_replaceImgAttrToDataProp",value:function(e){for(var t=/(<img[^>]*)(onerror\s*=\s*[\\"']?[^\\"']*[\\"']?)(.*)/i;t.exec(e);)e=e.replace(t,"$1$3");return e}},{key:"_removeBrToMarkPassAttributeInCode",value:function(e){var t=(0,a.default)("<div />");return t.html(e),t.find("code, pre").each((function(e,t){var n=(0,a.default)(t);n.html(n.html().replace(/\sdata-tomark-pass\s(\/?)&gt;/g,"$1&gt;"))})),e=t.html()}},{key:"toHTMLWithCodeHightlight",value:function(e){var t=this._markdownToHtmlWithCodeHighlight(e);return t=this.eventManager.emitReduce("convertorAfterMarkdownToHtmlConverted",t)}},{key:"toHTML",value:function(e){var t=this._markdownToHtml(e);return t=this.eventManager.emitReduce("convertorAfterMarkdownToHtmlConverted",t),t=this._removeBrToMarkPassAttributeInCode(t)}},{key:"initHtmlSanitizer",value:function(){this.eventManager.listen("convertorAfterMarkdownToHtmlConverted",(function(e){return(0,s.default)(e,!0)}))}},{key:"setLinkAttribute",value:function(e){var t=Object.keys(e),n=function(n,i){t.forEach((function(t){n[i].attrPush([t,e[t]])}))};_.use(p.linkAttribute,n),b.use(p.linkAttribute,n)}},{key:"toMarkdown",value:function(e,t){var n=[];e=this.eventManager.emitReduce("convertorBeforeHtmlToMarkdownConverted",e),e=this._appendAttributeForLinkIfNeed(e),e=this._appendAttributeForBrIfNeed(e);var i=(0,l.default)(e,t);return i=this.eventManager.emitReduce("convertorAfterHtmlToMarkdownConverted",i),i=this._removeNewlinesBeforeAfterAndBlockElement(i),o.default.forEach(i.split("\n"),(function(e,t){/^(<br>)+\||\|[^|]*\|/gi.test(e)?e=e.replace(/^(<br>)+\|/gi,(function(e){return e.replace(/<br>/gi,"<br>\n")})):/`[^`]*<br>[^`]*`/gi.test(e)||(e=e.replace(/<br>/gi,"<br>\n")),n[t]=e})),n.join("\n")}},{key:"_removeNewlinesBeforeAfterAndBlockElement",value:function(e){return e=(e=e.replace(/<br>\n\n(#{1,6} .*|```|\||(\*+|-+|\d+\.) .*| *>[^\n]+.*)/g,"<br>$1")).replace(/(#{1,6} .*|```|\|)\n\n<br>/g,"$1\n<br>")}},{key:"_appendAttributeForLinkIfNeed",value:function(e){return e.replace(/!?\[.*\]\(<\s*a[^>]*>(.*?)<\s*\/\s*a>\)/gi,(function(e){return e.replace(/<a /gi,'<a data-tomark-pass="" ')}))}},{key:"_appendAttributeForBrIfNeed",value:function(e){var t=new RegExp(/([^>]|<\/a>|<\/code>|<\/span>|<\/b>|<\/i>|<\/s>|<img [^>]*>)/.source+/<br data-tomark-pass \/><br data-tomark-pass \/>/.source,"g");return e=(e=(e=(e=(e=(e=(e=e.replace(/<br>/gi,"<br />")).replace(/<br \/><br \/>/gi,"<br data-tomark-pass /><br data-tomark-pass />")).replace(/<br data-tomark-pass="">/gi,"<br data-tomark-pass />")).replace(/<br data-tomark-pass \/><br \/>(.)/gi,"<br data-tomark-pass /><br data-tomark-pass />$1")).replace(t,"$1<br /><br />")).replace(/(.)<br \/><br \/>(<h[1-6]>|<pre>|<table>|<ul>|<ol>|<blockquote>)/g,"$1<br /><br data-tomark-pass />$2")).replace(/(<\/h[1-6]>|<\/pre>|<\/table>|<\/ul>|<\/ol>|<\/blockquote>)<br \/>(.)/g,"$1<br data-tomark-pass />$2")}}],[{key:"getMarkdownitHighlightRenderer",value:function(){return _}},{key:"getMarkdownitRenderer",value:function(){return b}}]),e}();t.default=w},function(e,t){e.exports=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=r(n(11)),o=r(n(35));function r(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{tagName:"button",name:t.name};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{name:e.name,tagName:"button",className:e.className+" "+t.className,rootElement:e.$el}));return n._setOptions(e),n._render(),n.on("click",n._onClick.bind(n)),e.tooltip&&(n.on("mouseover",n._onOver.bind(n)),n.on("mouseout",n._onOut.bind(n))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"setTooltip",value:function(e){this._tooltip=e}},{key:"_setOptions",value:function(e){this._command=e.command,this._event=e.event,this._text=e.text,this._tooltip=e.tooltip,this._style=e.style,this._state=e.state}},{key:"_render",value:function(){this.$el.text(this._text),this.$el.attr("type","button"),this._style&&this.$el.attr("style",this._style)}},{key:"_onClick",value:function(){this.isEnabled()&&(this._command?this.trigger("command",this._command):this._event&&this.trigger("event",this._event),this.trigger("clicked"))}},{key:"_onOver",value:function(){this.isEnabled()&&o.default.show(this.$el,this._tooltip)}},{key:"_onOut",value:function(){o.default.hide()}},{key:"enable",value:function(){this.$el.attr("disabled",!1)}},{key:"disable",value:function(){this.$el.attr("disabled",!0)}},{key:"isEnabled",value:function(){return!this.$el.attr("disabled")}}]),t}(a.default);Object.defineProperty(l,"name",{enumerable:!0,writable:!0,value:"button"}),Object.defineProperty(l,"className",{enumerable:!0,writable:!0,value:"tui-toolbar-icons"}),t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var a=["","","","CANCEL","","","HELP","","BACK_SPACE","TAB","","","CLEAR","ENTER","ENTER_SPECIAL","","","","","PAUSE","CAPS_LOCK","KANA","EISU","JUNJA","FINAL","HANJA","","ESCAPE","CONVERT","NONCONVERT","ACCEPT","MODECHANGE","SPACE","PAGE_UP","PAGE_DOWN","END","HOME","LEFT","UP","RIGHT","DOWN","SELECT","PRINT","EXECUTE","PRINTSCREEN","INSERT","DELETE","","0","1","2","3","4","5","6","7","8","9",":",";","<","=",">","?","AT","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","","","CONTEXT_MENU","","SLEEP","NUMPAD0","NUMPAD1","NUMPAD2","NUMPAD3","NUMPAD4","NUMPAD5","NUMPAD6","NUMPAD7","NUMPAD8","NUMPAD9","MULTIPLY","ADD","SEPARATOR","SUBTRACT","DECIMAL","DIVIDE","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","F13","F14","F15","F16","F17","F18","F19","F20","F21","F22","F23","F24","","","","","","","","","NUM_LOCK","SCROLL_LOCK","WIN_OEM_FJ_JISHO","WIN_OEM_FJ_MASSHOU","WIN_OEM_FJ_TOUROKU","WIN_OEM_FJ_LOYA","WIN_OEM_FJ_ROYA","","","","","","","","","","@","!",'"',"#","$","%","&","_","(",")","*","+","|","-","{","}","~","","","","","VOLUME_MUTE","VOLUME_DOWN","VOLUME_UP","","",";","=",",","-",".","/","`","","","","","","","","","","","","","","","","","","","","","","","","","","","[","\\","]","'","","META","ALTGR","","WIN_ICO_HELP","WIN_ICO_00","","WIN_ICO_CLEAR","","","WIN_OEM_RESET","WIN_OEM_JUMP","WIN_OEM_PA1","WIN_OEM_PA2","WIN_OEM_PA3","WIN_OEM_WSCTRL","WIN_OEM_CUSEL","WIN_OEM_ATTN","WIN_OEM_FINISH","WIN_OEM_COPY","WIN_OEM_AUTO","WIN_OEM_ENLW","WIN_OEM_BACKTAB","ATTN","CRSEL","EXSEL","EREOF","PLAY","ZOOM","","PA1","WIN_OEM_CLEAR",""],o=void 0,r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._setSplitter(t)}return i(e,[{key:"_setSplitter",value:function(e){var t=e?e.splitter:"+";this._splitter=t}},{key:"convert",value:function(e){var t=[];e.shiftKey&&t.push("SHIFT"),e.ctrlKey&&t.push("CTRL"),e.metaKey&&t.push("META"),e.altKey&&t.push("ALT");var n=this._getKeyCodeChar(e.keyCode);return n&&t.push(n),t.join(this._splitter)}},{key:"_getKeyCodeChar",value:function(e){return a[e]}}],[{key:"getSharedInstance",value:function(){return o||(o=new e),o}},{key:"keyCode",value:function(e){return a.indexOf(e)}}]),e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(1),r=(i=o)&&i.__esModule?i:{default:i};var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.globalTOID=null,this.lazyRunFunctions={}}return a(e,[{key:"run",value:function(e,t,n,i){var a=void 0;return r.default.isString(e)?a=this._runRegisteredRun(e,t,n,i):(a=this._runSingleRun(e,t,n,i,this.globalTOID),this.globalTOID=a),a}},{key:"registerLazyRunFunction",value:function(e,t,n,i){i=i||this,this.lazyRunFunctions[e]={fn:t,delay:n,context:i,TOID:null}}},{key:"_runSingleRun",value:function(e,t,n,i,a){return this._clearTOIDIfNeed(a),a=setTimeout((function(){e.call(n,t)}),i)}},{key:"_runRegisteredRun",value:function(e,t,n,i){var a=this.lazyRunFunctions[e],o=a.fn,r=a.TOID;return i=i||a.delay,n=n||a.context,r=this._runSingleRun(o,t,n,i,r),a.TOID=r,r}},{key:"_clearTOIDIfNeed",value:function(e){e&&clearTimeout(e)}}]),e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(1),r=(i=o)&&i.__esModule?i:{default:i};var l=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=t,this.type=n,i&&this.setKeyMap(i)}return a(e,[{key:"getName",value:function(){return this.name}},{key:"getType",value:function(){return this.type}},{key:"isMDType",value:function(){return this.type===e.TYPE.MD}},{key:"isWWType",value:function(){return this.type===e.TYPE.WW}},{key:"isGlobalType",value:function(){return this.type===e.TYPE.GB}},{key:"setKeyMap",value:function(e,t){this.keyMap=[e,t]}}]),e}();l.factory=function(e,t){var n=void 0;"markdown"===e?n=l.TYPE.MD:"wysiwyg"===e?n=l.TYPE.WW:"global"===e&&(n=l.TYPE.GB);var i=new l(t.name,n);return r.default.extend(i,t),i},l.TYPE={MD:0,WW:1,GB:2},t.default=l},function(e,t){e.exports=a},function(e,t,n){"use strict";function i(e){e.content=e.content.slice(4),e.children[0].content=e.children[0].content.slice(4)}function a(e){var t=!1;return 0!==e.content.indexOf("[x]")&&0!==e.content.indexOf("[X]")||(t=!0),t}function o(e,t,n){var i=e.attrIndex(t),a=[t,n];i<0?e.attrPush(a):e.attrs[i]=a}function r(e,t){return"inline"===e[t].type&&"paragraph_open"===e[t-1].type&&"list_item_open"===e[t-2].type&&(0===e[t].content.indexOf("[ ]")||0===e[t].content.indexOf("[x]")||0===e[t].content.indexOf("[X]"))}e.exports=function(e){e.core.ruler.after("inline","tui-task-list",(function(e){var t,n,l=e.tokens;for(n=2;n<l.length;n+=1)r(l,n)&&(t=a(l[n])?"task-list-item checked":"task-list-item",i(l[n]),o(l[n-2],"class",t),o(l[n-2],"data-te-task",""))}))}},function(e,t,n){"use strict";function i(e,t,n){var i=e.attrIndex(t),a=[t,n];i<0?e.attrPush(a):e.attrs[i]=a}e.exports=function(e){e.core.ruler.after("block","tui-code-block",(function(e){var t,n,a,o,r,l,s=e.tokens;for(n=0;n<s.length;n+=1)t=s[n],!0===(l=t).block&&"code"===l.tag&&"fence"===l.type&&((a=t.markup.length)>3&&i(t,"data-backticks",a),t.info&&i(t,"data-language",(o=t.info.replace(" ",""),r=!0,o.replace(r?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"))))}))}},function(e,t,n){"use strict";e.exports=function(e,t,n){var i,a,o,r=0;if(e.src.split("\n")[t].match(/ {0,3}(?:-|\*|\d\.) /)||e.sCount[t]-e.blkIndent<4)return!1;for(a=i=t+1;i<n;)if(e.isEmpty(i)){if(++r>=2&&"list"===e.parentType)break;i++}else{if(r=0,!(e.sCount[i]-e.blkIndent>=4))break;a=++i}return e.line=a,(o=e.push("code_block","code",0)).content=e.getLines(t,a,4+e.blkIndent,!0),o.map=[t,e.line],!0}},function(e,t,n){"use strict";function i(e){switch(e){case 9:case 32:return!0}return!1}e.exports=function(e,t,n,a){var o,r,l,s,u,c,d,f,h,g,v,p,m,y,_,b,k,w,C,E,M=e.lineMax,T=e.bMarks[t]+e.tShift[t],S=e.eMarks[t],O=e.src.split("\n")[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(62!==e.src.charCodeAt(T++))return!1;if(O.match(/(?:-|\*|\d+\.) {1,4}(?:> {0,3})[^>]*$/))return!1;if(a)return!0;for(s=h=e.sCount[t]+T-(e.bMarks[t]+e.tShift[t]),32===e.src.charCodeAt(T)?(T++,s++,h++,o=!1,b=!0):9===e.src.charCodeAt(T)?(b=!0,(e.bsCount[t]+h)%4==3?(T++,s++,h++,o=!1):o=!0):b=!1,g=[e.bMarks[t]],e.bMarks[t]=T;T<S&&i(r=e.src.charCodeAt(T));)9===r?h+=4-(h+e.bsCount[t]+(o?1:0))%4:h++,T++;for(v=[e.bsCount[t]],e.bsCount[t]=e.sCount[t]+1+(b?1:0),c=T>=S,y=[e.sCount[t]],e.sCount[t]=h-s,_=[e.tShift[t]],e.tShift[t]=T-e.bMarks[t],w=e.md.block.ruler.getRules("blockquote"),m=e.parentType,e.parentType="blockquote",E=!1,f=t+1;f<n&&(e.sCount[f]<e.blkIndent&&(E=!0),!((T=e.bMarks[f]+e.tShift[f])>=(S=e.eMarks[f])));f++)if(62!==e.src.charCodeAt(T++)||E){if(c)break;for(k=!1,l=0,u=w.length;l<u;l++)if(w[l](e,f,n,!0)){k=!0;break}if(k){e.lineMax=f,0!==e.blkIndent&&(g.push(e.bMarks[f]),v.push(e.bsCount[f]),_.push(e.tShift[f]),y.push(e.sCount[f]),e.sCount[f]-=e.blkIndent);break}g.push(e.bMarks[f]),v.push(e.bsCount[f]),_.push(e.tShift[f]),y.push(e.sCount[f]),e.sCount[f]=-1}else{for(s=h=e.sCount[f]+T-(e.bMarks[f]+e.tShift[f]),32===e.src.charCodeAt(T)?(T++,s++,h++,o=!1,b=!0):9===e.src.charCodeAt(T)?(b=!0,(e.bsCount[f]+h)%4==3?(T++,s++,h++,o=!1):o=!0):b=!1,g.push(e.bMarks[f]),e.bMarks[f]=T;T<S&&i(r=e.src.charCodeAt(T));)9===r?h+=4-(h+e.bsCount[f]+(o?1:0))%4:h++,T++;c=T>=S,v.push(e.bsCount[f]),e.bsCount[f]=e.sCount[f]+1+(b?1:0),y.push(e.sCount[f]),e.sCount[f]=h-s,_.push(e.tShift[f]),e.tShift[f]=T-e.bMarks[f]}for(p=e.blkIndent,e.blkIndent=0,(C=e.push("blockquote_open","blockquote",1)).markup=">",C.map=d=[t,0],e.md.block.tokenize(e,t,f),(C=e.push("blockquote_close","blockquote",-1)).markup=">",e.lineMax=M,e.parentType=m,d[1]=e.line,l=0;l<_.length;l++)e.bMarks[l+t]=g[l],e.tShift[l+t]=_[l],e.sCount[l+t]=y[l],e.bsCount[l+t]=v[l];return e.blkIndent=p,!0}},function(e,t,n){"use strict";function i(e,t){var n=e.bMarks[t]+e.blkIndent,i=e.eMarks[t];return e.src.substr(n,i-n)}function a(e){var t,n=[],i=0,a=e.length,o=0,r=0,l=!1,s=0;for(t=e.charCodeAt(i);i<a;)96===t&&o%2==0?(l=!l,s=i):124!==t||o%2!=0||l?92===t?o+=1:o=0:(n.push(e.substring(r,i)),r=i+1),(i+=1)===a&&l&&(l=!1,i=s+1),t=e.charCodeAt(i);return n.push(e.substring(r)),n}e.exports=function(e,t,n,o){var r,l,s,u,c,d,f,h,g,v,p,m,y;if(t+2>n)return!1;if(c=t+1,e.sCount[c]<e.blkIndent)return!1;if((s=e.bMarks[c]+e.tShift[c])>=e.eMarks[c])return!1;if(124!==(r=e.src.charCodeAt(s))&&45!==r&&58!==r)return!1;if(l=i(e,t+1),!/^[-:| ]+$/.test(l))return!1;for(d=l.split("|"),g=[],u=0;u<d.length;u+=1){if(!(p=d[u].trim())){if(0===u||u===d.length-1)continue;return!1}if(!/^:?-+:?$/.test(p))return!1;58===p.charCodeAt(p.length-1)?g.push(58===p.charCodeAt(0)?"center":"right"):58===p.charCodeAt(0)?g.push("left"):g.push("")}if(v=g.length,-1===(l=i(e,t).trim()).indexOf("|"))return!1;if((f=(d=a(l.replace(/^\||\|$/g,""))).length)>v)return!1;if(f<v){for(u=0;u<v-f;u+=1)d.push("");f=d.length}if(o)return!0;for((h=e.push("table_open","table",1)).map=m=[t,0],(h=e.push("thead_open","thead",1)).map=[t,t+1],(h=e.push("tr_open","tr",1)).map=[t,t+1],u=0;u<f;u+=1)(h=e.push("th_open","th",1)).map=[t,t+1],g[u]&&(h.attrs=[["align",g[u]]]),(h=e.push("inline","",0)).content=d[u].trim(),h.map=[t,t+1],h.children=[],h=e.push("th_close","th",-1);for(h=e.push("tr_close","tr",-1),h=e.push("thead_close","thead",-1),(h=e.push("tbody_open","tbody",1)).map=y=[t+2,0],c=t+2;c<n&&!(e.sCount[c]<e.blkIndent)&&-1!==(l=i(e,c)).indexOf("|");c+=1){for(d=a(l.replace(/^\||\|\s*$/g,"")),h=e.push("tr_open","tr",1),u=0;u<f;u+=1)h=e.push("td_open","td",1),g[u]&&(h.attrs=[["align",g[u]]]),(h=e.push("inline","",0)).content=d[u]?d[u].trim():"",h.children=[],h=e.push("td_close","td",-1);h=e.push("tr_close","tr",-1)}return h=e.push("tbody_close","tbody",-1),h=e.push("table_close","table",-1),m[1]=y[1]=c,e.line=c,!0}},function(e,t,n){"use strict";var i=[[/^<(script|pre|style)(?=(\s|>|$))/i,/<\/(script|pre|style)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^<("+["area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"].join("|")+")","i"),/^\/?>$/,!0],[new RegExp("^</?(address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h1|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|pre|section|source|title|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?=(\\s|/?>|$))","i"),/^$/,!0],[/^(?:<[A-Za-z][A-Za-z0-9\-]*(?:\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\s*=\s*(?:[^"'=<>`\x00-\x20]+|'[^']*'|"[^"]*"))?)*\s*\/?>|<\/[A-Za-z][A-Za-z0-9\-]*\s*>)\s*$/,/^$/,!1]];e.exports=function(e,t,n,a){var o,r,l,s,u=e.bMarks[t]+e.tShift[t],c=e.eMarks[t];if(!e.md.options.html)return!1;if(60!==e.src.charCodeAt(u))return!1;for(s=e.src.slice(u,c),o=0;o<i.length;o++)if(i[o][0].test(s)){if(5===o)return!1;break}if(o===i.length)return!1;if(a)return i[o][2];if(r=t+1,!i[o][1].test(s))for(;r<n&&!(e.sCount[r]<e.blkIndent);r++)if(u=e.bMarks[r]+e.tShift[r],c=e.eMarks[r],s=e.src.slice(u,c),i[o][1].test(s)){0!==s.length&&r++;break}return e.line=r,(l=e.push("html_block","",0)).map=[t,r],l.content=e.getLines(t,r,e.blkIndent,!0),!0}},function(e,t,n){"use strict";e.exports=function(e,t){var n,i,a,o,r,l,s=e.pos;if(96!==e.src.charCodeAt(s))return!1;for(n=s,s++,i=e.posMax;s<i&&96===e.src.charCodeAt(s);)s++;for(a=e.src.slice(n,s),o=r=s;-1!==(o=e.src.indexOf("`",r));){for(r=o+1;r<i&&96===e.src.charCodeAt(r);)r++;if(r-o===a.length)return t||((l=e.push("code_inline","code",0)).markup=a,l.content=e.src.slice(s,o).replace(/[ \n]+/g," ").trim(),l.attrSet("data-backticks",l.markup.length)),e.pos=r,!0}return t||(e.pending+=a),e.pos+=a.length,!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.linkAttribute=function(e,t){!function(e,t,n,i){e.core.ruler.push(t,(function(e){var t,a,o;for(a=e.tokens.length-1;a>=0;a--)if("inline"===e.tokens[a].type)for(t=(o=e.tokens[a].children).length-1;t>=0;t--)o[t].type===n&&i(o,t)}))}(e,"url_attribute","link_open",t)}},function(e,t){e.exports=o},function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=g(n(0)),o=g(n(1)),r=g(n(12)),l=g(n(15)),s=g(n(2)),u=g(n(16)),c=g(n(17)),d=g(n(4)),f=n(7),h=g(f);function g(e){return e&&e.__esModule?e:{default:e}}var v=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=a.default.extend({useDefaultHTMLSanitizer:!0,codeBlockLanguages:f.CodeBlockManager.getHighlightJSLanguages(),customConvertor:null},t),this.eventManager=new l.default,this.commandManager=new s.default(this),this.options.customConvertor?this.convertor=new this.options.customConvertor(this.eventManager):this.convertor=new c.default(this.eventManager),this.options.useDefaultHTMLSanitizer&&this.convertor.initHtmlSanitizer(),this.options.hooks&&o.default.forEach(this.options.hooks,(function(e,t){n.addHook(t,e)})),this.options.events&&o.default.forEach(this.options.events,(function(e,t){n.on(t,e)}));var i=this.options,d=i.el,h=i.initialValue,g=d.innerHTML;d.innerHTML="",this.preview=new r.default((0,a.default)(d),this.eventManager,this.convertor,!0),this.preview.$el.on("mousedown",a.default.proxy(this._toggleTask,this)),u.default.applyExtension(this,this.options.exts),h?this.setValue(h):g&&this.preview.setHTML(g),this.eventManager.emit("load",this)}return i(e,[{key:"_toggleTask",value:function(e){var t=getComputedStyle(e.target,":before");e.target.hasAttribute("data-te-task")&&d.default.isInsideTaskBox(t,e.offsetX,e.offsetY)&&((0,a.default)(e.target).toggleClass("checked"),this.eventManager.emit("change",{source:"viewer",data:e}))}},{key:"setMarkdown",value:function(e){this.markdownValue=e=e||"",this.preview.refresh(this.markdownValue),this.eventManager.emit("setMarkdownAfter",this.markdownValue)}},{key:"setValue",value:function(e){this.setMarkdown(e)}},{key:"on",value:function(e,t){this.eventManager.listen(e,t)}},{key:"off",value:function(e){this.eventManager.removeEventHandler(e)}},{key:"remove",value:function(){this.eventManager.emit("removeEditor"),this.preview.$el.off("mousedown",a.default.proxy(this._toggleTask,this)),this.preview.remove(),this.options=null,this.eventManager=null,this.commandManager=null,this.convertor=null,this.preview=null}},{key:"addHook",value:function(e,t){this.eventManager.removeEventHandler(e),this.eventManager.listen(e,t)}},{key:"isViewer",value:function(){return!0}},{key:"isMarkdownMode",value:function(){return!1}},{key:"isWysiwygMode",value:function(){return!1}}],[{key:"defineExtension",value:function(e,t){u.default.defineExtension(e,t)}}]),e}();v.isViewer=!0,v.domUtils=d.default,v.codeBlockManager=h.default,v.markdownitHighlight=c.default.getMarkdownitHighlightRenderer(),v.markdownit=c.default.getMarkdownitRenderer(),v.i18n=null,v.Button=null,v.WwCodeBlockManager=null,v.WwTableManager=null,v.WwTableSelectionManager=null,e.exports=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=t.removeSyntax=function(e,t){var n=t.length;return e.substr(n,e.length-2*n)},a=t.appendSyntax=function(e,t){return""+t+e+t},o=t.expandReplace=function(e,t,n,i,a){var o=function(e,t){var n=e.start,i=e.end,a=void 0;n.ch>=t&&(a={from:{line:n.line,ch:n.ch-t},to:{line:i.line,ch:i.ch+t}});return a}(t,n),r=!1;if(o){var l=o.from,s=o.to,u=e.getRange(l,s);i(u)&&(e.setSelection(l,s),e.replaceSelection(a(u),"around"),r=!0)}return r},r=t.replace=function(e,t,n,i){var a=!1;return n(t)&&(e.replaceSelection(i(t),"around"),a=!0),a};t.changeSyntax=function(e,t,n,l,s){var u=e.getCursor(),c=u.line,d=u.ch,f=e.getSelection(),h=n.length,g=function(e){return l.test(e)};if(!o(e,t,h,g,(function(e){return i(e,n)}))&&!r(e,f,g,(function(e){return i(e,n)}))){var v=f.replace(s,"$1");e.replaceSelection(a(v,n),"around")}var p=e.getSelection(),m=d;f||(g(p)?m+=h:m-=h,e.setCursor(c,m))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(0),r=(i=o)&&i.__esModule?i:{default:i};var l='<div class="tui-tooltip"><div class="arrow"></div><span class="text"></span></span></div>',s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$el=(0,r.default)(l),this.$el.appendTo("body"),this.hide()}return a(e,[{key:"show",value:function(e,t){this.$el.css({top:e.offset().top+e.height()+13,left:e.offset().left+3}).find(".text").html(t).end().show()}},{key:"hide",value:function(){this.$el.hide()}},{key:"remove",value:function(){this.$el.remove()}}]),e}();t.default=new s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=r(n(0)),o=r(n(6));function r(e){return e&&e.__esModule?e:{default:e}}n(48),n(49),n(50),n(51),n(52),n(53),n(54);var l=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.editorContainerEl=t,this.cm=null,this._init(n)}return i(e,[{key:"_init",value:function(e){var t=document.createElement("textarea");this.editorContainerEl.appendChild(t),e=a.default.extend(!0,{lineWrapping:!0,theme:"default",extraKeys:{"Shift-Tab":"indentLess","Alt-Up":"replaceLineTextToUpper","Alt-Down":"replaceLineTextToLower"},indentUnit:4,cursorScrollMargin:12,specialCharPlaceholder:function(){return document.createElement("span")}},e),this.cm=o.default.fromTextArea(t,e)}},{key:"getCurrentRange",value:function(){var e=this.cm.getCursor("from"),t=this.cm.getCursor("to");return{from:e,to:t,collapsed:e.line===t.line&&e.ch===t.ch}}},{key:"focus",value:function(){this.cm.focus()}},{key:"blur",value:function(){this.cm.getInputField().blur()}},{key:"remove",value:function(){this.cm.toTextArea()}},{key:"setValue",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.cm.setValue(e),t&&this.moveCursorToEnd(),this.cm.doc.clearHistory(),this.cm.refresh()}},{key:"getValue",value:function(){return this.cm.getValue("\n")}},{key:"getEditor",value:function(){return this.cm}},{key:"reset",value:function(){this.setValue("")}},{key:"getCaretPosition",value:function(){return this.cm.cursorCoords()}},{key:"addWidget",value:function(e,t,n,i){i&&(e.ch+=i),this.cm.addWidget(e.end,t,!0,n)}},{key:"replaceSelection",value:function(e,t){t&&this.cm.setSelection(t.from,t.to),this.cm.replaceSelection(e),this.focus()}},{key:"replaceRelativeOffset",value:function(e,t,n){var i=this.cm.getCursor(),a={from:{line:i.line,ch:i.ch+t},to:{line:i.line,ch:i.ch+t+n}};this.replaceSelection(e,a)}},{key:"setHeight",value:function(e){this.getWrapperElement().style.height=e+"px"}},{key:"setMinHeight",value:function(e){this.getWrapperElement().style.minHeight=e+"px"}},{key:"setPlaceholder",value:function(e){e&&this.cm.setOption("placeholder",e)}},{key:"getWrapperElement",value:function(){return this.cm.getWrapperElement()}},{key:"getCursor",value:function(e){return this.cm.getCursor(e)}},{key:"moveCursorToEnd",value:function(){var e=this.getEditor().getDoc(),t=e.lastLine();e.setCursor(t,e.getLine(t).length)}},{key:"moveCursorToStart",value:function(){var e=this.getEditor().getDoc(),t=e.firstLine();e.setCursor(t,0)}},{key:"scrollTop",value:function(e){return e&&this.cm.scrollTo(0,e),this.cm.getScrollInfo().top}},{key:"getRange",value:function(){var e=this.cm.getCursor("from"),t=this.cm.getCursor("to");return{start:{line:e.line,ch:e.ch},end:{line:t.line,ch:t.ch}}}},{key:"on",value:function(e,t){this.cm.on(e,t)}},{key:"off",value:function(e,t){this.cm.off(e,t)}}]),e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._managers={},this._editor=t}return i(e,[{key:"addManager",value:function(e,t){t||(t=e,e=null);var n=new t(this._editor);this._managers[e||n.name]=n}},{key:"getManager",value:function(e){return this._managers[e]}},{key:"removeManager",value:function(e){var t=this.getManager(e);t&&(t.destroy&&t.destroy(),delete this._managers[e])}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=l(n(0)),o=l(n(1)),r=l(n(4));function l(e){return e&&e.__esModule?e:{default:e}}var s=o.default.browser.msie&&10===o.default.browser.version,u=o.default.browser.msie&&(10===o.default.browser.version||11===o.default.browser.version),c=o.default.browser.msie?"":"<br>",d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.wwe=t,this.eventManager=t.eventManager,this.name="table",this._lastCellNode=null,this._init()}return i(e,[{key:"_init",value:function(){this._initKeyHandler(),this._initEvent(),this.tableID=0}},{key:"_initEvent",value:function(){var e=this;this.eventManager.listen("wysiwygRangeChangeAfter.table",(function(){var t=e.wwe.getEditor().getSelection(),n=e.wwe.isInTable(t);(e._unwrapBlockInTable(),e._completeTableIfNeed(),n)||e.wwe.componentManager.getManager("tableSelection").removeClassAttrbuteFromAllCellsIfNeed();e._insertDefaultBlockBetweenTable()})),this.eventManager.listen("wysiwygSetValueAfter.table",(function(){e._unwrapBlockInTable(),e._insertDefaultBlockBetweenTable()})),this.eventManager.listen("wysiwygProcessHTMLText.table",(function(e){return e.replace(/<br \/>(<\/td>|<\/th>)/g,"$1")})),this.eventManager.listen("cut.table",(function(){var t=e.wwe.componentManager.getManager("tableSelection"),n=t.getSelectedCells();n.length&&n.get().forEach((function(e){return(0,a.default)(e).html(c)})),t.removeClassAttrbuteFromAllCellsIfNeed()})),this.eventManager.listen("copyBefore.table",(function(t){var n=t.$clipboardContainer;return e.updateTableHtmlOfClipboardIfNeed(n)}))}},{key:"updateTableHtmlOfClipboardIfNeed",value:function(e){var t=this,n=this.wwe.componentManager.getManager("tableSelection");if(n.getSelectedCells().length){n.createRangeBySelectedCells();var i=this.wwe.getEditor().getSelection().cloneContents();(0,a.default)(i).children().each((function(e,n){var i=(0,a.default)(n);t.isTableOrSubTableElement(n.nodeName)&&("TABLE"===n.nodeName&&0===i.find("thead").length&&0===i.find("tbody").length?i.remove():n.previousSibling&&"TABLE"===n.previousSibling.nodeName?n.previousSibling.appendChild(n):(t._completeIncompleteTable(n),"TABLE"!==n.nodeName&&"THEAD"!==n.nodeName&&(0,a.default)(n).closest("table").find("thead").remove()))})),e.append(i),e.find(".te-cell-selected").removeClass("te-cell-selected")}}},{key:"pasteTableData",value:function(e){var t=(0,a.default)(e);this._expandTableIfNeed(t),this._pasteDataIntoTable(t)}},{key:"_initKeyHandler",value:function(){var e=this;this.keyEventHandlers={DEFAULT:function(t,n,i){var a=e.wwe.isInTable(n);a&&!e._isModifierKey(i)?(e._recordUndoStateIfNeed(n),e._removeContentsAndChangeSelectionIfNeed(n,i,t)):!a&&e._lastCellNode&&e._recordUndoStateAndResetCellNode(n),a&&!e._isModifierKeyPushed(t)&&e.wwe.getEditor().modifyDocument((function(){e.wwe.componentManager.getManager("tableSelection").removeClassAttrbuteFromAllCellsIfNeed()}))},ENTER:function(t,n){var i=void 0;return e._isAfterTable(n)?(t.preventDefault(),n.setStart(n.startContainer,n.startOffset-1),e.wwe.breakToNewDefaultBlock(n),i=!1):e._isBeforeTable(n)?(t.preventDefault(),e.wwe.breakToNewDefaultBlock(n,"before"),i=!1):e.wwe.isInTable(n)&&(!e._isInList(n.startContainer)&&e._isInStyledText(n)?e.wwe.defer((function(){e._removeBRinStyleText()})):e._isEmptyFirstLevelLI(n)&&e.wwe.defer((function(){var t=e.wwe.getRange().cloneRange(),n=t.startContainer,i=document.createElement("br");n.parentNode.replaceChild(i,n),t.setStartBefore(i),t.collapse(!0),e.wwe.getEditor().setSelection(t)})),e._appendBrIfTdOrThNotHaveAsLastChild(n),i=!1),i},BACK_SPACE:function(t,n,i){return e._handleBackspaceAndDeleteKeyEvent(t,n,i)},DELETE:function(t,n,i){return e._handleBackspaceAndDeleteKeyEvent(t,n,i)},TAB:function(){return e._moveCursorTo("next","cell")},"SHIFT+TAB":function(t){return e._moveCursorTo("previous","cell",t)},UP:function(t){return e._moveCursorTo("previous","row",t)},DOWN:function(t){return e._moveCursorTo("next","row",t)}},o.default.forEach(this.keyEventHandlers,(function(t,n){return e.wwe.addKeyEventHandler(n,t)}))}},{key:"_isEmptyListItem",value:function(e){var t=e.childNodes;return"LI"===e.nodeName&&1===t.length&&"BR"===t[0].nodeName}},{key:"_isEmptyFirstLevelLI",value:function(e){var t=e.collapsed,n=e.startContainer,i=e.startOffset;return t&&0===i&&this._isEmptyListItem(n)&&r.default.isFirstLevelListItem(n)}},{key:"_isInStyledText",value:function(e){var t=e.startContainer,n=void 0;return n=r.default.isTextNode(t)?t.parentNode:t,e.collapsed&&r.default.isStyledNode(n)}},{key:"_removeBRinStyleText",value:function(){var e=this.wwe.getRange(),t=e.startContainer,n=e.startOffset,i=void 0,a=(i="TD"===t.nodeName?r.default.getChildNodeByOffset(t,n-1):r.default.getParentUntil(t,"TD")).querySelector("br");if(a){var o=i,l=o.parentNode,s=o.nodeName;if("CODE"!==s||a.previousSibling)if("CODE"!==s||a.nextSibling){var u=this._splitByBR(i,a);e.setStart(u,0)}else l.insertBefore(a,i.nextSibling),e.setStart(l,r.default.getNodeOffsetOfParent(a)+1);else l.insertBefore(a,i),e.setStart(i,0);e.collapse(!0),this.wwe.getEditor().setSelection(e)}}},{key:"_splitByBR",value:function(e,t){var n=e.cloneNode(!0),i=document.createElement("br"),a=e.parentNode;r.default.removeNodesByDirection(e,t,!1),t.parentNode.removeChild(t);var o=n.querySelector("br");r.default.removeNodesByDirection(n,o,!0),o.parentNode.removeChild(o),a.insertBefore(n,e.nextSibling),a.insertBefore(i,n);var l=r.default.getLeafNode(n);return r.default.getTextLength(l)||(l.textContent="​"),l}},{key:"_isBeforeTable",value:function(e){return"TABLE"===r.default.getNodeName(r.default.getChildNodeByOffset(e.startContainer,e.startOffset))}},{key:"_isAfterTable",value:function(e){var t=r.default.getPrevOffsetNodeUntil(e.startContainer,e.startOffset);return"TABLE"===r.default.getNodeName(t)&&e.commonAncestorContainer===this.wwe.get$Body()[0]}},{key:"_handleBackspaceAndDeleteKeyEvent",value:function(e,t,n){var i="BACK_SPACE"===n,a=this.wwe.componentManager.getManager("tableSelection").getSelectedCells(),o=!0;if(t.collapsed){if(this.wwe.isInTable(t))i?this._tableHandlerOnBackspace(t,e):this._tableHandlerOnDelete(t,e),this._removeContentsAndChangeSelectionIfNeed(t,n,e),o=!1;else if(!i&&this._isBeforeTable(t)||i&&this._isAfterTable(t)){e.preventDefault();var l=i?t.startOffset-1:t.startOffset;this._removeTable(t,r.default.getChildNodeByOffset(t.startContainer,l)),o=!1}}else if(this.wwe.isInTable(t)){if(a.length>0)this._removeContentsAndChangeSelectionIfNeed(t,n,e)&&(e.preventDefault(),o=!1)}return o}},{key:"_moveListItemToPreviousOfList",value:function(e,t){var n=e.parentNode,i=e.firstChild,a=document.createDocumentFragment();r.default.mergeNode(e,a),n.parentNode.insertBefore(a,n),t.setStart(i,0),t.collapse(!0),this.wwe.getEditor().setSelection(t),n.hasChildNodes()||n.parentNode.removeChild(n)}},{key:"_isInList",value:function(e){return r.default.getParentUntilBy(e,(function(e){return e&&(r.default.isListNode(e)||"LI"===e.nodeName)}),(function(e){return e&&("TD"===e.nodeName||"TH"===e.nodeName)}))}},{key:"_findListItem",value:function(e){return r.default.getParentUntilBy(e,(function(e){return e&&r.default.isListNode(e)}),(function(e){return e&&("TD"===e.nodeName||"TH"===e.nodeName)}))}},{key:"_tableHandlerOnBackspace",value:function(e,t){var n=e.startContainer,i=e.startOffset,o=this._findListItem(n);if(o&&0===i&&r.default.isFirstListItem(o)&&r.default.isFirstLevelListItem(o))this.wwe.getEditor().saveUndoState(e),this._moveListItemToPreviousOfList(o,e),t.preventDefault();else{var l=r.default.getPrevOffsetNodeUntil(n,i,"TR");"BR"===r.default.getNodeName(l)&&1!==l.parentNode.childNodes.length&&(t.preventDefault(),(0,a.default)(l).remove())}}},{key:"_isDeletingBR",value:function(e){var t=this._getCurrentNodeInCell(e),n=t&&t.nextSibling;return"BR"===r.default.getNodeName(t)&&!!n&&"BR"===r.default.getNodeName(n)}},{key:"_getCurrentNodeInCell",value:function(e){var t=e.startContainer,n=e.startOffset,i=void 0;return"TD"===r.default.getNodeName(t)?i=r.default.getChildNodeByOffset(t,n):r.default.getParentUntil(t,"TD")&&(i=t),i}},{key:"_isEndOfList",value:function(e,t){var n=t.startContainer,i=t.startOffset,a=!1;if(!e.nextSibling)if(e===n){var o=r.default.getOffsetLength(e);"BR"===e.lastChild.nodeName&&(o-=1),a=o===i}else{var l=r.default.getParentUntil(n,"li")||n,s=r.default.getOffsetLength(n),u=e.lastChild;"BR"===u.nodeName&&(u=u.previousSibling),a=u===l&&s===i}return a}},{key:"_getNextLineNode",value:function(e){for(var t=document.createDocumentFragment(),n=r.default.getParentUntil(e,"TD").nextSibling;n;){var i=n.nextSibling;if(t.appendChild(n),"BR"===n.nodeName)break;n=i}return t}},{key:"_tableHandlerOnDelete",value:function(e,t){var n=this._findListItem(e.startContainer);if(n&&this._isEndOfList(n,e))this.wwe.getEditor().saveUndoState(e),"BR"===n.lastChild.nodeName&&n.removeChild(n.lastChild),r.default.mergeNode(this._getNextLineNode(n),n),t.preventDefault();else if(this._isDeletingBR(e)){var i=this._getCurrentNodeInCell(e);i.parentNode.removeChild(i.nextSibling),t.preventDefault()}}},{key:"_appendBrIfTdOrThNotHaveAsLastChild",value:function(e){var t=r.default.getNodeName(e.startContainer),n=void 0;if("TD"===t||"TH"===t)n=e.startContainer;else{var i=(0,a.default)(e.startContainer).parentsUntil("tr");n=i[i.length-1]}var o=r.default.getNodeName(n.lastChild);"BR"===o||"DIV"===o||"UL"===o||"OL"===o||u||(0,a.default)(n).append((0,a.default)("<br />")[0])}},{key:"_unwrapBlockInTable",value:function(){this.wwe.get$Body().find("td div,th div,tr>br,td>br,th>br").each((function(e,t){if("BR"===r.default.getNodeName(t)){var n=r.default.getNodeName(t.parentNode),i=/TD|TH/.test(n),o=0===t.parentNode.textContent.length,l=t.parentNode.lastChild===t;("TR"===n||i&&!o&&l)&&(0,a.default)(t).remove()}else(0,a.default)(t).children().unwrap()}))}},{key:"_insertDefaultBlockBetweenTable",value:function(){this.wwe.get$Body().find("table").each((function(e,t){t.nextElementSibling&&"TABLE"===t.nextElementSibling.nodeName&&(0,a.default)("<div><br /></div>").insertAfter(t)}))}},{key:"_removeTable",value:function(e,t){"TABLE"===t.tagName&&(this.wwe.getEditor().saveUndoState(e),this.wwe.saveSelection(e),(0,a.default)(t).remove(),this.wwe.restoreSavedSelection())}},{key:"_recordUndoStateIfNeed",value:function(e){var t=r.default.getParentUntil(e.startContainer,"TR");e.collapsed&&t&&this._lastCellNode!==t&&(this.wwe.getEditor().saveUndoState(e),this._lastCellNode=t)}},{key:"_recordUndoStateAndResetCellNode",value:function(e){this.wwe.getEditor().saveUndoState(e),this.resetLastCellNode()}},{key:"_pasteDataIntoTable",value:function(e){var t=this.wwe.getEditor().getSelection().startContainer,n=this._getTableDataFromTable(e),i="TD"===t.tagName||"TH"===t.tagName,o=s?"":"<br />",l=void 0,u=void 0,c=void 0,d=void 0;for(u=l=(l=i?t:(l=r.default.getParentUntilBy(t,(function(e){return"TD"===e.tagName||"TH"===e.tagName}),(function(e){return 0===(0,a.default)(e).closest("table").length})))?l.parentNode:null)||(0,a.default)(t).find("th,td").get(0);n.length;){for(c=n.shift();u&&c.length;)(d=c.shift()).length?u.textContent=d:u.innerHTML=o,u=r.default.getTableCellByDirection(u,"next");l=u=r.default.getSiblingRowCellByDirection(l,"next",!1)}}},{key:"_getTableDataFromTable",value:function(e){var t=(0,a.default)(e),n=[];return t.find("tr").each((function(e,t){var i=[];(0,a.default)(t).children().each((function(e,t){i.push(t.textContent)})),i.length&&n.push(i)})),n}},{key:"_removeTableContents",value:function(e){this.wwe.getEditor().saveUndoState(),e.each((function(e,t){var n=s?"":"<br />";(0,a.default)(t).html(n)}))}},{key:"wrapDanglingTableCellsIntoTrIfNeed",value:function(e){var t=e.children("td,th"),n=void 0;if(t.length){var i=(0,a.default)("<tr></tr>");t.each((function(e,t){i.append(t)})),n=i.get(0)}return n}},{key:"wrapTrsIntoTbodyIfNeed",value:function(e){var t=e.children("tr"),n=t.find("th"),i=void 0;if(n.length&&n.each((function(e,t){var n=(0,a.default)(t),i=(0,a.default)("<td></td>");i.html(n.html()),i.insertBefore(t),n.detach()})),t.length){var o=(0,a.default)("<tbody></tbody>");t.each((function(e,t){o.append(t)})),i=o.get(0)}return i}},{key:"wrapTheadAndTbodyIntoTableIfNeed",value:function(e){var t=e.children("thead"),n=e.children("tbody"),i=(0,a.default)("<table></table>"),o=void 0;return!n.length&&t.length?(i.append(t[0]),i.append("<tbody><tr></tr></tbody>"),o=i.get(0)):n.length&&!t.length?(i.append("<thead><tr></tr></thead>"),i.append(n[0]),o=i.get(0)):n.length&&t.length&&(i.append(t[0]),i.append(n[0]),o=i.get(0)),o}},{key:"isTableOrSubTableElement",value:function(e){return"TABLE"===e||"TBODY"===e||"THEAD"===e||"TR"===e||"TD"===e}},{key:"_stuffTableCellsIntoIncompleteRow",value:function(e,t){e.each((function(e,n){for(var i=(0,a.default)(n),o=i.find("th,td"),l="THEAD"===r.default.getNodeName(i.parent()[0])?"th":"td",s=o.length;s<t;s+=1)i.append((0,a.default)(f(1,l))[0])}))}},{key:"prepareToTableCellStuffing",value:function(e){var t=e.eq(0).find("th,td").length,n=!1;return e.each((function(e,i){var o=(0,a.default)(i).find("th,td").length;t!==o&&(n=!0,t<o&&(t=o))})),{maximumCellLength:t,needTableCellStuffingAid:n}}},{key:"_addTbodyOrTheadIfNeed",value:function(e){var t=!e.find("thead").length,n=!e.find("tbody").length,i=void 0;t?(i=(0,a.default)("<thead><tr></tr></thead>").get(0),e.prepend(i)):n&&(i=(0,a.default)("<tbody><tr></tr></tbody>").get(0),e.append(i))}},{key:"tableCellAppendAidForTableElement",value:function(e){var t=(0,a.default)(e);this._addTbodyOrTheadIfNeed(t),this._addTrIntoContainerIfNeed(t);var n=t.find("tr"),i=this.prepareToTableCellStuffing(n),o=i.maximumCellLength;i.needTableCellStuffingAid&&this._stuffTableCellsIntoIncompleteRow(n,o)}},{key:"_generateTheadAndTbodyFromTbody",value:function(e){var t=(0,a.default)("<tr></tr>"),n=(0,a.default)("<thead></thead>");return t.append(f((0,a.default)(e).find("tr").eq(0).find("td").length,"th")),n.append(t),{thead:n[0],tbody:e}}},{key:"_generateTheadAndTbodyFromThead",value:function(e){var t=(0,a.default)("<tr></tr>"),n=(0,a.default)("<tbody></tbody>");return t.append(f((0,a.default)(e).find("th").length,"td")),n.append(t),{thead:e,tbody:n[0]}}},{key:"_generateTheadAndTbodyFromTr",value:function(e){var t=(0,a.default)(e),n=(0,a.default)("<thead></thead>"),i=(0,a.default)("<tbody></tbody>"),o=void 0,r=void 0;return"TH"===t.children()[0].tagName?(o=e,r=(0,a.default)("<tr>"+f(t.find("th").length,"td")+"</tr>").get(0)):(o=(0,a.default)("<tr>"+f(t.find("td").length,"th")+"</tr>").get(0),r=e),n.append(o),i.append(r),{thead:n[0],tbody:i[0]}}},{key:"_completeIncompleteTable",value:function(e){var t=e.tagName,n=void 0,i=void 0;"TABLE"===t?n=e:(n=document.createElement("table"),e.parentNode.insertBefore(n,e.nextSibling),"TBODY"===t?i=this._generateTheadAndTbodyFromTbody(e):"THEAD"===t?i=this._generateTheadAndTbodyFromThead(e):"TR"===t&&(i=this._generateTheadAndTbodyFromTr(e)),n.appendChild(i.thead),n.appendChild(i.tbody)),this._removeEmptyRows(n),this.tableCellAppendAidForTableElement(n)}},{key:"_removeEmptyRows",value:function(e){var t=e.querySelectorAll("tr");o.default.forEachArray(t,(function(e){e.cells.length||e.parentNode.removeChild(e)}))}},{key:"_completeTableIfNeed",value:function(){var e=this;this.wwe.getEditor().get$Body().children().each((function(t,n){var i=(0,a.default)(n);e.isTableOrSubTableElement(n.nodeName)&&("TABLE"===n.nodeName&&0===i.find("tbody").length?i.remove():e._completeIncompleteTable(n))}))}},{key:"resetLastCellNode",value:function(){this._lastCellNode=null}},{key:"setLastCellNode",value:function(e){this._lastCellNode=e}},{key:"_isModifierKey",value:function(e){return/((META|SHIFT|ALT|CONTROL)\+?)/g.test(e)}},{key:"_isModifierKeyPushed",value:function(e){return e.metaKey||e.ctrlKey||e.altKey||e.shiftKey}},{key:"_addTrIntoContainerIfNeed",value:function(e){e.children().each((function(e,t){0===(0,a.default)(t).find("tr").length&&(0,a.default)(t).append((0,a.default)("<tr></tr>")[0])}))}},{key:"_expandTableIfNeed",value:function(e){var t=this.wwe.getEditor().getSelection().cloneRange(),n=(0,a.default)(t.startContainer).parents("table"),i=this._getColumnAndRowDifference(e,t);i.column<0&&this._appendCellForAllRow(n,i.column),i.row<0&&this._appendRow(n,i.row)}},{key:"_getColumnAndRowDifference",value:function(e,t){var n=this._getTableDataFromTable(e),i=n.length,o=n[0].length,l=(0,a.default)(t.startContainer).closest("th,td"),s=l.parent(),u=r.default.getNodeOffsetOfParent(l[0]),c=r.default.getNodeOffsetOfParent(l[0].parentNode),d=s.parents("table"),f=d.find("tr").eq(0).children().length,h=d.find("tr").length;return s.parents("tbody").length&&(c+=1),{row:h-(c+i),column:f-(u+o)}}},{key:"_appendCellForAllRow",value:function(e,t){var n=s?"":"<br />";e.find("tr").each((function(e,i){for(var o=void 0,r=t;r<0;r+=1)o=0===e?"th":"td",(0,a.default)(i).append((0,a.default)("<"+o+">"+n+"</"+o+">")[0])}))}},{key:"_appendRow",value:function(e,t){var n=e.find("tr").last().clone(),i=s?"":"<br />";for(n.find("td").html(i);t<0;t+=1)e.find("tbody").append(n.clone()[0])}},{key:"_changeSelectionToTargetCell",value:function(e,t,n,i){var o="next"===n,l="row"===i,s=void 0;l?s=r.default.getSiblingRowCellByDirection(e,n,!1):(s=r.default.getTableCellByDirection(e,n))||(s=r.default.getSiblingRowCellByDirection(e,n,!0)),s?(l&&!o?this._moveToCursorEndOfCell(s,t):t.setStart(s,0),t.collapse(!0)):(s=(0,a.default)(e).parents("table").get(0),o?t.setStart(s.nextElementSibling,0):s.previousElementSibling&&"TABLE"!==s.previousElementSibling.nodeName?t.setStart(s.previousElementSibling,1):t.setStartBefore(s),t.collapse(!0))}},{key:"_moveToCursorEndOfCell",value:function(e,t){var n=void 0;r.default.isListNode(e.lastChild)&&(n=r.default.getLastNodeBy(e.lastChild,(function(e){return"LI"!==e.nodeName||null!==e.nextSibling})));var i=r.default.getLastNodeBy(n||e,(function(e){return!r.default.isTextNode(e)})),a=i||n||e,o=i?i.length:a.childNodes.length-1;t.setStart(a,o)}},{key:"_moveCursorTo",value:function(e,t,n){var i=this.wwe.getEditor(),r=i.getSelection().cloneRange(),l=(0,a.default)(r.startContainer).closest("td,th").get(0),s=void 0;if(r.collapsed&&this.wwe.isInTable(r)&&l){if("row"===t&&!this._isMovedCursorToRow(r,e))return s;"previous"!==e&&"row"!==t||o.default.isUndefined(n)||n.preventDefault(),this._changeSelectionToTargetCell(l,r,e,t),i.setSelection(r),s=!1}return s}},{key:"_isMovedCursorToRow",value:function(e,t){var n=e.startContainer;return this._isInList(n)?this._isMovedCursorFromListToRow(n,t):this._isMovedCursorFromTextToRow(e,t)}},{key:"_isMovedCursorFromListToRow",value:function(e,t){var n=t+"Sibling",i=this._findListItem(e),a=r.default.getParentNodeBy(i,(function(e,t){var i=null===t[n]&&null===e[n];return!r.default.isCellNode(e)&&i})),o=r.default.isListNode(a)&&null===a[n];return r.default.isCellNode(a.parentNode)&&o}},{key:"_isMovedCursorFromTextToRow",value:function(e,t){var n=e.startContainer,i=e.startOffset,a=r.default.isCellNode(n)?n.childNodes[i]:n,o=r.default.getParentNodeBy(a,(function(e){return!r.default.isCellNode(e)&&!r.default.isTextNode(e)})),l=r.default.getSiblingNodeBy(o,t,(function(e){return null!==e&&"BR"!==e.nodeName}));return l&&null===l[t+"Sibling"]}},{key:"_removeContentsAndChangeSelectionIfNeed",value:function(e,t,n){var i=t.length<=1,a="BACK_SPACE"===t||"DELETE"===t,o=this.wwe.componentManager.getManager("tableSelection").getSelectedCells(),r=o.first().get(0),l=!1;return(i||a)&&!this._isModifierKeyPushed(n)&&o.length&&(a&&this._recordUndoStateIfNeed(e),this._removeTableContents(o),this._lastCellNode=r,e.setStart(r,0),e.collapse(!0),this.wwe.getEditor().setSelection(e),l=!0),l}},{key:"getTableIDClassName",value:function(){var e="te-content-table-"+this.tableID;return this.tableID+=1,e}},{key:"destroy",value:function(){var e=this;this.eventManager.removeEventHandler("wysiwygRangeChangeAfter.table"),this.eventManager.removeEventHandler("wysiwygSetValueAfter.table"),this.eventManager.removeEventHandler("wysiwygProcessHTMLText.table"),this.eventManager.removeEventHandler("cut.table"),this.eventManager.removeEventHandler("copyBefore.table"),o.default.forEach(this.keyEventHandlers,(function(t,n){return e.wwe.removeKeyEventHandler(n,t)}))}}]),e}();function f(e,t){for(var n="<"+t+"><br /></"+t+">",i="",a=0;a<e;a+=1)i+=n;return i}t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=l(n(0)),o=l(n(1)),r=l(n(4));function l(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.wwe=t,this.eventManager=t.eventManager,this.name="tableSelection",this._init()}return i(e,[{key:"_init",value:function(){this._initEvent(),o.default.browser.firefox&&(document.execCommand("enableObjectResizing",!1,"false"),document.execCommand("enableInlineTableEditing",!1,"false"))}},{key:"_initEvent",value:function(){var e=this,t=void 0,n=void 0,i=void 0;this._tableSelectionTimer=null,this._removeSelectionTimer=null,this._isSelectionStarted=!1;var r=function(r){n=(0,a.default)(r.data.target).closest("[contenteditable=true] td,th").get(0);var l=e.wwe.getEditor().getSelection(),s=(0,a.default)(n).parents("[contenteditable=true] table").get(0),u=t===n,c=e._isTextSelect(l,u)&&!(0,a.default)(t).hasClass("te-cell-selected");e._isSelectionStarted&&s&&!c&&(window.getSelection().removeAllRanges(),o.default.browser.firefox&&!e._removeSelectionTimer&&(e._removeSelectionTimer=setInterval((function(){window.getSelection().removeAllRanges()}),10)),e.highlightTableCellsBy(t,n),i=n)},l=function(){e._isSelectionStarted&&(e._isSelectionStarted=!1,e.eventManager.removeEventHandler("mouseover.tableSelection"),e.eventManager.removeEventHandler("mouseup.tableSelection"))},s=function(r){n=(0,a.default)(r.data.target).closest("[contenteditable=true] td,th").get(0);var s=e.wwe.getEditor().getSelection(),u=t===n,c=e._isTextSelect(s,u)&&!(0,a.default)(t).hasClass("te-cell-selected");e._clearTableSelectionTimerIfNeed(),e._isSelectionStarted&&(c||e._isListSelect(s)?e.removeClassAttrbuteFromAllCellsIfNeed():(e.wwe.componentManager.getManager("table").resetLastCellNode(),n=n||i,(s=e.wwe.getEditor().getSelection()).setStart(n,0),o.default.browser.msie?s.setEnd(n,1):(s.setEnd(n,0),s.collapse(!1)),e.wwe.getEditor().setSelection(s)),e.onDragEnd&&e.onDragEnd()),l()};this.eventManager.listen("mousedown.tableSelection",(function(i){t=(0,a.default)(i.data.target).closest("[contenteditable=true] td,th").get(0);var o=(0,a.default)(t).hasClass("te-cell-selected");n=null,!o||o&&2!==i.data.button?(e.removeClassAttrbuteFromAllCellsIfNeed(),t&&(e.setTableSelectionTimerIfNeed(t),e.eventManager.listen("mouseover.tableSelection",r),e.eventManager.listen("mouseup.tableSelection",s),e.onDragStart&&e.onDragStart(t))):2===i.data.button&&l()})),this.eventManager.listen("copyBefore.tableSelection",l),this.eventManager.listen("pasteBefore.tableSelection",l)}},{key:"_isTextSelect",value:function(e,t){return/TD|TH|TEXT/i.test(e.commonAncestorContainer.nodeName)&&t}},{key:"_isListSelect",value:function(e){return/UL|OL|LI/i.test(e.commonAncestorContainer.nodeName)}},{key:"setTableSelectionTimerIfNeed",value:function(e){(0,a.default)(e).parents("[contenteditable=true] table").length&&(this._isSelectionStarted=!0)}},{key:"_clearTableSelectionTimerIfNeed",value:function(){clearTimeout(this._tableSelectionTimer),o.default.browser.firefox&&this._removeSelectionTimer&&(clearTimeout(this._removeSelectionTimer),this._removeSelectionTimer=null)}},{key:"_reArrangeSelectionIfneed",value:function(e,t){var n=(0,a.default)(e).parents("[contenteditable=true] table").length,i=(0,a.default)(t).parents("[contenteditable=true] table").length,o=!i&&n;return i&&!n?e=(0,a.default)(t).parents("[contenteditable=true] table").find("th").first().get(0):o&&(t=(0,a.default)(e).parents("[contenteditable=true] table").find("td").last().get(0)),{startContainer:e,endContainer:t}}},{key:"_applySelectionDirection",value:function(e,t){var n=r.default.getNodeOffsetOfParent,i=e.startContainer,o=e.endContainer,l=n((0,a.default)(i).closest("[contenteditable=true] tr")[0])-n((0,a.default)(o).closest("[contenteditable=true] tr")[0]),s=n(i)-n(o),u=l<0;return 0===l?s>0?(t.setStart(o,0),t.setEnd(i,1)):(t.setStart(i,0),t.setEnd(o,1)):u?(t.setStart(i,0),t.setEnd(o,1)):(t.setStart(o,0),t.setEnd(i,1)),t}},{key:"getSelectionRangeFromTable",value:function(e,t){var n=r.default.getNodeOffsetOfParent,i=n(e.parentNode),o=n(t.parentNode),l=n(e),s=n(t),u=r.default.getParentUntil(e,"TABLE"),c=r.default.getParentUntil(t,"TABLE"),d="TBODY"===r.default.getNodeName(u)&&"THEAD"===r.default.getNodeName(c),f=u!==c,h=!!(0,a.default)(e).parents("tbody").length&&!!(0,a.default)(t).parents("tbody").length,g={row:i,cell:l},v={row:o,cell:s},p=void 0,m=void 0;return d?g.row+=1:f?v.row+=1:h&&(g.row+=1,v.row+=1),i>o||i===o&&l>s?(p=v,m=g):(p=g,m=v),{from:p,to:m}}},{key:"highlightTableCellsBy",value:function(e,t){var n=(0,a.default)(e).parents("[contenteditable=true] table").find("tr"),i=this.getSelectionRangeFromTable(e,t),o=i.from.row,r=i.from.cell,l=i.to.row,s=i.to.cell;n.each((function(e,t){(0,a.default)(t).find("td,th").each((function(t,n){var i=(0,a.default)(n);e===o&&t<r||e===l&&t>s||e<o||e>l?i.removeClass("te-cell-selected"):i.addClass("te-cell-selected")}))}))}},{key:"removeClassAttrbuteFromAllCellsIfNeed",value:function(){this.wwe.get$Body().find("td.te-cell-selected,th.te-cell-selected").each((function(e,t){var n=(0,a.default)(t);n.removeClass("te-cell-selected"),n.attr("class").length||n.removeAttr("class")}))}},{key:"getSelectedCells",value:function(){return this.wwe.get$Body().find(".te-cell-selected")}},{key:"createRangeBySelectedCells",value:function(){var e=this.wwe.getEditor(),t=e.getSelection().cloneRange(),n=this.getSelectedCells(),i=n.first().get(0),a=n.last().get(0);n.length&&this.wwe.isInTable(t)&&(t.setStart(i,0),t.setEnd(a,a.childNodes.length),e.setSelection(t))}},{key:"styleToSelectedCells",value:function(e,t){this.createRangeBySelectedCells(),e(this.wwe.getEditor(),t)}},{key:"destroy",value:function(){this.eventManager.removeEventHandler("mousedown.tableSelection"),this.eventManager.removeEventHandler("mouseover.tableSelection"),this.eventManager.removeEventHandler("mouseup.tableSelection"),this.eventManager.removeEventHandler("copyBefore.tableSelection"),this.eventManager.removeEventHandler("pasteBefore.tableSelection")}}]),e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=l(n(0)),o=l(n(1)),r=l(n(4));function l(e){return e&&e.__esModule?e:{default:e}}var s=o.default.browser.msie&&10===o.default.browser.version,u=s?"":"<br>",c={"&":"&amp;","<":"&lt;",">":"&gt;"},d=/\u200B/g,f=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.wwe=t,this.eventManager=t.eventManager,this.name="codeblock",this._init()}return i(e,[{key:"_init",value:function(){this._initKeyHandler(),this._initEvent()}},{key:"_initKeyHandler",value:function(){var e=this;this._keyEventHandlers={BACK_SPACE:this._onBackspaceKeyEventHandler.bind(this),ENTER:function(t,n){!e.wwe.isInTable(n)&&e.wwe.getEditor().hasFormat("CODE")&&e.wwe.defer((function(){var t=e.wwe.getRange().startContainer,n=e._getCodeNode(t);n&&!r.default.getTextLength(n)&&n.parentNode.removeChild(n)}))}},o.default.forEach(this._keyEventHandlers,(function(t,n){return e.wwe.addKeyEventHandler(n,t)}))}},{key:"_getCodeNode",value:function(e){var t=void 0;return"CODE"===e.nodeName?t=e:"CODE"===e.parentNode.nodeName&&(t=e.parentNode),t}},{key:"_initEvent",value:function(){var e=this;this.eventManager.listen("wysiwygSetValueAfter.codeblock",(function(){e.modifyCodeBlockForWysiwyg()})),this.eventManager.listen("wysiwygProcessHTMLText.codeblock",(function(t){return e._changePreToPreCode(t)}))}},{key:"prepareToPasteOnCodeblock",value:function(e){var t=this.wwe.getEditor().getDocument().createDocumentFragment(),n=this.convertNodesToText(e);return n=n.replace(/\n$/,""),t.appendChild(document.createTextNode(n)),t}},{key:"convertNodesToText",value:function(e){for(var t="",n=e.shift();o.default.isTruthy(n);){n.childNodes&&r.default.isBlockNode(n)?t+=this.convertNodesToText(o.default.toArray(n.childNodes)):"BR"===n.nodeName?t+="\n":t+=n.textContent,n=e.shift()}return t}},{key:"_copyCodeblockTypeFromRangeCodeblock",value:function(e,t){var n=r.default.getParentUntil(t.commonAncestorContainer,this.wwe.get$Body()[0]);if("PRE"===r.default.getNodeName(n)){var i=(0,a.default)(n).prop("attributes");o.default.forEach(i,(function(t){(0,a.default)(e).attr(t.name,t.value)}))}return e}},{key:"_changePreToPreCode",value:function(e){return e.replace(/<pre( .*?)?>((.|\n)*?)<\/pre>/g,(function(e,t,n){return"<pre><code"+(t||"")+">"+n+"</code></pre>"}))}},{key:"modifyCodeBlockForWysiwyg",value:function(e){e||(e=this.wwe.get$Body()),(0,a.default)(e).find("pre").each((function(e,t){var n=(0,a.default)(t),i=n.find("code").attr("data-language"),o=n.find("code").attr("data-backticks");n.children().length>1&&n.children().each((function(e,t){"DIV"!==t.nodeName&&"P"!==t.nodeName||(0,a.default)(t).find("br").length||(0,a.default)(t).append("\n")})),n.find("br").replaceWith("\n");var r,l=n.text().replace(/\s+$/,"");n.empty(),n.html(l?(r=l)?r.replace(/[<>&]/g,(function(e){return c[e]||e})):"":u),i&&(n.attr("data-language",i),n.addClass("lang-"+i)),o&&n.attr("data-backticks",o),n.attr("data-te-codeblock","")}))}},{key:"_onBackspaceKeyEventHandler",value:function(e,t){var n=!0,i=this.wwe.getEditor(),a=t.commonAncestorContainer;if(this._isCodeBlockFirstLine(t)&&!this._isFrontCodeblock(t))this._removeCodeblockFirstLine(a),t.collapse(!0),n=!1;else if(t.collapsed&&this._isEmptyLine(a)&&this._isBetweenSameCodeblocks(a)){var o=a.previousSibling,r=a.nextSibling,l=o.textContent.length;i.saveUndoState(t),a.parentNode.removeChild(a),this._mergeCodeblocks(o,r),t.setStart(o.childNodes[0],l),t.collapse(!0),n=!1}return n||(i.setSelection(t),e.preventDefault()),n}},{key:"_isEmptyLine",value:function(e){var t=e.nodeName,n=e.childNodes,i=s?""===e.textContent:1===n.length&&"BR"===n[0].nodeName;return"DIV"===t&&i}},{key:"_isBetweenSameCodeblocks",value:function(e){var t=e.previousSibling,n=e.nextSibling;return"PRE"===r.default.getNodeName(t)&&"PRE"===r.default.getNodeName(n)&&t.getAttribute("data-language")===n.getAttribute("data-language")}},{key:"_mergeCodeblocks",value:function(e,t){var n=t.textContent;e.childNodes[0].textContent+="\n"+n,t.parentNode.removeChild(t)}},{key:"_isCodeBlockFirstLine",value:function(e){return this.isInCodeBlock(e)&&e.collapsed&&0===e.startOffset}},{key:"_isFrontCodeblock",value:function(e){var t=r.default.getParentUntil(e.startContainer,this.wwe.getEditor().getRoot()).previousSibling;return t&&"PRE"===t.nodeName}},{key:"_removeCodeblockFirstLine",value:function(e){var t=this.wwe.getEditor(),n="PRE"===e.nodeName?e:e.parentNode,i=n.textContent.replace(d,"");t.modifyBlocks((function(){var e=t.getDocument().createDocumentFragment(),a=i.split("\n"),o=document.createElement("div"),r=a.shift();if(o.innerHTML=""+r+u,e.appendChild(o),a.length){var l=n.cloneNode();l.textContent=a.join("\n"),e.appendChild(l)}return e}))}},{key:"isInCodeBlock",value:function(e){var t=void 0;return t=e.collapsed?e.startContainer:e.commonAncestorContainer,!!(0,a.default)(t).closest("pre").length}},{key:"destroy",value:function(){var e=this;this.eventManager.removeEventHandler("wysiwygSetValueAfter.codeblock"),this.eventManager.removeEventHandler("wysiwygProcessHTMLText.codeblock"),o.default.forEach(this._keyEventHandlers,(function(t,n){return e.wwe.removeKeyEventHandler(n,t)}))}}]),e}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=d(n(0)),o=d(n(1)),r=d(n(8)),l=d(n(19)),s=d(n(11)),u=d(n(42)),c=d(n(43));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{tagName:"div",className:"tui-editor-defaultUI-toolbar"}));return Object.defineProperty(i,"_items",{enumerable:!0,writable:!0,value:[]}),i._eventManager=e,i.setItems(n),i._initEvent(e),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"_initEvent",value:function(e){var t=this;e.listen("stateChange",(function(e){t._items.forEach((function(t){t._state&&(e[t._state]?t.$el.addClass("active"):t.$el.removeClass("active"))}))})),e.listen("changePreviewTabPreview",(function(){return t.disableAllButton()})),e.listen("changePreviewTabWrite",(function(){return t.enableAllButton()})),e.listen("changeMode",(function(){return t.enableAllButton()}))}},{key:"disableAllButton",value:function(){this._items.forEach((function(e){e instanceof l.default&&e.disable()}))}},{key:"enableAllButton",value:function(){this._items.forEach((function(e){e instanceof l.default&&e.enable()}))}},{key:"getItems",value:function(){return this._items.slice(0)}},{key:"getItem",value:function(e){return this._items[e]}},{key:"setItems",value:function(e){this.removeAllItems(),e.forEach(this.addItem.bind(this))}},{key:"addItem",value:function(e){this.insertItem(this._items.length,e)}},{key:"insertItem",value:function(e,t){var n=this;o.default.isString(t)?t=c.default.create(t):o.default.isString(t.type)&&(t=c.default.create(t.type,t.options));var i=this.$el.children();e>=0&&e<i.length?(t.$el.insertBefore(i.eq(e)),this._items.splice(e,0,t)):(t.$el.appendTo(this.$el),this._items.push(t)),t.onCommandHandler=function(e,t){return n._eventManager.emit("command",t)},t.onEventHandler=function(e,t){return n._eventManager.emit(t)},t.on("command",t.onCommandHandler),t.on("event",t.onEventHandler)}},{key:"indexOfItem",value:function(e){var t=void 0;if(e instanceof s.default)t=this._items.indexOf(e);else if(o.default.isString(e)){var n=e;t=this._items.map((function(e){return e.getName()})).indexOf(n)}return t}},{key:"removeItem",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=void 0,i=void 0;return(n=e instanceof s.default?this.indexOfItem(e):e)>=0&&(i=this._items.splice(n,1)[0]),i&&(t?i.destroy():(i.off("command",i.onCommandHandler),i.off("event",i.onEventHandler),i.$el.detach())),i}},{key:"removeAllItems",value:function(){for(;this._items&&this._items.length>0;)this.removeItem(0)}},{key:"destroy",value:function(){this.removeAllItems(),function e(t,n,i){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in a)return a.value;var r=a.get;return void 0!==r?r.call(i):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"addButton",value:function(e,t){if(o.default.isArray(e))for(var n=e.length-1;n>=0;n-=1)o.default.isNumber(t)?this._addButton(e[n],t):this._addButton(e);else this._addButton(e,t)}},{key:"_addButton",value:function(e,t){var n=this._setButton(e,t).$el;o.default.isNumber(t)?this.$el.find("."+l.default.className).eq(t-1).before(n):this.$el.append(n)}},{key:"addDivider",value:function(){var e=(0,a.default)('<div class="'+u.default.className+'"></div>');return this.$el.append(e),e}},{key:"_setButton",value:function(e,t){var n=this._eventManager;return e instanceof l.default||(e=new l.default(e)),e.on("command",(function(e,t){return n.emit("command",t)})),e.on("event",(function(e,t){return n.emit(t)})),o.default.isNumber(t)?this._items.splice(t,0,e):this._items.push(e),e}}]),t}(r.default);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(11);var o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{name:t.name,tagName:"div",className:t.className}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((i=a)&&i.__esModule?i:{default:i}).default);Object.defineProperty(o,"name",{enumerable:!0,writable:!0,value:"divider"}),Object.defineProperty(o,"className",{enumerable:!0,writable:!0,value:"tui-toolbar-divider"}),t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=s(n(11)),o=s(n(76)),r=s(n(42)),l=s(n(3));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,null,[{key:"create",value:function(e,t){var n=void 0;switch(e){case"heading":n=new o.default({name:"heading",className:"tui-heading",event:"openHeadingSelect",tooltip:l.default.get("Headings")});break;case"bold":n=new o.default({name:"bold",className:"tui-bold",command:"Bold",tooltip:l.default.get("Bold"),state:"bold"});break;case"italic":n=new o.default({name:"italic",className:"tui-italic",command:"Italic",tooltip:l.default.get("Italic"),state:"italic"});break;case"strike":n=new o.default({name:"strike",className:"tui-strike",command:"Strike",tooltip:l.default.get("Strike"),state:"strike"});break;case"hr":n=new o.default({name:"hr",className:"tui-hrline",command:"HR",tooltip:l.default.get("Line")});break;case"quote":n=new o.default({name:"quote",className:"tui-quote",command:"Blockquote",tooltip:l.default.get("Blockquote"),state:"quote"});break;case"ul":n=new o.default({name:"ul",className:"tui-ul",command:"UL",tooltip:l.default.get("Unordered list")});break;case"ol":n=new o.default({name:"ol",className:"tui-ol",command:"OL",tooltip:l.default.get("Ordered list")});break;case"task":n=new o.default({name:"task",className:"tui-task",command:"Task",tooltip:l.default.get("Task")});break;case"table":n=new o.default({name:"table",className:"tui-table",event:"openPopupAddTable",tooltip:l.default.get("Insert table")});break;case"image":n=new o.default({name:"image",className:"tui-image",event:"openPopupAddImage",tooltip:l.default.get("Insert image"),state:""});break;case"link":n=new o.default({name:"link",className:"tui-link",event:"openPopupAddLink",tooltip:l.default.get("Insert link")});break;case"code":n=new o.default({name:"code",className:"tui-code",command:"Code",tooltip:l.default.get("Code"),state:"code"});break;case"codeblock":n=new o.default({name:"codeblock",className:"tui-codeblock",command:"CodeBlock",tooltip:l.default.get("Insert CodeBlock"),state:"codeBlock"});break;case"indent":n=new o.default({name:"indent",className:"tui-indent",command:"Indent",tooltip:l.default.get("Indent")});break;case"outdent":n=new o.default({name:"outdent",className:"tui-outdent",command:"Outdent",tooltip:l.default.get("Outdent")});break;case"divider":n=new r.default;break;case"button":n=new o.default(t);break;case"item":default:n=new a.default(t)}return n}}]),e}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=r(n(0)),o=r(n(8));function r(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{tagName:"div",className:"te-tab"}));return n.sections=e.sections,n._$activeButton=null,n._render(e),n._initEvent(e),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"_initEvent",value:function(e){var t=e.onItemClick;t&&this.on("itemClick",t),this.on("click button",this._onTabButton.bind(this))}},{key:"_render",value:function(e){for(var t=e.items,n=e.initName,i=[],a=0,o=t.length;a<o;a+=1)i.push('<button type="button" data-index="'+a+'">'+t[a]+"</button>");this.$el.html(i.join("")),this.activate(n)}},{key:"activate",value:function(e){var t=this.$el.find('button:contains("'+e+'")');this._activateTabByButton(t)}},{key:"_onTabButton",value:function(e){var t=(0,a.default)(e.target);this._activateTabByButton(t),this.trigger("itemClick",t.text())}},{key:"_activateTabByButton",value:function(e){this._isActivatedButton(e)||this._updateClassByButton(e)}},{key:"_updateClassByButton",value:function(e){if(this._$activeButton){var t=this._$activeButton.attr("data-index");this._$activeButton.removeClass("te-tab-active"),this.sections&&this.sections[t].removeClass("te-tab-active")}e.addClass("te-tab-active"),this._$activeButton=e;var n=e.attr("data-index");this.sections&&this.sections[n].addClass("te-tab-active")}},{key:"_isActivatedButton",value:function(e){return this._$activeButton&&this._$activeButton.text()===e.text()}}]),t}(o.default);t.default=l},function(e,t,n){"use strict";var i,a=n(0),o=(i=a)&&i.__esModule?i:{default:i};var r=n(46);o.default.fn.tuiEditor=function(){var e=void 0,t=void 0,n=this.get(0);if(n){for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];var s;if(e=a[0]||{},t=o.default.data(n,"tuiEditor")){if("string"==typeof e)return(s=t)[e].apply(s,a.slice(1))}else e.el=n,t=r.factory(e),o.default.data(n,"tuiEditor",t)}return this},e.exports=r},function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=fe(n(0)),o=fe(n(1)),r=fe(n(19)),l=fe(n(47)),s=fe(n(12)),u=fe(n(57)),c=fe(n(71)),d=fe(n(15)),f=fe(n(2)),h=fe(n(16)),g=fe(n(10)),v=fe(n(40)),p=fe(n(17)),m=fe(n(33)),y=fe(n(3)),_=fe(n(72)),b=fe(n(4)),k=fe(n(38)),w=fe(n(39)),C=n(7),E=fe(C),M=fe(n(90)),T=fe(n(91)),S=fe(n(92)),O=fe(n(93)),L=fe(n(94)),N=fe(n(95)),A=fe(n(96)),x=fe(n(97)),I=fe(n(98)),P=fe(n(99)),B=fe(n(100)),R=fe(n(101)),D=fe(n(102)),j=fe(n(103)),$=fe(n(104)),H=fe(n(105)),F=fe(n(106)),U=fe(n(107)),W=fe(n(108)),q=fe(n(109)),V=fe(n(110)),z=fe(n(111)),K=fe(n(112)),Y=fe(n(113)),G=fe(n(114)),X=fe(n(115)),Z=fe(n(116)),Q=fe(n(117)),J=fe(n(118)),ee=fe(n(119)),te=fe(n(120)),ne=fe(n(121)),ie=fe(n(122)),ae=fe(n(123)),oe=fe(n(124)),re=fe(n(125)),le=fe(n(126)),se=fe(n(127)),ue=fe(n(128)),ce=fe(n(129)),de=fe(n(130));function fe(e){return e&&e.__esModule?e:{default:e}}n(131),n(132),n(133),n(134),n(135),n(136),n(137),n(138),n(139),n(140),n(141),n(142),n(143),n(144),n(145),n(146),n(147),n(148),n(149);var he=[],ge="UA-129966929-1",ve=["rel","target","contenteditable","hreflang","type"],pe=function(){function e(t){var n=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.initialHtml=t.el.innerHTML,t.el.innerHTML="",this.options=a.default.extend({previewStyle:"tab",initialEditType:"markdown",height:"300px",minHeight:"200px",language:"en_US",useDefaultHTMLSanitizer:!0,useCommandShortcut:!0,codeBlockLanguages:C.CodeBlockManager.getHighlightJSLanguages(),usageStatistics:!0,toolbarItems:["heading","bold","italic","strike","divider","hr","quote","divider","ul","ol","task","indent","outdent","divider","table","image","link","divider","code","codeblock"],hideModeSwitch:!1,customConvertor:null},t),this.eventManager=new d.default,this.importManager=new g.default(this.eventManager),this.commandManager=new f.default(this,{useCommandShortcut:this.options.useCommandShortcut}),this.options.customConvertor?this.convertor=new this.options.customConvertor(this.eventManager):this.convertor=new p.default(this.eventManager),this.options.useDefaultHTMLSanitizer&&this.convertor.initHtmlSanitizer(),this.options.hooks&&o.default.forEach(this.options.hooks,(function(e,t){return n.addHook(t,e)})),this.options.events&&o.default.forEach(this.options.events,(function(e,t){return n.on(t,e)})),this.layout=new c.default(t,this.eventManager),this.i18n=y.default,this.i18n.setCode(this.options.language),this.setUI(this.options.UI||new _.default(this)),this.mdEditor=l.default.factory(this.layout.getMdEditorContainerEl(),this.eventManager,this.options),this.preview=new s.default(this.layout.getPreviewEl(),this.eventManager,this.convertor,!1,this.options.previewDelayTime),this.wwEditor=u.default.factory(this.layout.getWwEditorContainerEl(),this.eventManager,{useDefaultHTMLSanitizer:this.options.useDefaultHTMLSanitizer}),this.toMarkOptions={gfm:!0,renderer:M.default},this.options.linkAttribute){var i=this._sanitizeLinkAttribute(this.options.linkAttribute);this.convertor.setLinkAttribute(i),this.wwEditor.setLinkAttribute(i)}this.changePreviewStyle(this.options.previewStyle),this.changeMode(this.options.initialEditType,!0),this.minHeight(this.options.minHeight),this.height(this.options.height),this.setValue(this.options.initialValue,!1),this.options.placeholder&&this.setPlaceholder(this.options.placeholder),this.options.initialValue||this.setHtml(this.initialHtml,!1),h.default.applyExtension(this,this.options.exts),this.eventManager.emit("load",this),he.push(this),this._addDefaultCommands(),this.options.usageStatistics&&o.default.sendHostname("editor",ge)}return i(e,[{key:"_sanitizeLinkAttribute",value:function(e){var t={};return ve.forEach((function(n){o.default.isUndefined(e[n])||(t[n]=e[n])})),t}},{key:"changePreviewStyle",value:function(e){this.layout.changePreviewStyle(e),this.mdPreviewStyle=e,this.eventManager.emit("changePreviewStyle",e),this.eventManager.emit("previewNeedsRefresh")}},{key:"exec",value:function(){var e;(e=this.commandManager).exec.apply(e,arguments)}},{key:"_addDefaultCommands",value:function(){this.addCommand(T.default),this.addCommand(S.default),this.addCommand(L.default),this.addCommand(N.default),this.addCommand(A.default),this.addCommand(x.default),this.addCommand(I.default),this.addCommand(P.default),this.addCommand(B.default),this.addCommand(R.default),this.addCommand(D.default),this.addCommand(j.default),this.addCommand($.default),this.addCommand(H.default),this.addCommand(F.default),this.addCommand(U.default),this.addCommand(O.default),this.addCommand(W.default),this.addCommand(q.default),this.addCommand(z.default),this.addCommand(Q.default),this.addCommand(J.default),this.addCommand(K.default),this.addCommand(Y.default),this.addCommand(G.default),this.addCommand(X.default),this.addCommand(Z.default),this.addCommand(le.default),this.addCommand(se.default),this.addCommand(ue.default),this.addCommand(ee.default),this.addCommand(te.default),this.addCommand(ne.default),this.addCommand(ie.default),this.addCommand(ae.default),this.addCommand(oe.default),this.addCommand(re.default),this.addCommand(ce.default),this.addCommand(de.default),this.addCommand(V.default)}},{key:"addCommand",value:function(e,t){t?this.commandManager.addCommand(f.default.command(e,t)):this.commandManager.addCommand(e)}},{key:"afterAddedCommand",value:function(){this.eventManager.emit("afterAddedCommand",this)}},{key:"on",value:function(e,t){this.eventManager.listen(e,t)}},{key:"off",value:function(e){this.eventManager.removeEventHandler(e)}},{key:"addHook",value:function(e,t){this.eventManager.removeEventHandler(e),this.eventManager.listen(e,t)}},{key:"removeHook",value:function(e){this.eventManager.removeEventHandler(e)}},{key:"getCodeMirror",value:function(){return this.mdEditor.getEditor()}},{key:"getSquire",value:function(){return this.wwEditor.getEditor()}},{key:"focus",value:function(){this.getCurrentModeEditor().focus()}},{key:"blur",value:function(){this.getCurrentModeEditor().blur()}},{key:"moveCursorToEnd",value:function(){this.getCurrentModeEditor().moveCursorToEnd()}},{key:"moveCursorToStart",value:function(){this.getCurrentModeEditor().moveCursorToStart()}},{key:"setMarkdown",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e=e||"",this.isMarkdownMode()?this.mdEditor.setValue(e,t):this.wwEditor.setValue(this.convertor.toHTML(e),t),this.eventManager.emit("setMarkdownAfter",e)}},{key:"setHtml",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e=e||"",this.wwEditor.setValue(e,t),this.isMarkdownMode()){var n=this.convertor.toMarkdown(this.wwEditor.getValue(),this.toMarkOptions);this.mdEditor.setValue(n,t),this.eventManager.emit("setMarkdownAfter",n)}}},{key:"setValue",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.setMarkdown(e,t)}},{key:"getMarkdown",value:function(){return this.isMarkdownMode()?this.mdEditor.getValue():this.convertor.toMarkdown(this.wwEditor.getValue(),this.toMarkOptions)}},{key:"getHtml",value:function(){return this.isWysiwygMode()&&this.mdEditor.setValue(this.convertor.toMarkdown(this.wwEditor.getValue(),this.toMarkOptions)),this.convertor.toHTML(this.mdEditor.getValue())}},{key:"getValue",value:function(){return this.getMarkdown()}},{key:"insertText",value:function(e){this.isMarkdownMode()?this.mdEditor.replaceSelection(e):this.wwEditor.insertText(e)}},{key:"addWidget",value:function(e,t,n,i){this.getCurrentModeEditor().addWidget(e,t,n,i)}},{key:"height",value:function(e){return o.default.isExisty(e)&&("auto"===e?((0,a.default)(this.options.el).addClass("auto-height"),this.minHeight(this.minHeight())):((0,a.default)(this.options.el).removeClass("auto-height"),this.minHeight(e)),o.default.isNumber(e)&&(e+="px"),this.options.el.style.height=e,this._height=e),this._height}},{key:"minHeight",value:function(e){if(o.default.isExisty(e)){var t=this._ui.getEditorHeight()-this._ui.getEditorSectionHeight();this._minHeight=e,e=parseInt(e,10),e=Math.max(e-t,0),this.wwEditor.setMinHeight(e),this.mdEditor.setMinHeight(e),this.preview.setMinHeight(e)}return this._minHeight}},{key:"getCurrentModeEditor",value:function(){return this.isMarkdownMode()?this.mdEditor:this.wwEditor}},{key:"isMarkdownMode",value:function(){return"markdown"===this.currentMode}},{key:"isWysiwygMode",value:function(){return"wysiwyg"===this.currentMode}},{key:"isViewer",value:function(){return!1}},{key:"getCurrentPreviewStyle",value:function(){return this.mdPreviewStyle}},{key:"changeMode",value:function(e,t){this.currentMode!==e&&(this.eventManager.emit("changeModeBefore",this.currentMode),this.currentMode=e,this.isWysiwygMode()?(this.layout.switchToWYSIWYG(),this.wwEditor.setValue(this.convertor.toHTML(this.mdEditor.getValue()),!t),this.eventManager.emit("changeModeToWysiwyg")):(this.layout.switchToMarkdown(),this.mdEditor.resetState(),this.mdEditor.setValue(this.convertor.toMarkdown(this.wwEditor.getValue(),this.toMarkOptions),!t),this.getCodeMirror().refresh(),this.eventManager.emit("changeModeToMarkdown")),this.eventManager.emit("changeMode",e),t||this.focus())}},{key:"remove",value:function(){var e=this,t=he.length-1;for(this.wwEditor.remove(),this.mdEditor.remove(),this.layout.remove(),this.preview.remove(),this.getUI()&&this.getUI().remove(),this.eventManager.emit("removeEditor"),this.eventManager.events.forEach((function(t,n){e.off(n)})),this.eventManager=null;t>=0;t-=1)he[t]===this&&he.splice(t,1)}},{key:"hide",value:function(){this.eventManager.emit("hide",this)}},{key:"show",value:function(){this.eventManager.emit("show",this),this.getCodeMirror().refresh()}},{key:"scrollTop",value:function(e){return this.getCurrentModeEditor().scrollTop(e)}},{key:"setUI",value:function(e){this._ui=e}},{key:"getUI",value:function(){return this._ui}},{key:"reset",value:function(){this.wwEditor.reset(),this.mdEditor.reset()}},{key:"getRange",value:function(){return this.getCurrentModeEditor().getRange()}},{key:"getTextObject",value:function(e){return this.getCurrentModeEditor().getTextObject(e)}},{key:"getSelectedText",value:function(){var e=this.getRange();return this.getTextObject(e).getTextContent()||""}},{key:"setPlaceholder",value:function(e){this.mdEditor.setPlaceholder(e),this.wwEditor.setPlaceholder(e)}}],[{key:"getInstances",value:function(){return he}},{key:"defineExtension",value:function(e,t){h.default.defineExtension(e,t)}},{key:"factory",value:function(t){return t.viewer?new m.default(t):new e(t)}}]),e}();pe.isViewer=!1,pe.i18n=y.default,pe.domUtils=b.default,pe.codeBlockManager=E.default,pe.Button=r.default,pe.WwCodeBlockManager=v.default,pe.WwTableManager=k.default,pe.WwTableSelectionManager=w.default,pe.CommandManager=f.default,pe.markdownitHighlight=p.default.getMarkdownitHighlightRenderer(),pe.markdownit=p.default.getMarkdownitRenderer(),e.exports=pe},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=c(n(1)),o=c(n(36)),r=c(n(20)),l=c(n(55)),s=c(n(37)),u=c(n(56));function c(e){return e&&e.__esModule?e:{default:e}}var d=r.default.getSharedInstance(),f=function(e){function t(e,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e.get(0),{mode:"gfm",dragDrop:!0,allowDropFileTypes:["image"],extraKeys:{Enter:"newlineAndIndentContinueMarkdownList",Tab:"indentOrderedList","Shift-Tab":"indentLessOrderedList"},viewportMargin:i&&"auto"===i.height?1/0:10}));return a.eventManager=n,a.componentManager=new s.default(a),a.componentManager.addManager(l.default),a._latestState=null,a._initEvent(),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"_initEvent",value:function(){var e=this;this.cm.getWrapperElement().addEventListener("click",(function(){e.eventManager.emit("click",{source:"markdown"})})),this.cm.on("beforeChange",(function(t,n){"paste"===n.origin&&e.eventManager.emit("pasteBefore",{source:"markdown",data:n})})),this.cm.on("change",(function(t,n){e._emitMarkdownEditorContentChangedEvent(),e._emitMarkdownEditorChangeEvent(n)})),this.cm.on("focus",(function(){e.eventManager.emit("focus",{source:"markdown"})})),this.cm.on("blur",(function(){e.eventManager.emit("blur",{source:"markdown"})})),this.cm.on("scroll",(function(t,n){e.eventManager.emit("scroll",{source:"markdown",data:n})})),this.cm.on("keydown",(function(t,n){e.eventManager.emit("keydown",{source:"markdown",data:n}),e.eventManager.emit("keyMap",{source:"markdown",keyMap:d.convert(n),data:n})})),this.cm.on("keyup",(function(t,n){e.eventManager.emit("keyup",{source:"markdown",data:n})})),this.cm.on("copy",(function(t,n){e.eventManager.emit("copy",{source:"markdown",data:n})})),this.cm.on("cut",(function(t,n){e.eventManager.emit("cut",{source:"markdown",data:n})})),this.cm.on("paste",(function(t,n){e.eventManager.emit("paste",{source:"markdown",data:n})})),this.cm.on("drop",(function(t,n){n.preventDefault(),e.eventManager.emit("drop",{source:"markdown",data:n})})),this.cm.on("cursorActivity",(function(){var t=e.cm.getTokenAt(e.cm.getCursor()).state.base,n={bold:!!t.strong,italic:!!t.em,strike:!!t.strikethrough,code:t.code>0,codeBlock:-1===t.code,quote:!!t.quote,list:!!t.list,task:!!t.taskList,source:"markdown"};e._latestState&&!e._isStateChanged(e._latestState,n)||(e.eventManager.emit("stateChange",n),e._latestState=n)}))}},{key:"setValue",value:function(e,n){(function e(t,n,i){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in a)return a.value;var r=a.get;return void 0!==r?r.call(i):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setValue",this).call(this,e,n),this._emitMarkdownEditorContentChangedEvent()}},{key:"getTextObject",value:function(e){return new u.default(this,e)}},{key:"_emitMarkdownEditorContentChangedEvent",value:function(){this.eventManager.emit("contentChangedFromMarkdown",this)}},{key:"_emitMarkdownEditorChangeEvent",value:function(e){if("setValue"!==e.origin){var t={source:"markdown"};this.eventManager.emit("changeFromMarkdown",t),this.eventManager.emit("change",t)}}},{key:"_isStateChanged",value:function(e,t){var n=!1;return a.default.forEach(t,(function(t,i){return!(n=e[i]!==t)})),n}},{key:"resetState",value:function(){this._latestState=null}}],[{key:"factory",value:function(e,n,i){return new t(e,n,i)}}]),t}(o.default);t.default=f},function(e,t,n){"use strict";var i,a=n(6),o=(i=a)&&i.__esModule?i:{default:i};var r=/^(\s*)((\d+)([.)]\s(?:\[(?:x|\s)\]\s)?))(.*)/;function l(e,t,n,i){var a=void 0,o=void 0,s=void 0,u=void 0,c=n,d=i.getLine(e);do{var f=r.exec(d);if(a=f[1],o=f[4],s=f[5],(u=a.length)===t)i.replaceRange(""+a+c+o+s,{line:e,ch:0},{line:e,ch:d.length}),c+=1,e+=1;else{if(!(u>t))return e;e=l(e,u,1,i)}d=i.getLine(e)}while(r.test(d));return e}function s(e,t){for(var n=e,i=t.getLine(e);r.test(i);)n-=1,i=t.getLine(n);return e===n?n=-1:n+=1,n}o.default.commands.indentLessOrderedList=function(e){return e.getOption("disableInput")?o.default.Pass:(e.execCommand("indentLess"),e.execCommand("fixOrderedListNumber"),null)},o.default.commands.fixOrderedListNumber=function(e){if(e.getOption("disableInput"))return o.default.Pass;for(var t=e.listSelections(),n=0;n<t.length;n+=1){var i=s(t[n].head.line,e);if(i>=0){var a=e.getLine(i),u=r.exec(a),c=u[1],d=u[3];l(i,c.length,parseInt(d,10),e)}}return null}},function(e,t,n){"use strict";var i,a=n(6),o=(i=a)&&i.__esModule?i:{default:i};o.default.overlayMode=function(e,t,n){return{startState:function(){return{base:o.default.startState(e),overlay:o.default.startState(t),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(n){return{base:o.default.copyState(e,n.base),overlay:o.default.copyState(t,n.overlay),basePos:n.basePos,baseCur:null,overlayPos:n.overlayPos,overlayCur:null}},token:function(i,a){return(i!=a.streamSeen||Math.min(a.basePos,a.overlayPos)<i.start)&&(a.streamSeen=i,a.basePos=a.overlayPos=i.start),i.start==a.basePos&&(a.baseCur=e.token(i,a.base),a.basePos=i.pos),i.start==a.overlayPos&&(i.pos=i.start,a.overlayCur=t.token(i,a.overlay),a.overlayPos=i.pos),i.pos=Math.min(a.basePos,a.overlayPos),null==a.overlayCur?a.baseCur:null!=a.baseCur&&a.overlay.combineTokens||n&&null==a.overlay.combineTokens?a.baseCur+" "+a.overlayCur:a.overlayCur},indent:e.indent&&function(t,n){return e.indent(t.base,n)},electricChars:e.electricChars,innerMode:function(t){return{state:t.base,mode:e}},blankLine:function(n){e.blankLine&&e.blankLine(n.base),t.blankLine&&t.blankLine(n.overlay)}}}},function(e,t,n){"use strict";var i,a=n(6),o=(i=a)&&i.__esModule?i:{default:i};o.default.defineMode("markdown",(function(e,t){var n=o.default.getMode(e,"text/html"),i="null"==n.name;void 0===t.highlightFormatting&&(t.highlightFormatting=!1),void 0===t.maxBlockquoteDepth&&(t.maxBlockquoteDepth=0),void 0===t.taskLists&&(t.taskLists=!1),void 0===t.strikethrough&&(t.strikethrough=!1),void 0===t.emoji&&(t.emoji=!1),void 0===t.fencedCodeBlockHighlighting&&(t.fencedCodeBlockHighlighting=!0),void 0===t.xml&&(t.xml=!0),void 0===t.tokenTypeOverrides&&(t.tokenTypeOverrides={});var a={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"};for(var r in a)a.hasOwnProperty(r)&&t.tokenTypeOverrides[r]&&(a[r]=t.tokenTypeOverrides[r]);var l=/^([*\-_])(?:\s*\1){2,}\s*$/,s=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,u=/^\[(x| )\](?=\s)/i,c=t.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,d=/^ *(?:\={1,}|-{1,})\s*$/,f=/^[^#!\[\]*_\\<>` "'(~:]+/,h=/^(~~~+|```+)[ \t]*([\w+#-]*)[^\n`]*$/,g=/^\s*\[[^\]]+?\]:.*$/,v=/[!\"#$%&\'()*+,\-\.\/:;<=>?@\[\\\]^_`{|}~]/;function p(e,t,n){return t.f=t.inline=n,n(e,t)}function m(e,t,n){return t.f=t.block=n,n(e,t)}function y(e){if(e.linkTitle=!1,e.linkHref=!1,e.linkText=!1,e.em=!1,e.strong=!1,e.strikethrough=!1,e.quote=0,e.indentedCode=!1,e.f==b){var t=i;if(!t){var a=o.default.innerMode(n,e.htmlState);t="xml"==a.mode.name&&null===a.state.tagStart&&!a.state.context&&a.state.tokenize.isInText}t&&(e.f=E,e.block=_,e.htmlState=null)}return e.trailingSpace=0,e.trailingSpaceNewLine=!1,e.prevLine=e.thisLine,e.thisLine={stream:null},null}function _(n,i){var r,f=n.column()===i.indentation,v=!(r=i.prevLine.stream)||!/\S/.test(r.string),m=i.indentedCode,y=i.prevLine.hr,_=!1!==i.list,b=(i.listStack[i.listStack.length-1]||0)+3;i.indentedCode=!1;var C=i.indentation;if(null===i.indentationDiff&&(i.indentationDiff=i.indentation,_)){for(i.em=!1,i.strong=!1,i.code=!1,i.strikethrough=!1,i.list=null;C<i.listStack[i.listStack.length-1];)i.listStack.pop(),i.listStack.length?i.indentation=i.listStack[i.listStack.length-1]:i.list=!1;!1!==i.list&&(i.indentationDiff=C-i.listStack[i.listStack.length-1])}var E=!(v||y||i.prevLine.header||_&&m||i.prevLine.fencedCodeEnd),M=(!1===i.list||y||v)&&i.indentation<=b&&n.match(l),T=null;if(i.indentationDiff>=4&&(m||i.prevLine.fencedCodeEnd||i.prevLine.header||v))return n.skipToEnd(),i.indentedCode=!0,a.code;if(n.eatSpace())return null;if(f&&i.indentation<=b&&(T=n.match(c))&&T[1].length<=6)return i.quote=0,i.header=T[1].length,i.thisLine.header=!0,t.highlightFormatting&&(i.formatting="header"),i.f=i.inline,w(i);if(i.indentation<=b&&n.eat(">"))return i.quote=f?1:i.quote+1,t.highlightFormatting&&(i.formatting="quote"),n.eatSpace(),w(i);if(!M&&!i.setext&&f&&i.indentation<=b&&(T=n.match(s))){var S=T[1]?"ol":"ul";return i.indentation=C+n.current().length,i.list=!0,i.quote=0,i.listStack.push(i.indentation),t.taskLists&&n.match(u,!1)&&(i.taskList=!0),i.f=i.inline,t.highlightFormatting&&(i.formatting=["list","list-"+S]),w(i)}return f&&i.indentation<=b&&(T=n.match(h,!0))?(i.quote=0,i.fencedEndRE=new RegExp(T[1]+"+ *$"),i.localMode=t.fencedCodeBlockHighlighting&&function(t){if(o.default.findModeByName){var n=o.default.findModeByName(t);n&&(t=n.mime||n.mimes[0])}var i=o.default.getMode(e,t);return"null"==i.name?null:i}(T[2]),i.localMode&&(i.localState=o.default.startState(i.localMode)),i.f=i.block=k,t.highlightFormatting&&(i.formatting="code-block"),i.code=-1,w(i)):i.setext||!(E&&_||i.quote||!1!==i.list||i.code||M||g.test(n.string))&&(T=n.lookAhead(1))&&(T=T.match(d))?(i.setext?(i.header=i.setext,i.setext=0,n.skipToEnd(),t.highlightFormatting&&(i.formatting="header")):(i.header="="==T[0].charAt(0)?1:2,i.setext=i.header),i.thisLine.header=!0,i.f=i.inline,w(i)):M?(n.skipToEnd(),i.hr=!0,i.thisLine.hr=!0,a.hr):"["===n.peek()?p(n,i,O):p(n,i,i.inline)}function b(e,t){var a=n.token(e,t.htmlState);if(!i){var r=o.default.innerMode(n,t.htmlState);("xml"==r.mode.name&&null===r.state.tagStart&&!r.state.context&&r.state.tokenize.isInText||t.md_inside&&e.current().indexOf(">")>-1)&&(t.f=E,t.block=_,t.htmlState=null)}return a}function k(e,n){var i,o=n.listStack[n.listStack.length-1]||0,r=n.indentation<o,l=o+3;return n.fencedEndRE&&n.indentation<=l&&(r||e.match(n.fencedEndRE))?(t.highlightFormatting&&(n.formatting="code-block"),r||(i=w(n)),n.localMode=n.localState=null,n.block=_,n.f=E,n.fencedEndRE=null,n.code=0,n.thisLine.fencedCodeEnd=!0,r?m(e,n,n.block):i):n.localMode?n.localMode.token(e,n.localState):(e.skipToEnd(),a.code)}function w(e){var n=[];if(e.formatting){n.push(a.formatting),"string"==typeof e.formatting&&(e.formatting=[e.formatting]);for(var i=0;i<e.formatting.length;i++)n.push(a.formatting+"-"+e.formatting[i]),"header"===e.formatting[i]&&n.push(a.formatting+"-"+e.formatting[i]+"-"+e.header),"quote"===e.formatting[i]&&(!t.maxBlockquoteDepth||t.maxBlockquoteDepth>=e.quote?n.push(a.formatting+"-"+e.formatting[i]+"-"+e.quote):n.push("error"))}if(e.taskOpen)return n.push("meta"),n.length?n.join(" "):null;if(e.taskClosed)return n.push("property"),n.length?n.join(" "):null;if(e.linkHref?n.push(a.linkHref,"url"):(e.strong&&n.push(a.strong),e.em&&n.push(a.em),e.strikethrough&&n.push(a.strikethrough),e.emoji&&n.push(a.emoji),e.linkText&&n.push(a.linkText),e.code&&n.push(a.code),e.image&&n.push(a.image),e.imageAltText&&n.push(a.imageAltText,"link"),e.imageMarker&&n.push(a.imageMarker)),e.header&&n.push(a.header,a.header+"-"+e.header),e.quote&&(n.push(a.quote),!t.maxBlockquoteDepth||t.maxBlockquoteDepth>=e.quote?n.push(a.quote+"-"+e.quote):n.push(a.quote+"-"+t.maxBlockquoteDepth)),!1!==e.list){var o=(e.listStack.length-1)%3;o?1===o?n.push(a.list2):n.push(a.list3):n.push(a.list1)}return e.trailingSpaceNewLine?n.push("trailing-space-new-line"):e.trailingSpace&&n.push("trailing-space-"+(e.trailingSpace%2?"a":"b")),n.length?n.join(" "):null}function C(e,t){if(e.match(f,!0))return w(t)}function E(e,i){var r=i.text(e,i);if(void 0!==r)return r;if(i.list)return i.list=null,w(i);if(i.taskList)return" "===e.match(u,!0)[1]?i.taskOpen=!0:i.taskClosed=!0,t.highlightFormatting&&(i.formatting="task"),i.taskList=!1,w(i);if(i.taskOpen=!1,i.taskClosed=!1,i.header&&e.match(/^#+$/,!0))return t.highlightFormatting&&(i.formatting="header"),w(i);var l=e.next();if(i.linkTitle){i.linkTitle=!1;var s=l;"("===l&&(s=")");var c="^\\s*(?:[^"+(s=(s+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1"))+"\\\\]+|\\\\\\\\|\\\\.)"+s;if(e.match(new RegExp(c),!0))return a.linkHref}if("`"===l){var d=i.formatting;t.highlightFormatting&&(i.formatting="code"),e.eatWhile("`");var f=e.current().length;if(0!=i.code||i.quote&&1!=f){if(f==i.code){var h=w(i);return i.code=0,h}return i.formatting=d,w(i)}return i.code=f,w(i)}if(i.code)return w(i);if("\\"===l&&(e.next(),t.highlightFormatting)){var g=w(i),p=a.formatting+"-escape";return g?g+" "+p:p}if("!"===l&&e.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return i.imageMarker=!0,i.image=!0,t.highlightFormatting&&(i.formatting="image"),w(i);if("["===l&&i.imageMarker&&e.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return i.imageMarker=!1,i.imageAltText=!0,t.highlightFormatting&&(i.formatting="image"),w(i);if("]"===l&&i.imageAltText){t.highlightFormatting&&(i.formatting="image");var g=w(i);return i.imageAltText=!1,i.image=!1,i.inline=i.f=T,g}if("["===l&&!i.image)return i.linkText&&e.match(/^.*?\]/)?w(i):(i.linkText=!0,t.highlightFormatting&&(i.formatting="link"),w(i));if("]"===l&&i.linkText){t.highlightFormatting&&(i.formatting="link");var g=w(i);return i.linkText=!1,i.inline=i.f=e.match(/\(.*?\)| ?\[.*?\]/,!1)?T:E,g}if("<"===l&&e.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1))return i.f=i.inline=M,t.highlightFormatting&&(i.formatting="link"),(g=w(i))?g+=" ":g="",g+a.linkInline;if("<"===l&&e.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1))return i.f=i.inline=M,t.highlightFormatting&&(i.formatting="link"),(g=w(i))?g+=" ":g="",g+a.linkEmail;if(t.xml&&"<"===l&&e.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,!1)){var y=e.string.indexOf(">",e.pos);if(-1!=y){var _=e.string.substring(e.start,y);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(_)&&(i.md_inside=!0)}return e.backUp(1),i.htmlState=o.default.startState(n),m(e,i,b)}if(t.xml&&"<"===l&&e.match(/^\/\w*?>/))return i.md_inside=!1,"tag";if("*"===l||"_"===l){for(var k=1,C=1==e.pos?" ":e.string.charAt(e.pos-2);k<3&&e.eat(l);)k++;var S=e.peek()||" ",O=!/\s/.test(S)&&(!v.test(S)||/\s/.test(C)||v.test(C)),L=!/\s/.test(C)&&(!v.test(C)||/\s/.test(S)||v.test(S)),N=null,A=null;if(k%2&&(i.em||!O||"*"!==l&&L&&!v.test(C)?i.em!=l||!L||"*"!==l&&O&&!v.test(S)||(N=!1):N=!0),k>1&&(i.strong||!O||"*"!==l&&L&&!v.test(C)?i.strong!=l||!L||"*"!==l&&O&&!v.test(S)||(A=!1):A=!0),null!=A||null!=N){t.highlightFormatting&&(i.formatting=null==N?"strong":null==A?"em":"strong em"),!0===N&&(i.em=l),!0===A&&(i.strong=l);h=w(i);return!1===N&&(i.em=!1),!1===A&&(i.strong=!1),h}}else if(" "===l&&(e.eat("*")||e.eat("_"))){if(" "===e.peek())return w(i);e.backUp(1)}if(t.strikethrough)if("~"===l&&e.eatWhile(l)){if(i.strikethrough){t.highlightFormatting&&(i.formatting="strikethrough");h=w(i);return i.strikethrough=!1,h}if(e.match(/^[^\s]/,!1))return i.strikethrough=!0,t.highlightFormatting&&(i.formatting="strikethrough"),w(i)}else if(" "===l&&e.match(/^~~/,!0)){if(" "===e.peek())return w(i);e.backUp(2)}if(t.emoji&&":"===l&&e.match(/^[a-z_\d+-]+:/)){i.emoji=!0,t.highlightFormatting&&(i.formatting="emoji");var x=w(i);return i.emoji=!1,x}return" "===l&&(e.match(/^ +$/,!1)?i.trailingSpace++:i.trailingSpace&&(i.trailingSpaceNewLine=!0)),w(i)}function M(e,n){if(">"===e.next()){n.f=n.inline=E,t.highlightFormatting&&(n.formatting="link");var i=w(n);return i?i+=" ":i="",i+a.linkInline}return e.match(/^[^>]+/,!0),a.linkInline}function T(e,n){if(e.eatSpace())return null;var i,a=e.next();return"("===a||"["===a?(n.f=n.inline=(i="("===a?")":"]",function(e,n){if(e.next()===i){n.f=n.inline=E,t.highlightFormatting&&(n.formatting="link-string");var a=w(n);return n.linkHref=!1,a}return e.match(S[i]),n.linkHref=!0,w(n)}),t.highlightFormatting&&(n.formatting="link-string"),n.linkHref=!0,w(n)):"error"}var S={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/};function O(e,n){return e.match(/^([^\]\\]|\\.)*\]:/,!1)?(n.f=L,e.next(),t.highlightFormatting&&(n.formatting="link"),n.linkText=!0,w(n)):p(e,n,E)}function L(e,n){if(e.match(/^\]:/,!0)){n.f=n.inline=N,t.highlightFormatting&&(n.formatting="link");var i=w(n);return n.linkText=!1,i}return e.match(/^([^\]\\]|\\.)+/,!0),a.linkText}function N(e,t){return e.eatSpace()?null:(e.match(/^[^\s]+/,!0),void 0===e.peek()?t.linkTitle=!0:e.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,!0),t.f=t.inline=E,a.linkHref+" url")}var A={startState:function(){return{f:_,prevLine:{stream:null},thisLine:{stream:null},block:_,htmlState:null,indentation:0,inline:E,text:C,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(e){return{f:e.f,prevLine:e.prevLine,thisLine:e.thisLine,block:e.block,htmlState:e.htmlState&&o.default.copyState(n,e.htmlState),indentation:e.indentation,localMode:e.localMode,localState:e.localMode?o.default.copyState(e.localMode,e.localState):null,inline:e.inline,text:e.text,formatting:!1,linkText:e.linkText,linkTitle:e.linkTitle,linkHref:e.linkHref,code:e.code,em:e.em,strong:e.strong,strikethrough:e.strikethrough,emoji:e.emoji,header:e.header,setext:e.setext,hr:e.hr,taskList:e.taskList,list:e.list,listStack:e.listStack.slice(0),quote:e.quote,indentedCode:e.indentedCode,trailingSpace:e.trailingSpace,trailingSpaceNewLine:e.trailingSpaceNewLine,md_inside:e.md_inside,fencedEndRE:e.fencedEndRE}},token:function(e,t){if(t.formatting=!1,e!=t.thisLine.stream){if(t.header=0,t.hr=!1,e.match(/^\s*$/,!0))return y(t),null;if(t.prevLine=t.thisLine,t.thisLine={stream:e},t.taskList=!1,t.trailingSpace=0,t.trailingSpaceNewLine=!1,!t.localState&&(t.f=t.block,t.f!=b)){var n=e.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length;if(t.indentation=n,t.indentationDiff=null,n>0)return null}}return t.f(e,t)},innerMode:function(e){return e.block==b?{state:e.htmlState,mode:n}:e.localState?{state:e.localState,mode:e.localMode}:{state:e,mode:A}},indent:function(e,t,i){return e.block==b&&n.indent?n.indent(e.htmlState,t,i):e.localState&&e.localMode.indent?e.localMode.indent(e.localState,t,i):o.default.Pass},blankLine:y,getType:w,closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return A}),"xml"),o.default.defineMIME("text/markdown","markdown"),o.default.defineMIME("text/x-markdown","markdown")},function(e,t,n){"use strict";var i,a=n(6),o=(i=a)&&i.__esModule?i:{default:i};o.default.defineMode("gfm",(function(e,t){var n=0;var i={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(e){return{code:e.code,codeBlock:e.codeBlock,ateSpace:e.ateSpace}},token:function(e,t){if(t.combineTokens=null,t.codeBlock)return e.match(/^```+/)?(t.codeBlock=!1,null):(e.skipToEnd(),null);if(e.sol()&&(t.code=!1),e.sol()&&e.match(/^```+/))return e.skipToEnd(),t.codeBlock=!0,null;if("`"===e.peek()){e.next();var i=e.pos;e.eatWhile("`");var a=1+e.pos-i;return t.code?a===n&&(t.code=!1):(n=a,t.code=!0),null}return t.code?(e.next(),null):e.eatSpace()?(t.ateSpace=!0,null):(e.next(),null)},blankLine:function(e){return e.code=!1,null}},a={taskLists:!0,strikethrough:!0,emoji:!0};for(var r in t)a[r]=t[r];return a.name="markdown",o.default.overlayMode(o.default.getMode(e,a),i)}),"markdown"),o.default.defineMIME("text/x-gfm","gfm")},function(e,t,n){"use strict";var i,a=n(6),o=(i=a)&&i.__esModule?i:{default:i};var r=/^(\s*)(>[> ]*|[*+-] \[[x ]\]\s|[*+-]\s|(\d+)([.)]))(\s*)/,l=/^(\s*)(>[> ]*|[*+-] \[[x ]\]|[*+-]|(\d+)[.)])(\s*)$/,s=/[*+-]\s/;function u(e,t){var n=t.line,i=0,a=0,o=r.exec(e.getLine(n)),l=o[1];do{var s=n+(i+=1),u=e.getLine(s),c=r.exec(u);if(c){var d=c[1],f=parseInt(o[3],10)+i-a,h=parseInt(c[3],10),g=h;if(l!==d||isNaN(h)){if(l.length>d.length)return;if(l.length<d.length&&1===i)return;a+=1}else f===h&&(g=h+1),f>h&&(g=f+1),e.replaceRange(u.replace(r,d+g+c[4]+c[5]),{line:s,ch:0},{line:s,ch:u.length})}}while(c)}o.default.commands.indentOrderedList=function(e){if(e.getOption("disableInput"))return o.default.Pass;for(var t=e.listSelections(),n=0;n<t.length;n++){var i=t[n].head,a=e.getLine(i.line).substr(0,i.ch);r.test(a)||e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertSoftTab")}e.execCommand("fixOrderedListNumber")},o.default.commands.newlineAndIndentContinueMarkdownList=function(e){if(e.getOption("disableInput"))return o.default.Pass;for(var t=e.listSelections(),n=[],i=0;i<t.length;i++){var a=t[i].head,c=e.getStateAfter(a.line),d=o.default.innerMode(e.getMode(),c);if("markdown"!==d.mode.name)return void e.execCommand("newlineAndIndent");var f=!1!==(c=d.state).list,h=0!==c.quote,g=e.getLine(a.line),v=r.exec(g),p=/^\s*$/.test(g.slice(0,a.ch));if(!t[i].empty()||!f&&!h||!v||p)return void e.execCommand("newlineAndIndent");if(l.test(g))/>\s*$/.test(g)||e.replaceRange("",{line:a.line,ch:0},{line:a.line,ch:a.ch+1}),n[i]="\n";else{var m=v[1],y=v[5],_=!(s.test(v[2])||v[2].indexOf(">")>=0),b=_?parseInt(v[3],10)+1+v[4]:v[2].replace("x"," ");n[i]="\n"+m+b+y,_&&u(e,a)}}e.replaceSelections(n)}},function(e,t,n){"use strict";var i,a=n(6),o=(i=a)&&i.__esModule?i:{default:i};function r(e){return l(e)&&e.anchor.ch===e.head.ch}function l(e){return e.anchor.line===e.head.line}function s(e,t,n,i){var a=e.getLine(n.line),o=e.getLine(n.line+i),l={anchor:t,head:n};e.replaceRange(o,{line:n.line,ch:0},{line:n.line,ch:a.length},"+input"),e.replaceRange(a,{line:n.line+i,ch:0},{line:n.line+i,ch:o.length},"+input"),r(l)?e.setCursor({line:n.line+i,ch:n.ch}):e.setSelection({line:t.line+i,ch:t.ch},{line:n.line+i,ch:n.ch})}function u(e,t,n,i){var a=e.getRange({line:t.line,ch:0},{line:n.line,ch:e.getLine(n.line).length}),o=i>0?n:t,r=e.getLine(o.line+i),l=void 0;l=i>0?t:n,e.replaceRange(r,{line:l.line,ch:0},{line:l.line,ch:e.getLine(l.line).length},"+input"),e.replaceRange(a,{line:t.line+i,ch:0},{line:n.line+i,ch:e.getLine(n.line+i).length},"+input"),e.setSelection({line:t.line+i,ch:t.ch},{line:n.line+i,ch:n.ch})}o.default.commands.replaceLineTextToUpper=function(e){if(e.getOption("disableInput"))return o.default.Pass;for(var t=e.listSelections(),n=0;n<t.length;n++){var i=t[n],a=i.anchor,c=i.head;if(l(i)&&c.line>0)s(e,a,c,-1);else if(!r(i)){var d=a.line<c.line?a.line:c.line;if(d>0)u(e,a.line===d?a:c,a.line===d?c:a,-1)}}},o.default.commands.replaceLineTextToLower=function(e){if(e.getOption("disableInput"))return o.default.Pass;for(var t=e.listSelections(),n=0;n<t.length;n++){var i=t[n],a=i.anchor,c=i.head,d=c.line===e.lastLine();if(l(i)&&!d)s(e,a,c,1);else if(!r(i)){var f=a.line<c.line?a.line:c.line,h=a.line===f?a:c,g=a.line===f?c:a;g.line<e.lastLine()&&u(e,h,g,1)}}}},function(e,t,n){"use strict";var i,a=n(6),o=(i=a)&&i.__esModule?i:{default:i};function r(e){e.state.placeholder&&(e.state.placeholder.parentNode.removeChild(e.state.placeholder),e.state.placeholder=null)}function l(e){r(e);var t=e.state.placeholder=document.createElement("pre");t.style.cssText="height: 0; overflow: visible",t.className="CodeMirror-placeholder";var n=e.getOption("placeholder");"string"==typeof n&&(n=document.createTextNode(n)),t.appendChild(n),e.display.lineSpace.insertBefore(t,e.display.lineSpace.firstChild)}function s(e){c(e)&&l(e)}function u(e){var t=e.getWrapperElement(),n=c(e);t.className=t.className.replace(" CodeMirror-empty","")+(n?" CodeMirror-empty":""),n?l(e):r(e)}function c(e){return 1===e.lineCount()&&""===e.getLine(0)}o.default.defineOption("placeholder","",(function(e,t,n){var i=n&&n!=o.default.Init;if(t&&!i)e.on("blur",s),e.on("change",u),e.on("swapDoc",u),u(e);else if(!t&&i){e.off("blur",s),e.off("change",u),e.off("swapDoc",u),r(e);var a=e.getWrapperElement();a.className=a.className.replace(" CodeMirror-empty","")}t&&!e.hasFocus()&&s(e)}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var a=/^[ \t]*([-*]|[\d]+\.)( \[[ xX]])? /,o=/^[ \t]*([*-] |[\d]+\. )(\[[ xX]] )/,r=/^[ \t]*[-*] .*/,l=/^[ \t]*[\d]+\. \[[ xX]] .*/,s=/([*-] |[\d]+\. )/,u=/([-*] |[\d]+\. )(\[[ xX]] )/,c=/([-*]|[\d]+\.)( \[[ xX]])? /,d=/([-*])( \[[ xX]]) /,f=/([\d])+\.( \[[ xX]])? /,h=/^\|([-\s\w\d\t<>?!@#$%^&*()_=+\\/'";: \r[\]]*\|+)+/i,g=/^#+\s/,v=/^ {0,3}(```|\||>)/,p=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cm=t.getEditor(),this.doc=this.cm.getDoc(),this.name="list"}return i(e,[{key:"_createSortedLineRange",value:function(e){var t=e.from.line>e.to.line,n={line:t?e.to.line:e.from.line,ch:0},i={line:t?e.from.line:e.to.line,ch:0};return{start:n.line,end:i.line}}},{key:"_calculateOrdinalNumber",value:function(e){for(var t=1,n=e-1;n>=0;n-=1){var i=this._getListDepth(n);if(1===i&&f.exec(this.doc.getLine(n))){t=parseInt(RegExp.$1,10)+1;break}if(0===i)break}return t}},{key:"_isListLine",value:function(e){return!!a.exec(this.doc.getLine(e))}},{key:"_isCanBeList",value:function(e){var t=this.doc.getLine(e);return!v.test(t)&&!h.test(t)&&!g.test(t)}},{key:"_getChangeFn",value:function(e){var t=this,n=void 0;switch(e){case"ol":case"ul":n=function(n){return t._changeToList(n,e)};break;case"task":n=function(e){return t._changeToTask(e)}}return n}},{key:"changeSyntax",value:function(e,t){for(var n=[],i=this._createSortedLineRange(e),a=i.start,o=i.end,r=this._getChangeFn(t),l=a;l<=o&&this._isCanBeList(l);l+=1)this._isListLine(l)||n.push(l),r(l);this._insertBlankLineForNewList(n),this.cm.focus()}},{key:"_replaceLineText",value:function(e,t){this.doc.replaceRange(e,{line:t,ch:0})}},{key:"_changeToList",value:function(e,t){var n=this;this._isListLine(e)?this._changeSameDepthList(e,"ol"===t?function(e,t){n._replaceListTypeToOL(e,t)}:function(e){n._replaceListTypeToUL(e)}):this._replaceLineText("ol"===t?this._calculateOrdinalNumber(e)+". ":"* ",e)}},{key:"_changeToTask",value:function(e){o.exec(this.doc.getLine(e))?this._replaceLineTextByRegexp(e,u,"$1"):this._isListLine(e)?this._replaceLineTextByRegexp(e,s,"$1[ ] "):this._replaceLineText("* [ ] ",e)}},{key:"_getListDepth",value:function(e){return this.doc.getLine(e)?this.doc.cm.getStateAfter(e).base.listStack.length:0}},{key:"_findSameDepthList",value:function(e,t,n){for(var i=this.doc.lineCount(),a=[],o=e,r=void 0;n?o<i-1:o>0;)if(o=n?o+1:o-1,(r=this._getListDepth(o))===t)a.push(o);else if(r<t)break;return a}},{key:"_changeSameDepthList",value:function(e,t){var n=this._getListDepth(e),i=this._findSameDepthList(e,n,!1).reverse(),a=this._findSameDepthList(e,n,!0);i.concat([e]).concat(a).forEach((function(e,n){t(e,n+1)}))}},{key:"_replaceLineTextByRegexp",value:function(e,t,n){var i=this.doc.getLine(e),a={line:e,ch:0},o={line:e,ch:i.length};i=i.replace(t,n),this.doc.replaceRange(i,a,o)}},{key:"_replaceListTypeToUL",value:function(e){var t=this.doc.getLine(e);d.exec(t)?this._replaceLineTextByRegexp(e,d,"$1 "):f.exec(t)&&this._replaceLineTextByRegexp(e,f,"* ")}},{key:"_replaceListTypeToOL",value:function(e,t){var n=this.doc.getLine(e);r.exec(n)||l.exec(n)?this._replaceLineTextByRegexp(e,c,t+". "):f.exec(n)&&parseInt(RegExp.$1,10)!==t&&this._replaceLineTextByRegexp(e,f,t+". ")}},{key:"_insertBlankLineForNewList",value:function(e){var t=e.length;if(t){var n=e[0],i=e[t-1];this._isNotBlankNotListLine(i+1)&&this.doc.replaceRange("\n",{line:i,ch:this.doc.getLine(i).length}),n>0&&this._isNotBlankNotListLine(n-1)&&this.doc.replaceRange("\n",{line:n,ch:0})}}},{key:"_isNotBlankNotListLine",value:function(e){return!!this.doc.getLine(e)&&!this._isListLine(e)}}]),e}();t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var a=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._mde=t,this.setRange(n||t.getRange())}return i(e,[{key:"_setStart",value:function(e){this._start=e}},{key:"_setEnd",value:function(e){this._end=e}},{key:"setRange",value:function(e){this._setStart(e.start),this._setEnd(e.end)}},{key:"setEndBeforeRange",value:function(e){this._setEnd(e.start)}},{key:"expandStartOffset",value:function(){var e=this._start;0!==e.ch&&(e.ch-=1)}},{key:"expandEndOffset",value:function(){var e=this._end;e.ch<this._mde.getEditor().getDoc().getLine(e.line).length&&(e.ch+=1)}},{key:"getTextContent",value:function(){return this._mde.getEditor().getRange(this._start,this._end)}},{key:"replaceContent",value:function(e){this._mde.getEditor().replaceRange(e,this._start,this._end,"+input")}},{key:"deleteContent",value:function(){this._mde.getEditor().replaceRange("",this._start,this._end,"+delete")}},{key:"peekStartBeforeOffset",value:function(e){var t={line:this._start.line,ch:Math.max(this._start.ch-e,0)};return this._mde.getEditor().getRange(t,this._start)}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=k(n(0)),o=k(n(1)),r=k(n(4)),l=k(n(58)),s=k(n(61)),u=k(n(62)),c=k(n(38)),d=k(n(39)),f=k(n(63)),h=k(n(64)),g=k(n(65)),v=k(n(40)),p=k(n(66)),m=k(n(20)),y=k(n(68)),_=k(n(37)),b=k(n(69));function k(e){return e&&e.__esModule?e:{default:e}}var w=m.default.getSharedInstance(),C=/<([a-z]+|h\d)>(<br>|<br \/>)<\/\1>/gi,E=/(?:<br>|<br \/>)<\/(.+?)>/gi,M=/\b(H[\d]|LI|P|BLOCKQUOTE|TD|PRE)\b/,T=/<span([^>]*)>[\u0020]/g,S=/[\u0020]<\/span>/g,O=/^(TABLE|H[1-6])$/,L="undefined"!=typeof MutationObserver,N=function(){function e(t,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.componentManager=new _.default(this),this.eventManager=n,this.$editorContainerEl=t,this._height=0,this._silentChange=!1,this._keyEventHandlers={},this._managers={},this._linkAttribute={},this._initEvent(),this._initDefaultKeyEventHandler(),this.debouncedPostProcessForChange=o.default.debounce((function(){return i.postProcessForChange()}),0)}return i(e,[{key:"init",value:function(e){var t=(0,a.default)("<div />");this.$editorContainerEl.append(t),this.editor=new p.default(t[0],{blockTag:"DIV",leafNodeNames:{HR:!1},allowedBlocks:e?[]:["details","summary"]}),this.editor.blockCommandShortcuts(),this._clipboardManager=new l.default(this),this._initSquireEvent(),this._clipboardManager.init(),this.get$Body().addClass("tui-editor-contents"),this.$editorContainerEl.css("position","relative"),this._togglePlaceholder(),this.codeBlockGadget=new b.default({eventManager:this.eventManager,container:this.$editorContainerEl,wysiwygEditor:this})}},{key:"_initEvent",value:function(){var e=this;this.eventManager.listen("wysiwygKeyEvent",(function(t){return e._runKeyEventHandlers(t.data,t.keyMap)})),this.eventManager.listen("wysiwygRangeChangeAfter",(function(){return e.scrollIntoCursor()})),this.eventManager.listen("contentChangedFromWysiwyg",(function(){e._togglePlaceholder()}))}},{key:"addKeyEventHandler",value:function(e,t){var n=this;t||(t=e,e="DEFAULT"),o.default.isArray(e)||(e=[e]),e.forEach((function(e){n._keyEventHandlers[e]||(n._keyEventHandlers[e]=[]),n._keyEventHandlers[e].push(t)}))}},{key:"removeKeyEventHandler",value:function(e,t){t||(t=e,e="DEFAULT");var n=this._keyEventHandlers[e];n&&(this._keyEventHandlers[e]=n.filter((function(e){return e!==t})))}},{key:"_runKeyEventHandlers",value:function(e,t){var n=this.getRange(),i=void 0,a=void 0;(i=this._keyEventHandlers.DEFAULT)&&o.default.forEachArray(i,(function(i){return a=i(e,n,t)})),(i=this._keyEventHandlers[t])&&!1!==a&&o.default.forEachArray(i,(function(i){return i(e,n,t)}))}},{key:"_initSquireEvent",value:function(){var e=this,t=this.getEditor(),n=!1;t.addEventListener("copy",(function(t){e.eventManager.emit("copy",{source:"wysiwyg",data:t}),o.default.debounce((function(){e.isEditorValid()&&e.eventManager.emit("copyAfter",{source:"wysiwyg",data:t})}))()})),t.addEventListener(o.default.browser.msie?"beforecut":"cut",(function(t){e.eventManager.emit("cut",{source:"wysiwyg",data:t}),o.default.debounce((function(){e.isEditorValid()&&e.eventManager.emit("cutAfter",{source:"wysiwyg",data:t})}))()})),t.addEventListener(o.default.browser.msie?"beforepaste":"paste",(function(t){e.eventManager.emit("paste",{source:"wysiwyg",data:t})})),t.addEventListener("dragover",(function(e){return e.preventDefault(),!1})),t.addEventListener("drop",(function(t){return t.preventDefault(),e.eventManager.emit("drop",{source:"wysiwyg",data:t}),!1})),t.addEventListener("input",o.default.debounce((function(){if(e.isEditorValid()){if(e._silentChange)e._silentChange=!1;else{var t={source:"wysiwyg"};e.eventManager.emit("changeFromWysiwyg",t),e.eventManager.emit("change",t),e.eventManager.emit("contentChangedFromWysiwyg",e)}e.getEditor().preserveLastLine()}}),0)),t.addEventListener("keydown",(function(t){e.getEditor().getSelection().collapsed||(n=!0),e.eventManager.emit("keydown",{source:"wysiwyg",data:t}),e._onKeyDown(t)})),o.default.browser.firefox&&(t.addEventListener("keypress",(function(t){var i=t.keyCode;13!==i&&9!==i||(e.getEditor().getSelection().collapsed||(n=!0),e.eventManager.emit("keydown",{source:"wysiwyg",data:t}),e._onKeyDown(t))})),t.addEventListener("keyup",(function(){var t=e.getRange();if(r.default.isTextNode(t.commonAncestorContainer)&&r.default.isTextNode(t.commonAncestorContainer.previousSibling)){var n=t.commonAncestorContainer.previousSibling.length,i=t.commonAncestorContainer;t.commonAncestorContainer.previousSibling.appendData(t.commonAncestorContainer.data),t.setStart(t.commonAncestorContainer.previousSibling,n+t.startOffset),t.collapse(!0),i.parentNode.removeChild(i),e.setRange(t),t.detach()}}))),t.addEventListener("keyup",(function(t){n&&(e.debouncedPostProcessForChange(),n=!1),e.eventManager.emit("keyup",{source:"wysiwyg",data:t})})),this.$editorContainerEl.on("scroll",(function(t){e.eventManager.emit("scroll",{source:"wysiwyg",data:t})})),t.addEventListener("click",(function(t){e.eventManager.emit("click",{source:"wysiwyg",data:t})})),t.addEventListener("mousedown",(function(t){e.eventManager.emit("mousedown",{source:"wysiwyg",data:t})})),t.addEventListener("mouseover",(function(t){e.eventManager.emit("mouseover",{source:"wysiwyg",data:t})})),t.addEventListener("mouseout",(function(t){e.eventManager.emit("mouseout",{source:"wysiwyg",data:t})})),t.addEventListener("mouseup",(function(t){e.eventManager.emit("mouseup",{source:"wysiwyg",data:t})})),t.addEventListener("contextmenu",(function(t){e.eventManager.emit("contextmenu",{source:"wysiwyg",data:t})})),t.addEventListener("focus",(function(){e.eventManager.emit("focus",{source:"wysiwyg"})})),t.addEventListener("blur",(function(){e.fixIMERange(),e.eventManager.emit("blur",{source:"wysiwyg"})})),t.addEventListener("pathChange",(function(t){var n={bold:/(>B|>STRONG|^B$|^STRONG$)/.test(t.path),italic:/(>I|>EM|^I$|^EM$)/.test(t.path),strike:/(^S>|>S$|>S>|^S$)/.test(t.path),code:/CODE/.test(t.path),codeBlock:/PRE/.test(t.path),quote:/BLOCKQUOTE/.test(t.path),list:/LI(?!.task-list-item)/.test(e._getLastLiString(t.path)),task:/LI.task-list-item/.test(e._getLastLiString(t.path)),source:"wysiwyg"};e.eventManager.emit("stateChange",n)})),t.addEventListener("willPaste",(function(t){t.fragment&&e.eventManager.emit("willPaste",{source:"wysiwyg",data:t})}))}},{key:"_togglePlaceholder",value:function(){var e=this.getEditor();e.modifyDocument((function(){var t=e.getRoot();t.textContent||t.childNodes.length>1?t.classList.remove("tui-editor-contents-placeholder"):t.classList.add("tui-editor-contents-placeholder")}))}},{key:"_getLastLiString",value:function(e){var t=/LI[^UO]*$/.exec(e);return t?t[0]:""}},{key:"_onKeyDown",value:function(e){var t=w.convert(e);e.keyCode&&(this.eventManager.emit("keyMap",{source:"wysiwyg",keyMap:t,data:e}),e.defaultPrevented||this.eventManager.emit("wysiwygKeyEvent",{keyMap:t,data:e}))}},{key:"_initDefaultKeyEventHandler",value:function(){var e=this;this.addKeyEventHandler("ENTER",(function(t,n){e._isInOrphanText(n)&&e.defer((function(){e._wrapDefaultBlockToOrphanTexts(),e.breakToNewDefaultBlock(n,"before")})),e.defer((function(){return e.scrollIntoCursor()}))})),this.addKeyEventHandler("TAB",(function(t){var n=e.getEditor(),i=n.getSelection(),a=i.collapsed&&e._isCursorNotInRestrictedAreaOfTabAction(n),o=!i.collapsed&&r.default.isTextNode(i.commonAncestorContainer);return t.preventDefault(),!a&&!o||(n.insertPlainText("    "),!1)})),this.addKeyEventHandler("BACK_SPACE",(function(t,n,i){return e._handleRemoveKeyEvent(t,n,i)})),this.addKeyEventHandler("DELETE",(function(t,n,i){return e._handleRemoveKeyEvent(t,n,i)}))}},{key:"_handleRemoveKeyEvent",value:function(e,t,n){var i=this.getEditor();if(this._isStartHeadingOrTableAndContainsThem(t)){var a="BACK_SPACE"===n?"backspace":"delete";return i.removeAllFormatting(),i._keyHandlers[a](i,e,i.getSelection()),i.removeLastUndoStack(),!1}return!0}},{key:"_isStartHeadingOrTableAndContainsThem",value:function(e){var t=e.startContainer,n=e.startOffset,i=e.commonAncestorContainer,a=e.collapsed,o=this.getEditor().getRoot(),l=!1;return a||i!==o||(t===o?l=O.test(r.default.getChildNodeByOffset(t,n).nodeName):0===n&&(l=O.test(r.default.getParentUntil(t,o).nodeName))),l}},{key:"_wrapDefaultBlockToOrphanTexts",value:function(){this.get$Body().contents().filter(this.findTextNodeFilter).each((function(e,t){t.nextSibling&&"BR"===t.nextSibling.tagName&&(0,a.default)(t.nextSibling).remove(),(0,a.default)(t).wrap("<div />")}))}},{key:"_isInOrphanText",value:function(e){return e.startContainer.nodeType===Node.TEXT_NODE&&e.startContainer.parentNode===this.get$Body()[0]}},{key:"_wrapDefaultBlockTo",value:function(e){this.saveSelection(e),this._joinSplitedTextNodes(),this.restoreSavedSelection();var t=(e=this.getRange()).startContainer,n=e.startOffset,i=this.getEditor().createDefaultBlock([e.startContainer]),a=r.default.getChildNodeByOffset(e.startContainer,e.startOffset);a?e.setStartBefore(a):e.selectNodeContents(e.startContainer),e.collapse(!0),e.insertNode(i),e.setStart(t,n),e.collapse(!0),this.setRange(e)}},{key:"findTextNodeFilter",value:function(){return this.nodeType===Node.TEXT_NODE}},{key:"_joinSplitedTextNodes",value:function(){var e=void 0,t=void 0,n=[];this.get$Body().contents().filter(this.findTextNodeFilter).each((function(i,a){e===a.previousSibling?(t.nodeValue+=a.nodeValue,n.push(a)):t=a,e=a})),(0,a.default)(n).remove()}},{key:"saveSelection",value:function(e){e||(e=this.getRange()),this.getEditor()._saveRangeToBookmark(e)}},{key:"setSelectionByContainerAndOffset",value:function(e,t,n,i){var a=this.getEditor(),o=a.getSelection();return o.setStart(e,t),o.setEnd(n,i),a.setSelection(o),o}},{key:"restoreSavedSelection",value:function(){this.setRange(this.getEditor()._getRangeAndRemoveBookmark())}},{key:"reset",value:function(){this.setValue("")}},{key:"changeBlockFormatTo",value:function(e){this.getEditor().changeBlockFormatTo(e),this.eventManager.emit("wysiwygRangeChangeAfter",this)}},{key:"makeEmptyBlockCurrentSelection",value:function(){var e=this;this.getEditor().modifyBlocks((function(t){return t.textContent||(t=e.getEditor().createDefaultBlock()),t}))}},{key:"focus",value:function(){var e=this.scrollTop();this.editor.focus(),e!==this.scrollTop()&&this.scrollTop(e)}},{key:"blur",value:function(){this.editor.blur()}},{key:"remove",value:function(){this.$editorContainerEl.off("scroll"),this.getEditor().destroy(),this.editor=null,this.$body=null,this.eventManager=null}},{key:"setHeight",value:function(e){this._height=e,this.$editorContainerEl.css("overflow","auto"),this.$editorContainerEl.css("height","100%"),this.$editorContainerEl.parent().height(e);var t=parseInt(this.$editorContainerEl.css("padding-top"),10)-parseInt(this.$editorContainerEl.css("padding-bottom"),10),n=parseInt(this.get$Body().css("margin-top"),10)-parseInt(this.get$Body().css("margin-bottom"),10);this.get$Body().css("min-height",e-n-t+"px")}},{key:"setMinHeight",value:function(e){this.get$Body().get(0).style.minHeight=e+"px"}},{key:"setPlaceholder",value:function(e){e&&this.getEditor().getRoot().setAttribute("data-placeholder",e)}},{key:"setLinkAttribute",value:function(e){this._linkAttribute=e}},{key:"getLinkAttribute",value:function(){return this._linkAttribute}},{key:"setValue",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e=this.eventManager.emitReduce("wysiwygSetValueBefore",e),this.editor.setHTML(e),this.eventManager.emit("wysiwygSetValueAfter",this),this.eventManager.emit("contentChangedFromWysiwyg",this),t&&this.moveCursorToEnd(),this.getEditor().preserveLastLine(),this.getEditor().removeLastUndoStack(),this.getEditor().saveUndoState()}},{key:"insertText",value:function(e){this.editor.insertPlainText(e)}},{key:"getValue",value:function(){this._prepareGetHTML();var e=this.editor.getHTML();return e=(e=(e=(e=(e=(e=e.replace(C,(function(e,t){return"li"===t?e:"td"===t||"th"===t?"<"+t+"></"+t+">":"<br />"}))).replace(T,"<span$1>&nbsp;")).replace(S,"&nbsp;</span>")).replace(E,"</$1>")).replace(/<div[^>]*>/g,"")).replace(/<\/div>/g,"<br />"),e=this.eventManager.emitReduce("wysiwygProcessHTMLText",e)}},{key:"_prepareGetHTML",value:function(){var e=this;this.getEditor().modifyDocument((function(){e._joinSplitedTextNodes(),e.eventManager.emit("wysiwygGetValueBefore",e)}))}},{key:"postProcessForChange",value:function(){var e=this;this.isEditorValid()&&this.getEditor().modifyDocument((function(){e.eventManager.emit("wysiwygRangeChangeAfter",e)}))}},{key:"readySilentChange",value:function(){L&&!this.getEditor().isIgnoreChange()&&(this._silentChange=!0)}},{key:"getEditor",value:function(){return this.editor}},{key:"replaceSelection",value:function(e,t){this.getEditor().replaceSelection(e,t)}},{key:"replaceRelativeOffset",value:function(e,t,n){this.getEditor().replaceRelativeOffset(e,t,n)}},{key:"addWidget",value:function(e,t,n,i){var o=this.getEditor().getSelectionPosition(e,n,i),r=this.$editorContainerEl.offset();this.$editorContainerEl.append(t),(0,a.default)(t).css({position:"absolute",top:o.top-r.top+this.scrollTop(),left:o.left-r.left})}},{key:"get$Body",value:function(){return this.getEditor().get$Body()}},{key:"hasFormatWithRx",value:function(e){return this.getEditor().getPath().match(e)}},{key:"breakToNewDefaultBlock",value:function(e,t){var n=this.editor.createDefaultBlock(),i=r.default.getChildNodeByOffset(e.startContainer,e.startOffset)||r.default.getChildNodeByOffset(e.startContainer,e.startOffset-1),o=r.default.getParentUntil(i,this.get$Body()[0]);"before"===t?(0,a.default)(o).before(n):(0,a.default)(o).after(n),e.setStart(n,0),e.collapse(!0),this.setRange(e)}},{key:"replaceContentText",value:function(e,t,n){var i=(0,a.default)(e).html();(0,a.default)(e).html(i.replace(t,n))}},{key:"unwrapBlockTag",value:function(e){e||(e=function(e){return M.test(e)}),this.getEditor().changeBlockFormat(e),this.eventManager.emit("wysiwygRangeChangeAfter",this)}},{key:"scrollIntoCursor",value:function(){var e=this.scrollTop(),t=this.getEditor().getCursorPosition(),n=t.top,i=t.height,a=this.$editorContainerEl.get(0).getBoundingClientRect(),o=a.top,r=n-o,l=n+i-(o+a.height);r<0?this.scrollTop(e+r):l>0&&this.scrollTop(Math.ceil(e+l))}},{key:"moveCursorToEnd",value:function(){this.getEditor().moveCursorToEnd(),this.scrollIntoCursor(),this._correctRangeAfterMoveCursor("end")}},{key:"moveCursorToStart",value:function(){this.getEditor().moveCursorToStart(),this.scrollTop(0)}},{key:"scrollTop",value:function(e){return o.default.isUndefined(e)?this.$editorContainerEl.scrollTop():this.$editorContainerEl.scrollTop(e)}},{key:"_correctRangeAfterMoveCursor",value:function(e){var t=this.getRange(),n=this.get$Body().get(0);if("start"===e)for(;n.firstChild;)n=n.firstChild;else for(;n.lastChild;)n=n.lastChild;"BR"===n.tagName?t.setStartBefore(n):t.setStartAfter(n),t.collapse(!0),this.setRange(t)}},{key:"getRange",value:function(){return this.getEditor().getSelection().cloneRange()}},{key:"getIMERange",value:function(){var e=void 0,t=getSelection();return t&&t.rangeCount&&(e=t.getRangeAt(0).cloneRange()),e}},{key:"fixIMERange",value:function(){var e=this.getIMERange();e&&(0,a.default)(e.commonAncestorContainer).closest(this.$editorContainerEl).length&&this.setRange(e)}},{key:"setRange",value:function(e){this.getEditor().setSelection(e)}},{key:"isInTable",value:function(e){var t=e.collapsed?e.startContainer:e.commonAncestorContainer;return!!(0,a.default)(t).closest("[contenteditable=true] table").length}},{key:"getTextObject",value:function(e){return new y.default(this,e)}},{key:"defer",value:function(e,t){var n=this;setTimeout((function(){n.isEditorValid()&&e(n)}),t||0)}},{key:"isEditorValid",value:function(){return this.getEditor()&&a.default.contains(this.$editorContainerEl[0].ownerDocument,this.$editorContainerEl[0])}},{key:"_isCursorNotInRestrictedAreaOfTabAction",value:function(e){return!e.hasFormat("li")&&!e.hasFormat("blockquote")&&!e.hasFormat("table")}}],[{key:"factory",value:function(t,n,i){var a=new e(t,n,i);return a.init(i.useDefaultHTMLSanitizer),a.componentManager.addManager(s.default),a.componentManager.addManager(u.default),a.componentManager.addManager(d.default),a.componentManager.addManager(c.default),a.componentManager.addManager(f.default),a.componentManager.addManager(h.default),a.componentManager.addManager(g.default),a.componentManager.addManager(v.default),a}}]),e}();t.default=N},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=u(n(0)),o=u(n(1)),r=u(n(4)),l=u(n(59)),s=u(n(60));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.wwe=t,this._pch=new l.default(this.wwe),this._tablePasteHelper=new s.default(this.wwe),this._selectedSellCount=0,this._$clipboardArea=null}return i(e,[{key:"init",value:function(){var e=this;this.wwe.eventManager.listen("willPaste",(function(t){return e._executeHandler(e._onWillPaste.bind(e),t)})),this.wwe.eventManager.listen("copy",(function(t){return e._executeHandler(e._onCopyCut.bind(e),t)})),this.wwe.eventManager.listen("copyAfter",(function(t){return e._executeHandler(e._onCopyAfter.bind(e),t)})),this.wwe.eventManager.listen("cut",(function(t){return e._executeHandler(e._onCopyCut.bind(e),t)})),this.wwe.eventManager.listen("cutAfter",(function(t){return e._executeHandler(e._onCutAfter.bind(e),t)})),this.wwe.eventManager.listen("paste",(function(t){return e._executeHandler(e._onPasteIntoTable.bind(e),t)}))}},{key:"_executeHandler",value:function(e,t){"wysiwyg"===t.source&&e(t)}},{key:"_onCopyCut",value:function(e){var t=this.wwe.componentManager.getManager("tableSelection");if(t.getSelectedCells().length)if(t.mergedTableSelectionManager){var n=this.wwe.getEditor(),i=e.data,o=n.getSelection().cloneRange(),r=(0,a.default)("<div />");this._extendRange(o),r.append(o.cloneContents()),this._updateCopyDataForListTypeIfNeed(o,r),this.wwe.eventManager.emit("copyBefore",{source:"wysiwyg",$clipboardContainer:r}),this._setClipboardData(i,r.html(),r.text())}else t.createRangeBySelectedCells()}},{key:"_clearClipboardArea",value:function(){this._$clipboardArea&&(this._$clipboardArea.remove(),this._$clipboardArea=null)}},{key:"_onCopyAfter",value:function(){this.wwe.getEditor().get$Body().focus(),this._clearClipboardArea()}},{key:"_onCutAfter",value:function(){this.wwe.getEditor().getSelection().deleteContents(),this.wwe.getEditor().focus(),this._clearClipboardArea()}},{key:"_onPasteIntoTable",value:function(e){var t=e.data,n=this.wwe.getEditor().getSelection();this.wwe.isInTable(n)&&this._isSingleCellSelected(n)&&this._tablePasteHelper.pasteClipboard(t)}},{key:"_isSingleCellSelected",value:function(e){var t=e.startContainer,n=e.endContainer;return this._getCell(t)===this._getCell(n)}},{key:"_getCell",value:function(e){return"TD"===e.nodeName?e:r.default.getParentUntil(e,"TR")}},{key:"_replaceNewLineToBr",value:function(e){r.default.getAllTextNode(e).forEach((function(e){/\n/.test(e.nodeValue)&&(e.parentNode.innerHTML=e.nodeValue.replace(/\n/g,"<br>"))}))}},{key:"_onWillPaste",value:function(e){var t=this,n=e.data,i=(0,a.default)("<div>").append(n.fragment.cloneNode(!0));this._preparePaste(i),this._setTableBookmark(i),n.fragment=document.createDocumentFragment(),i.contents().each((function(e,t){n.fragment.appendChild(t)}));this.wwe.getEditor().addEventListener("input",(function e(){t.wwe.getEditor().removeEventListener("input",e),t.wwe.eventManager.emit("wysiwygRangeChangeAfter",t),t._focusTableBookmark()}))}},{key:"_setClipboardData",value:function(e,t,n){o.default.browser.msie?(e.squirePrevented=!0,this._$clipboardArea=this._createClipboardArea(),this._$clipboardArea.html(t),this._$clipboardArea.focus(),window.getSelection().selectAllChildren(this._$clipboardArea[0])):(e.preventDefault(),e.stopPropagation(),e.clipboardData.setData("text/html",t),e.clipboardData.setData("text/plain",n))}},{key:"_createClipboardArea",value:function(){return(0,a.default)("<DIV>").attr({contenteditable:"true",style:"position:fixed; overflow:hidden; top:0; right:100%; width:1px; height:1px;"}).appendTo(document.body)}},{key:"_updateCopyDataForListTypeIfNeed",value:function(e,t){var n=e.commonAncestorContainer.nodeName;if("UL"===n||"OL"===n){var i=(0,a.default)("<"+n+" />");i.append(t.html()),t.html(""),t.append(i)}}},{key:"_removeEmptyFontElement",value:function(e){e.children("font").each((function(e,t){var n=(0,a.default)(t);n.text().trim()||n.remove()}))}},{key:"_isFromMs",value:function(e){return/<p style="[^>]*mso-/.test(e)}},{key:"_preProcessPtag",value:function(e){var t=e.querySelectorAll("p");o.default.forEachArray(t,(function(e){e.lastChild&&"BR"!==e.lastChild.nodeName&&e.appendChild(document.createElement("br")),e.appendChild(document.createElement("br"))}))}},{key:"_preparePaste",value:function(e){this._isFromMs(e.html())||this._preProcessPtag(e.get(0)),this._replaceNewLineToBr(e.get(0)),this._removeEmptyFontElement(e),this._pch.preparePaste(e),this.wwe.eventManager.emit("pasteBefore",{source:"wysiwyg",$clipboardContainer:e})}},{key:"_setTableBookmark",value:function(e){var t=(0,a.default)(e[0].childNodes).last();t[0]&&"TABLE"===t[0].nodeName&&t.addClass("tui-paste-table-bookmark")}},{key:"_focusTableBookmark",value:function(){var e=this.wwe.getEditor(),t=e.getSelection().cloneRange(),n=e.get$Body().find(".tui-paste-table-bookmark"),i=e.get$Body().find(".tui-paste-table-cell-bookmark");n.length&&(n.removeClass("tui-paste-table-bookmark"),t.setEndAfter(n[0]),t.collapse(!1),e.setSelection(t)),i.length&&(i.removeClass("tui-paste-table-cell-bookmark"),t.selectNodeContents(i[0]),t.collapse(!1),e.setSelection(t))}},{key:"_extendRange",value:function(e){(!r.default.isTextNode(e.commonAncestorContainer)||0===e.startOffset&&e.commonAncestorContainer.textContent.length===e.endOffset||"TD"===e.commonAncestorContainer.nodeName)&&(0===e.startOffset&&(e=this._extendStartRange(e)),e.endOffset===r.default.getOffsetLength(e.endContainer)&&(e=this._extendEndRange(e)),this._isWholeCommonAncestorContainerSelected(e)&&e.selectNode(e.commonAncestorContainer),this.wwe.getEditor().setSelection(e))}},{key:"_extendStartRange",value:function(e){for(var t=e.startContainer;t.parentNode!==e.commonAncestorContainer&&t.parentNode!==this.wwe.get$Body()[0]&&!t.previousSibling;)t=t.parentNode;return e.setStart(t.parentNode,r.default.getNodeOffsetOfParent(t)),e}},{key:"_extendEndRange",value:function(e){for(var t=e.endContainer,n=t.nextSibling;t.parentNode!==e.commonAncestorContainer&&t.parentNode!==this.wwe.get$Body()[0]&&(!n||"BR"===r.default.getNodeName(n)&&t.parentNode.lastChild===n);)n=(t=t.parentNode).nextSibling;return e.setEnd(t.parentNode,r.default.getNodeOffsetOfParent(t)+1),e}},{key:"_isWholeCommonAncestorContainerSelected",value:function(e){return e.commonAncestorContainer.nodeType===Node.ELEMENT_NODE&&e.commonAncestorContainer!==this.wwe.get$Body()[0]&&0===e.startOffset&&e.endOffset===e.commonAncestorContainer.childNodes.length&&e.commonAncestorContainer===e.startContainer&&e.commonAncestorContainer===e.endContainer}}]),e}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=s(n(0)),o=s(n(1)),r=s(n(4)),l=s(n(9));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.wwe=t}return i(e,[{key:"preparePaste",value:function(e){var t=this.wwe.getEditor().getSelection().cloneRange(),n=this.wwe.componentManager.getManager("codeblock"),i=!1,l=(0,a.default)("<div />"),s=void 0,u=void 0,c=void 0;this._pasteFirstAid(e);for(var d=o.default.toArray(e[0].childNodes);d.length;)u=d[0],c="LI"===(s=r.default.getNodeName(u))||"UL"===s||"OL"===s,n.isInCodeBlock(t)?l.append(n.prepareToPasteOnCodeblock(d)):c?(l.append(this._prepareToPasteList(d,t,i)),i=!0):l.append(d.shift());e.html(l.html())}},{key:"_wrapOrphanNodeWithDiv",value:function(e){var t=(0,a.default)("<div />"),n=o.default.toArray(e[0].childNodes),i=void 0;return o.default.forEachArray(n,(function(e){var n=3===e.nodeType,o=/^(SPAN|A|CODE|EM|I|STRONG|B|S|U|ABBR|ACRONYM|CITE|DFN|KBD|SAMP|VAR|BDO|Q|SUB|SUP)$/gi.test(e.tagName),r="BR"===e.nodeName;n||o||r?(i||(i=document.createElement("div"),t.append(i)),i.appendChild(e),r&&(i=null)):(i&&"BR"!==i.lastChild.tagName&&i.appendChild((0,a.default)("<br/>")[0]),i=null,t.append(e))})),t.html()}},{key:"_pasteFirstAid",value:function(e){var t=this,n="div, section, article, aside, nav, menus, p";e.html((0,l.default)(e.html(),!0)),e.find("*").each((function(e,n){t._removeStyles(n)})),this._unwrapIfNonBlockElementHasBr(e),this._unwrapNestedBlocks(e,n),this._removeUnnecessaryBlocks(e,n),e.html(this._wrapOrphanNodeWithDiv(e)),this._preElementAid(e),this._tableElementAid(e),e.children("br").remove()}},{key:"_preElementAid",value:function(e){this.wwe.componentManager.getManager("codeblock").modifyCodeBlockForWysiwyg(e)}},{key:"_unwrapIfNonBlockElementHasBr",value:function(e){e.find("span, a, b, em, i, s").each((function(e,t){var n=(0,a.default)(t).children("br");n.length&&"LI"!==t.nodeName&&"UL"!==t.nodeName&&n.eq(0).unwrap()}))}},{key:"_unwrapNestedBlocks",value:function(e,t){e.find(":not(:has(*))").not("b,s,i,em,code,span,hr").each((function(n,i){for(var o="BR"===i.nodeName?(0,a.default)(i.parentNode):(0,a.default)(i);o.parents(t).length;){var r=o.parent(t);r.length&&r[0]!==e[0]?o.unwrap():o=o.parent()}}))}},{key:"_removeUnnecessaryBlocks",value:function(e,t){e.find(t).each((function(e,n){var i=(0,a.default)(n),o="DIV"===n.tagName,r=0!==i.parent("li").length,l=0!==i.parent("blockquote").length,s=i.children(t).length;o&&(r||l||!s)||(n.lastChild&&"BR"!==n.lastChild.nodeName&&i.append(document.createElement("br")),i.replaceWith(i.html()))}))}},{key:"_removeStyles",value:function(e){var t=(0,a.default)(e),n=void 0;"SPAN"!==r.default.getNodeName(t[0])?t.removeAttr("style"):(t.attr("style")&&(n=t.css("color")),t.removeAttr("style"),n?t.css("color",n):t.contents().unwrap())}},{key:"_prepareToPasteList",value:function(e,t,n){var i=r.default.getNodeName(e[0]),o=e.shift(),l=this.wwe.getEditor().getDocument().createDocumentFragment();if("LI"!==i&&e.length&&"LI"===e[0].tagName&&(i="LI",o=this._makeNodeAndAppend({tagName:i},o)),"OL"===i||"UL"===i)!n&&this.wwe.getEditor().hasFormat("LI")?(0,a.default)(l).append(this._wrapCurrentFormat(o)):(0,a.default)(l).append(o);else if("LI"===i){var s=this.wwe.getEditor().getDocument().createDocumentFragment();for(s.appendChild(o);e.length&&"LI"===e[0].tagName;)s.appendChild(e.shift());!n&&this.wwe.getEditor().hasFormat("LI")?(0,a.default)(l).append(this._wrapCurrentFormat(s)):!t||"UL"!==t.commonAncestorName&&"OL"!==t.commonAncestorName?(0,a.default)(l).append(this._makeNodeAndAppend({tagName:"UL"},s)):(0,a.default)(l).append(this._makeNodeAndAppend({tagName:t.commonAncestorName},s))}return l}},{key:"_unwrapFragmentFirstChildForPasteAsInline",value:function(e){return(0,a.default)(e).find("br").remove(),e.childNodes}},{key:"_wrapCurrentFormat",value:function(e){var t=this,n=void 0;return this._eachCurrentPath((function(i){"DIV"!==i.tagName&&(n=r.default.isElemNode(e)?e.tagName:e.firstChild.tagName,i.tagName!==n&&(e=t._makeNodeAndAppend(i,e)))})),e}},{key:"_eachCurrentPath",value:function(e){for(var t=r.default.getPath(this.wwe.getEditor().getSelection().startContainer,this.wwe.get$Body()[0]),n=t.length-1;n>-1;n-=1)e(t[n])}},{key:"_makeNodeAndAppend",value:function(e,t){var n=(0,a.default)("<"+e.tagName+"/>");return n.append(t),e.id&&n.attr("id",e.id),e.className&&n.addClass(e.className),n[0]}},{key:"_tableElementAid",value:function(e){this._removeColgroup(e),this._completeTableIfNeed(e),this._updateTableIDClassName(e)}},{key:"_removeColgroup",value:function(e){e.find("colgroup").remove()}},{key:"_completeTableIfNeed",value:function(e){var t=this.wwe.componentManager.getManager("table"),n=t.wrapDanglingTableCellsIntoTrIfNeed(e);n&&e.append(n);var i=t.wrapTrsIntoTbodyIfNeed(e);i&&e.append(i);var a=t.wrapTheadAndTbodyIntoTableIfNeed(e);a&&e.append(a)}},{key:"_updateTableIDClassName",value:function(e){var t=this.wwe.componentManager.getManager("table");e.find("table").each((function(e,t){(0,a.default)(t).removeClass((function(e,t){return t.replace(/.*\s*(te-content-table-\d+)\s*.*/,"$1")}))})),e.find("table").each((function(e,n){(0,a.default)(n).addClass(t.getTableIDClassName())}))}}]),e}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=l(n(1)),o=l(n(4)),r=l(n(9));function l(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.wwe=t}return i(e,[{key:"pasteClipboard",value:function(e){var t=e.clipboardData||window.clipboardData,n=t&&t.items;n?(this._pasteClipboardItem(n),e.preventDefault()):(this._pasteClipboardUsingPasteArea(),e.squirePrevented=!0)}},{key:"_pasteClipboardUsingPasteArea",value:function(){var e=this,t=this.wwe.getEditor(),n=t.getSelection(),i=n.startContainer,a=n.startOffset,o=n.endContainer,r=n.endOffset,l=document.createElement("div"),s=document.body;l.setAttribute("contenteditable",!0),l.setAttribute("style","position:fixed; overflow:hidden; top:0; right:100%; width:1px; height:1px;"),s.appendChild(l),n.selectNodeContents(l),t.setSelection(n),setTimeout((function(){var u=s.removeChild(l);n.setStart(i,a),n.setEnd(o,r),t.focus(),t.setSelection(n),e._pasteClipboardHtml(u.innerHTML)}))}},{key:"_pasteClipboardItem",value:function(e){var t=this,n=null,i=null;a.default.forEachArray(e,(function(e){"text/html"===e.type?i=e:"text/plain"===e.type&&(n=e)})),i?i.getAsString((function(e){t._pasteClipboardHtml(e)})):n&&n.getAsString((function(e){t._pasteClipboardContainer(document.createTextNode(e))}))}},{key:"_pasteClipboardHtml",value:function(e){var t=document.createDocumentFragment(),n=e.indexOf("\x3c!--StartFragment--\x3e"),i=e.lastIndexOf("\x3c!--EndFragment--\x3e");n>-1&&i>-1&&(e=e.slice(n+"\x3c!--StartFragment--\x3e".length,i)),/<\/td>((?!<\/tr>)[\s\S])*$/i.test(e)&&(e="<TR>"+e+"</TR>"),/<\/tr>((?!<\/table>)[\s\S])*$/i.test(e)&&(e="<TABLE>"+e+"</TABLE>"),t.appendChild((0,r.default)(e)),this._pasteClipboardContainer(t)}},{key:"_pasteClipboardContainer",value:function(e){var t=this.wwe.getEditor(),n=e.childNodes;if(1===n.length&&"TABLE"===n[0].nodeName){this.wwe.componentManager.getManager("table").pasteTableData(e)}else{var i=t.getSelection().cloneRange(),a=this._preparePasteDocumentFragment(e);t.saveUndoState(i),i.collapsed||this._deleteContentsRange(i),o.default.isTextNode(i.startContainer)?this._pasteIntoTextNode(i,a):this._pasteIntoElements(i,a),t.setSelection(i)}}},{key:"_preparePasteDocumentFragment",value:function(e){var t=e.childNodes,n=document.createDocumentFragment();return t.length?n.appendChild(this._unwrapBlock(e)):this._isPossibleInsertToTable(e)&&n.appendChild(e),n}},{key:"_unwrapBlock",value:function(e){for(var t=document.createDocumentFragment(),n=a.default.toArray(e.childNodes);n.length;){var i=n.shift();if(this._isPossibleInsertToTable(i))t.appendChild(i);else{t.appendChild(this._unwrapBlock(i));var o=t.lastChild;n.length&&o&&"BR"!==o.nodeName&&t.appendChild(document.createElement("br"))}}return t}},{key:"_isPossibleInsertToTable",value:function(e){var t=e.nodeName;return!("CODE"===t&&e.childNodes.length>1)&&("UL"===t||"OL"===t||o.default.isMDSupportInlineNode(e)||o.default.isTextNode(e))}},{key:"_pasteIntoElements",value:function(e,t){var n=e.startContainer,i=e.startOffset,a=o.default.getChildNodeByOffset(n,i);if(a)n.insertBefore(t,a),e.setStart(a,0);else if("TD"===n.nodeName)n.appendChild(t),e.setStart(n,n.childNodes.length);else{var r=n.parentNode,l=n.nextSibling;r.insertBefore(t,l),l?e.setStart(l,0):e.setStartAfter(r.lastChild)}e.collapse(!0)}},{key:"_pasteIntoTextNode",value:function(e,t){var n=e.startContainer,i=e.startOffset,r=n.parentNode,l=n.textContent,s=l.slice(0,i),u=l.slice(i,l.length),c=t.childNodes,d=c[0],f=1===c.length&&o.default.isTextNode(d);if(s)if(u)if(f){var h=d.textContent;n.textContent=""+s+h+u,e.setStart(n,s.length+h.length)}else{var g=document.createDocumentFragment();g.appendChild(document.createTextNode(s)),g.appendChild(t),g.appendChild(document.createTextNode(u)),r.replaceChild(g,n);var v=a.default.toArray(r.childNodes),p=0;v.forEach((function(e,t){e.textContent===u&&(p=t)})),e.setStart(r.childNodes[p],0)}else{var m=n.nextSibling;r.insertBefore(t,m),e.setStartAfter(m)}else r.insertBefore(t,n),e.setStart(n,0);e.collapse(!0)}},{key:"_deleteContentsRange",value:function(e){var t=e.startContainer,n=e.startOffset,i=e.endContainer,a=e.endOffset;t===i?(this._deleteContentsByOffset(t,n,a),e.setStart(t,n),e.collapse(!0)):this._deleteNotCollapsedRangeContents(e)}},{key:"_deleteNotCollapsedRangeContents",value:function(e){var t=e.startContainer,n=e.startOffset,i=e.endContainer,a=e.endOffset,r=e.commonAncestorContainer,l=this._getBlock(t,r,n),s=this._getBlock(i,r,a-1);if(l===s)this._removeInSameBlock(l,t,i,n,a),s=i!==s?null:s;else{var u=l.nextSibling;"TD"===t.nodeName?u=this._removeOneLine(l):(this._deleteContentsByOffset(t,n,o.default.getOffsetLength(t)),o.default.removeNodesByDirection(l,t,!1)),"TD"===i.nodeName?s=this._removeOneLine(s):(this._deleteContentsByOffset(i,0,a),o.default.removeNodesByDirection(s,i,!0)),o.default.removeChildFromStartToEndNode(r,u,s)}s?e.setStart(s,0):e.setStartAfter(l),e.collapse(!0)}},{key:"_removeInSameBlock",value:function(e,t,n,i,a){var r=t===e?i:0,l=n===e?a:o.default.getOffsetLength(e);this._deleteContentsByOffset(e,r,l)}},{key:"_removeOneLine",value:function(e){var t=e.nextSibling,n=e.parentNode,i=t;return n.removeChild(e),t&&"BR"===t.nodeName&&(i=t.nextSibling,n.removeChild(t)),i}},{key:"_getBlock",value:function(e,t,n){return o.default.getParentUntil(e,t)||o.default.getChildNodeByOffset(e,n)}},{key:"_deleteContentsByOffset",value:function(e,t,n){if(o.default.isTextNode(e)){var i=e.textContent,a=i.slice(0,t),r=i.slice(n,i.length);e.textContent=""+a+r}else{var l=o.default.getChildNodeByOffset(e,t),s=o.default.getChildNodeByOffset(e,n);l&&o.default.removeChildFromStartToEndNode(e,l,s||null)}}}]),e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=l(n(0)),o=l(n(1)),r=l(n(4));function l(e){return e&&e.__esModule?e:{default:e}}var s=/<li/i,u=/(<(?:th|td)[^>]*>)(.*?)(<\/(?:th|td)>)/g,c=/<(ul|ol|li)([^>]*)>/g,d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.wwe=t,this.eventManager=t.eventManager,this.name="list",this._init()}return i(e,[{key:"_init",value:function(){this._initEvent(),this._initKeyHandler()}},{key:"_initEvent",value:function(){var e=this;this.eventManager.listen("wysiwygSetValueBefore",(function(t){return e._convertToArbitraryNestingList(t)})),this.eventManager.listen("wysiwygRangeChangeAfter",(function(){e._findAndRemoveEmptyList(),e._removeBranchListAll()})),this.eventManager.listen("wysiwygSetValueAfter",(function(){e._removeBranchListAll()})),this.eventManager.listen("wysiwygProcessHTMLText",(function(t){return t=e._convertFromArbitraryNestingList(t)})),this.eventManager.listen("convertorBeforeHtmlToMarkdownConverted",(function(t){return e._insertDataToMarkPassForListInTable(t)}))}},{key:"_initKeyHandler",value:function(){var e=this;this.wwe.addKeyEventHandler(["TAB","CTRL+]","META+]"],(function(t){var n=void 0;return e.wwe.getEditor().hasFormat("LI")&&(t.preventDefault(),e.eventManager.emit("command","Indent"),n=!1),n})),this.wwe.addKeyEventHandler(["SHIFT+TAB","CTRL+[","META+["],(function(t,n){var i=void 0;if(e.wwe.getEditor().hasFormat("LI")){t.preventDefault();var o=(0,a.default)(n.startContainer).closest("li").children("OL,UL");e.eventManager.emit("command","Outdent"),o.length&&!o.prev().length&&e._removeBranchList(o),i=!1}return i})),this.wwe.addKeyEventHandler("ENTER",(function(t,n){n.collapsed&&e.wwe.getEditor().hasFormat("LI")&&e.wwe.defer((function(){var t=e.wwe.getRange(),n=(0,a.default)(t.startContainer).parents("li").eq(0);e._removeBranchListAll(n)}))})),this.wwe.addKeyEventHandler("BACK_SPACE",(function(t,n){n.collapsed&&e.wwe.getEditor().hasFormat("LI")&&e.wwe.defer((function(){e._removeBranchListAll()}))}))}},{key:"_findAndRemoveEmptyList",value:function(){this.wwe.get$Body().find("OL,UL").each((function(e,t){s.test(t.innerHTML)||(0,a.default)(t).remove()}))}},{key:"_removeBranchListAll",value:function(e){var t=this;(e=e?(0,a.default)(e):this.wwe.get$Body()).find("li ul, li ol").each((function(e,n){n&&!n.previousSibling&&t._removeBranchList(n)}))}},{key:"_removeBranchList",value:function(e){for(var t=(0,a.default)(e),n=t;!n[0].previousSibling&&n[0].parentElement.tagName.match(/UL|OL|LI/g);)n=n.parent();var i=n.children("li").eq(0);n.prepend(t.children().unwrap()),i.remove()}},{key:"_convertToArbitraryNestingList",value:function(e){var t=document.createElement("div");t.innerHTML=e;for(var n=t.querySelector("li > ul, li > ol");null!==n;){var i=n.parentNode;i.parentNode.insertBefore(n,i.nextElementSibling),n=t.querySelector("li > ul, li > ol")}return t.innerHTML}},{key:"_convertFromArbitraryNestingList",value:function(e){var t=document.createElement("div");t.innerHTML=e;for(var n=t.querySelector("ol > ol, ol > ul, ul > ol, ul > ul");null!==n;){for(var i=n.previousElementSibling;i&&"LI"!==i.tagName;)i=i.previousElementSibling;i?i.appendChild(n):this._unwrap(n),n=t.querySelector("ol > ol, ol > ul, ul > ol, ul > ul")}return t.innerHTML}},{key:"_unwrap",value:function(e){for(var t=document.createDocumentFragment();e.firstChild;)t.appendChild(e.firstChild);e.parentNode.replaceChild(t,e)}},{key:"_insertDataToMarkPassForListInTable",value:function(e){return e.replace(u,(function(e,t,n,i){return""+t+n.replace(c,'<$1 data-tomark-pass="" $2>')+i}))}},{key:"getLinesOfSelection",value:function(e,t){var n=[],i=!1,o=!0,l=void 0;r.default.isTextNode(e)&&(e=(0,a.default)(e).parents("DIV,LI").first().get(0)),r.default.isTextNode(t)&&(t=(0,a.default)(t).parents("DIV,LI").first().get(0));for(var s=e;o&&(0,a.default)(s).is("DIV,LI");s=l)n.push(s),s===t?i=!0:l=this._getNextLine(s,t),o=l&&!i;return n}},{key:"_getNextLine",value:function(e,t){var n=e.nextElementSibling;return n?(0,a.default)(n).is("OL,UL")&&(n=n.querySelector("li")):n=e.parentNode.nextElementSibling,(0,a.default)(n).is("DIV,LI")||n===t?n:this._getNextLine(n)}},{key:"mergeList",value:function(e){var t=e.parentNode,n=t.previousElementSibling,i=t.nextElementSibling;t.firstElementChild===e&&n&&(0,a.default)(n).is("OL,UL")&&(this._mergeList(t,n),t=n),t.lastElementChild===e&&i&&(0,a.default)(i).is("OL,UL")&&this._mergeList(i,t)}},{key:"_mergeList",value:function(e,t){var n=e.firstElementChild;if(t&&(0,a.default)(t).is("OL,UL")){for(;n;){var i=n.nextElementSibling;t.appendChild(n),n=i}e.parentNode.removeChild(e)}}},{key:"isAvailableMakeListInTable",value:function(){var e=this.wwe.componentManager.getManager("tableSelection").getSelectedCells(),t=this.wwe.getEditor();return 0===e.length&&t.hasFormat("table")&&!t.hasFormat("OL")&&!t.hasFormat("UL")}},{key:"_getParentNodeBeforeTD",value:function(e,t){var n=r.default.getParentUntil(e,"TD");if(!n){var i=e.childNodes,a=i?i.length:0,o=t>0&&t===a?t-1:t;n=r.default.getChildNodeByOffset(e,o)}return n}},{key:"_findLINodeInsideTD",value:function(e,t){var n=null,i=r.default.getParentUntilBy(e,(function(e){return e&&r.default.isListNode(e)}),(function(e){return e&&"TD"===e.nodeName}));if(i)n=i;else if("LI"===e.nodeName)n=e;else if(r.default.isListNode(e)){var a=e.childNodes.length;n=e.childNodes[t>=a?a-1:t]}return n}},{key:"_getFirstNodeInLineOfTable",value:function(e,t){var n=this._findLINodeInsideTD(e,t);if(!n)for(var i=(n=this._getParentNodeBeforeTD(e,t)).previousSibling;i&&"BR"!==i.nodeName&&!r.default.isListNode(i);)i=(n=i).previousSibling;return n}},{key:"_getLastNodeInLineOfTable",value:function(e,t){var n=this._findLINodeInsideTD(e,t);if(!n)for(n=this._getParentNodeBeforeTD(e,t);n.nextSibling&&"BR"!==n.nodeName&&!r.default.isListNode(n);)n=n.nextSibling;return n}},{key:"_isLastNodeInLineOfTable",value:function(e){var t=e.nodeName;return"LI"===t||"BR"===t}},{key:"_getNextNodeInLineOfTable",value:function(e){var t=e.nextSibling;if("LI"!==e.nodeName||t)r.default.isListNode(t)&&(t=t.firstChild);else for(var n=e.parentNode;"TD"!==n.nodeName;){if(n.nextSibling){t=n.nextSibling;break}n=n.parentNode}return t}},{key:"_getLinesOfSelectionInTable",value:function(e){for(var t=e.startContainer,n=e.endContainer,i=e.startOffset,a=e.endOffset,o=this._getFirstNodeInLineOfTable(t,i),r=this._getLastNodeInLineOfTable(n,a),l=[],s=[];o;){if(s.push(o),this._isLastNodeInLineOfTable(o)&&(l.push(s),s=[]),o===r){s.length&&l.push(s);break}o=this._getNextNodeInLineOfTable(o)}return l}},{key:"_createListElement",value:function(e){return document.createElement("TASK"===e?"UL":e)}},{key:"_createListItemElement",value:function(e,t){var n=document.createElement("li");(e.forEach((function(e){n.appendChild(e)})),"TASK"===t)&&this.wwe.componentManager.getManager("task").formatTask(n);return n}},{key:"_mergeListWithPreviousSibiling",value:function(e){var t=e.previousSibling,n=e;return t&&e.nodeName===t.nodeName&&(this._mergeList(e,t),n=t),n}},{key:"_mergeListWithNextSibiling",value:function(e){var t=e.nextSibling;return t&&e.nodeName===t.nodeName&&this._mergeList(t,e),e}},{key:"createListInTable",value:function(e,t){var n=this,i=this._getLinesOfSelectionInTable(e),a=i[i.length-1],r=a[a.length-1],l=r.nextSibling,s=r.parentNode,u=this._createListElement(t),c=u.nodeName,d=[];return i.forEach((function(e){var i=e[0],a=void 0;if("LI"===i.nodeName){var r=i.parentNode;if(a=i,r.nodeName!==c){var l=r.childNodes;o.default.forEachArray(l,(function(){u.appendChild(r.firstChild)})),r.parentNode.replaceChild(u,r)}u=a.parentNode}else a=n._createListItemElement(e,t),u.appendChild(a);d.push(a)})),u.parentNode||s.insertBefore(u,l),u=this._mergeListWithPreviousSibiling(u),this._mergeListWithNextSibiling(u),d}},{key:"adjustRange",value:function(e,t,n,i,a){var o=r.default.containsNode(a[0],e)?e:a[0],l=r.default.containsNode(a[a.length-1],t)?t:a[a.length-1],s="TD"===e.nodeName?0:n,u="TD"===t.nodeName?0:i;this.wwe.setSelectionByContainerAndOffset(o,s,l,u)}}]),e}();t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=r(n(0)),o=r(n(4));function r(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.wwe=t,this.eventManager=t.eventManager,this.name="task",this._init()}return i(e,[{key:"_init",value:function(){this._initKeyHandler(),this._initEvent(),this.wwe.getEditor().addEventListener("mousedown",(function(e){var t=getComputedStyle(e.target,":before");e.target.hasAttribute("data-te-task")&&o.default.isInsideTaskBox(t,e.offsetX,e.offsetY)&&(e.preventDefault(),(0,a.default)(e.target).toggleClass("checked"))}))}},{key:"_initEvent",value:function(){var e=this;this.eventManager.listen("wysiwygSetValueAfter",(function(){e._removeTaskListClass()}))}},{key:"_initKeyHandler",value:function(){var e=this;this.wwe.addKeyEventHandler("ENTER",(function(t,n){e.isInTaskList(n)&&e.wwe.defer((function(){var t=e.wwe.getRange();(0,a.default)(t.startContainer).closest("li").removeClass("checked")}))}))}},{key:"isInTaskList",value:function(e){var t=void 0;return e||(e=this.wwe.getEditor().getSelection().cloneRange()),t=e.startContainer.nodeType===Node.ELEMENT_NODE&&"LI"===e.startContainer.tagName?e.startContainer:(0,a.default)(e.startContainer).parents("li").get(0),(0,a.default)(t).hasClass("task-list-item")}},{key:"unformatTask",value:function(e){var t=(0,a.default)(e).closest("li");t.removeClass("task-list-item"),t.removeClass("checked"),t.removeAttr("data-te-task"),t.attr("class")||t.removeAttr("class")}},{key:"formatTask",value:function(e){var t=(0,a.default)(e).closest("li");t.addClass("task-list-item"),t.attr("data-te-task","")}},{key:"_formatTaskIfNeed",value:function(){var e=this.wwe.getEditor().getSelection().cloneRange();this.isInTaskList(e)&&this.formatTask(e.startContainer)}},{key:"_removeTaskListClass",value:function(){this.wwe.get$Body().find(".task-list").each((function(e,t){(0,a.default)(t).removeClass("task-list")}))}}]),e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=r(n(1)),o=r(n(4));function r(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.wwe=t,this.eventManager=t.eventManager,this.name="hr",this._init()}return i(e,[{key:"_init",value:function(){this._initEvent()}},{key:"_initEvent",value:function(){var e=this;this.eventManager.listen("wysiwygSetValueAfter",(function(){e._insertEmptyLineIfNeed(),e._changeHRForWysiwyg()}))}},{key:"_insertEmptyLineIfNeed",value:function(){var e=this.wwe.get$Body()[0],t=e.firstChild,n=e.lastChild;t&&"HR"===t.nodeName?e.insertBefore(o.default.createEmptyLine(),t):n&&"HR"===n.nodeName&&e.appendChild(o.default.createEmptyLine())}},{key:"_changeHRForWysiwyg",value:function(){var e=this.wwe.get$Body()[0].querySelectorAll("hr");a.default.forEachArray(e,(function(e){e.parentNode.replaceChild(o.default.createHorizontalRule(),e)}))}}]),e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(0),r=(i=o)&&i.__esModule?i:{default:i};var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.wwe=t,this.eventManager=t.eventManager,this.name="p",this._initEvent()}return a(e,[{key:"_initEvent",value:function(){var e=this;this.eventManager.listen("wysiwygSetValueBefore",(function(t){return e._splitPtagContentLines(t)})),this.eventManager.listen("wysiwygSetValueAfter",(function(){e._ensurePtagContentWrappedWithDiv(),e._unwrapPtags()}))}},{key:"_splitPtagContentLines",value:function(e){if(e){var t=(0,r.default)("<div />");t.html(e),t.find("p").each((function(e,t){var n=t.innerHTML.split(/<br>/gi),i=n.length-1,a=t.nextElementSibling||t.nextSibling,o="";o=n.map((function(e,t){var n="";return t>0&&t<i&&(e=e||"<br>"),e&&(n="<div>"+e+"</div>"),n})),a&&"P"===a.nodeName&&o.push("<div><br></div>"),(0,r.default)(t).replaceWith((0,r.default)(o.join("")))})),e=t.html()}return e}},{key:"_ensurePtagContentWrappedWithDiv",value:function(){this.wwe.get$Body().find("p").each((function(e,t){(0,r.default)(t).find("div").length<=0&&(0,r.default)(t).wrapInner("<div />"),(0,r.default)(t).next().is("p")&&(0,r.default)(t).append("<div><br></div>")}))}},{key:"_unwrapPtags",value:function(){this.wwe.get$Body().find("div").each((function(e,t){(0,r.default)(t).parent().is("p")&&(0,r.default)(t).unwrap()}))}}]),e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=r(n(0)),o=r(n(4));function r(e){return e&&e.__esModule?e:{default:e}}var l=/h[\d]/i,s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.wwe=t,this.eventManager=t.eventManager,this.name="heading",this._init()}return i(e,[{key:"_init",value:function(){this._initEvent(),this._initKeyHandler()}},{key:"_initEvent",value:function(){var e=this;this.eventManager.listen("wysiwygSetValueAfter",(function(){e._wrapDefaultBlockToHeadingInner()}))}},{key:"_initKeyHandler",value:function(){var e=this;this.wwe.addKeyEventHandler("ENTER",(function(t,n){return!e.wwe.hasFormatWithRx(l)||(e._onEnter(t,n),!1)})),this.wwe.addKeyEventHandler("BACK_SPACE",(function(t,n){return!e.wwe.hasFormatWithRx(l)||(e._removePrevTopNodeIfNeed(t,n),!1)}))}},{key:"_wrapDefaultBlockToHeadingInner",value:function(){this.wwe.get$Body().find("h1, h2, h3, h4, h5, h6").each((function(e,t){(0,a.default)(t).children("div, p").length<=0&&(0,a.default)(t).wrapInner("<div />")}))}},{key:"_unwrapHeading",value:function(){this.wwe.unwrapBlockTag((function(e){return l.test(e)}))}},{key:"_onEnter",value:function(e,t){var n=this;t.startOffset>0?this.wwe.defer((function(e){n._unwrapHeading(),e.getEditor().removeLastUndoStack()})):(e.preventDefault(),this._insertEmptyBlockToPrevious(t))}},{key:"_insertEmptyBlockToPrevious",value:function(e){this.wwe.getEditor().saveUndoState(e),(0,a.default)("<div><br></div>").insertBefore(o.default.getParentUntil(e.startContainer,this.wwe.get$Body()[0]))}},{key:"_removePrevTopNodeIfNeed",value:function(e,t){var n=!1;if(t.collapsed&&0===t.startOffset){var i=t.startContainer,r=o.default.getTopPrevNodeUnder(i,this.wwe.get$Body()[0]),l=r&&0===r.textContent.length,s=this.wwe.getEditor();0===i.textContent.length?n=this._removeHedingAndChangeSelection(e,t,r):l&&(e.preventDefault(),s.saveUndoState(t),(0,a.default)(r).remove(),n=!0)}return n}},{key:"_removeHedingAndChangeSelection",value:function(e,t,n){var i=t.startContainer,r=this.wwe.getEditor(),s=this.wwe.get$Body(),u=l.test(o.default.getNodeName(i))?i:(0,a.default)(i).parents("h1,h2,h3,h4,h5,h6")[0],c=n,d=1;return e.defaultPrevented||(e.preventDefault(),r.saveUndoState(t)),(0,a.default)(u).remove(),n||(c=s.children("div").first().get(0),d=0),t.setStart(c,d),t.collapse(!0),r.setSelection(t),!0}}]),e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=u(n(0)),o=u(n(1)),r=u(n(67)),l=u(n(4)),s=n(14);function u(e){return e&&e.__esModule?e:{default:e}}var c=/\b(H[\d]|LI|P|BLOCKQUOTE|TD)\b/,d=/Trident\/[456]\./.test(navigator.userAgent),f=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return r._decorateHandlerToCancelable("copy"),r._decorateHandlerToCancelable(d?"beforecut":"cut"),r._decorateHandlerToCancelable(d?"beforepaste":"paste"),r.get$Body=function(){return r.$body=r.$body||(0,a.default)(r.getRoot()),r.$body},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"_decorateHandlerToCancelable",value:function(e){var t=this._events[e];if(t.length>1)throw new Error("too many"+e+"handlers in squire");var n=t[0].bind(this);t[0]=function(e){e.defaultPrevented||e.squirePrevented||n(e)}}},{key:"changeBlockFormat",value:function(e,t){var n=this;this.modifyBlocks((function(i){var a=void 0,r=void 0,s=void 0,u=void 0,c=void 0,d=void 0,f=void 0;if(i.childNodes.length?a=i.childNodes.item(0):(a=n.createDefaultBlock(),i.appendChild(a)),e){for(;a.firstChild;)a=a.firstChild;for(f=function(e){u.appendChild(e)};a!==i;){if(c=a.tagName,o.default.isFunction(e)?e(c):c===e){u=a.childNodes.item(0),(!l.default.isElemNode(u)||a.childNodes.length>1)&&(u=n.createDefaultBlock(),o.default.forEachArray(o.default.toArray(a.childNodes),f),(d=u.lastChild)&&"BR"===l.default.getNodeName(d)&&u.removeChild(d)),s=t?n.createElement(t,[u]):u,(r=n.getDocument().createDocumentFragment()).appendChild(s),i=r;break}a=a.parentNode}}return r&&e||!t||"DIV"!==l.default.getNodeName(i.childNodes[0])||(i=n.createElement(t,[i.childNodes[0]])),i}))}},{key:"changeBlockFormatTo",value:function(e){this.changeBlockFormat((function(e){return c.test(e)}),e)}},{key:"getCaretPosition",value:function(){return this.getCursorPosition()}},{key:"replaceSelection",value:function(e,t){t&&this.setSelection(t),this._ignoreChange=!0,this.insertHTML(e)}},{key:"replaceRelativeOffset",value:function(e,t,n){var i=this.getSelection().cloneRange();this._replaceRelativeOffsetOfSelection(e,t,n,i)}},{key:"_replaceRelativeOffsetOfSelection",value:function(e,t,n,i){var a=void 0,o=void 0,r=void 0,s=i.endContainer,u=i.endOffset;"TEXT"!==l.default.getNodeName(s)&&(s=this._getClosestTextNode(s,u))&&(u=l.default.isTextNode(s)?s.nodeValue.length:s.textContent.length),s?(a=this.getSelectionInfoByOffset(s,u+t),i.setStart(a.element,a.offset),r=u+(t+n),o=this.getSelectionInfoByOffset(s,r),i.setEnd(o.element,o.offset),this.replaceSelection(e,i)):this.replaceSelection(e)}},{key:"_getClosestTextNode",value:function(e,t){var n=l.default.getChildNodeByOffset(e,t-1);return"TEXT"!==l.default.getNodeName(n)&&(n=n.previousSibling),n}},{key:"getSelectionInfoByOffset",value:function(e,t){var n=void 0,i=void 0,a=void 0,o=void 0,r=t>=0?"next":"previous",s=Math.abs(t),u=n;for(n="next"===r?e:e.previousSibling,a=s,o=0;n&&!(s<=(o+=i=l.default.isTextNode(n)?n.nodeValue.length:n.textContent.length));)a-=i,l.default.getTextLength(n)>0&&(u=n),n=n[r+"Sibling"];return n||(n=u,a=l.default.getTextLength(n)),"previous"===r&&(a=l.default.getTextLength(n)-a),{element:n,offset:a}}},{key:"getSelectionPosition",value:function(e,t,n){var i=this.createElement("INPUT"),o=e.cloneRange(),r=this.getSelectionInfoByOffset(e.endContainer,e.endOffset+(n||0));o.setStart(o.startContainer,o.startOffset),o.setEnd(r.element,r.offset),this._ignoreChange=!0,this.insertElement(i,o);var l=(0,a.default)(i).offset();return"over"!==t&&(l.top+=(0,a.default)(i).outerHeight()),i.parentNode.removeChild(i),e.setStart(e.endContainer,e.endOffset),e.collapse(!0),this.setSelection(e),l}},{key:"removeLastUndoStack",value:function(){this._undoStack.length&&(this._undoStackLength-=1,this._undoIndex-=1,this._undoStack.pop(),this._isInUndoState=!1)}},{key:"replaceParent",value:function(e,t,n){var i=(0,a.default)(e).closest(t);i.length&&(i.wrapInner("<"+n+"/>"),i.children().unwrap())}},{key:"preserveLastLine",value:function(){var e=this.get$Body().children().last();"DIV"!==l.default.getNodeName(e[0])&&(this._ignoreChange=!0,(0,a.default)(this.createDefaultBlock()).insertAfter(e))}},{key:"scrollTop",value:function(e){return o.default.isUndefined(e)?this.get$Body().scrollTop():this.get$Body().scrollTop(e)}},{key:"isIgnoreChange",value:function(){return this._ignoreChange}},{key:"focus",value:function(){r.default.prototype.focus.call(this)}},{key:"blockCommandShortcuts",value:function(){var e=this,t=s.isMac?"meta":"ctrl";["b","i","u","shift-7","shift-5","shift-6","shift-8","shift-9","[","]","d"].forEach((function(n){e.setKeyHandler(t+"-"+n,(function(e,t){t.preventDefault()}))}))}}]),t}(r.default);t.default=f},function(e,t){e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=r(n(1)),o=r(n(4));function r(e){return e&&e.__esModule?e:{default:e}}var l=a.default.browser.msie&&11===a.default.browser.version,s=-1!==navigator.appVersion.indexOf("Win")&&a.default.browser.chrome,u=/Windows (NT )?10/g.test(navigator.appVersion),c=l||s&&!u,d=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._wwe=t,c&&(this.isComposition=!1,this._initCompositionEvent()),this.setRange(n||this._wwe.getRange())}return i(e,[{key:"_initCompositionEvent",value:function(){var e=this;this._wwe.getEditor().addEventListener("compositionstart",(function(){e.isComposition=!0})),this._wwe.getEditor().addEventListener("compositionend",(function(){e.isComposition=!1}))}},{key:"setRange",value:function(e){this._range&&this._range.detach(),this._range=e}},{key:"expandStartOffset",value:function(){var e=this._range;o.default.isTextNode(e.startContainer)&&e.startOffset>0&&e.setStart(e.startContainer,e.startOffset-1)}},{key:"expandEndOffset",value:function(){var e=this._range;o.default.isTextNode(e.endContainer)&&e.endOffset<e.endContainer.nodeValue.length&&e.setEnd(e.endContainer,e.endOffset+1)}},{key:"setEndBeforeRange",value:function(e){var t=e.startOffset;this.isComposition&&(t+=1),this._range.setEnd(e.startContainer,t)}},{key:"getTextContent",value:function(){return this._range.cloneContents().textContent}},{key:"replaceContent",value:function(e){this._wwe.getEditor().setSelection(this._range),this._wwe.getEditor().insertHTML(e),this._wwe.isInTable(this._range)&&this._wwe.eventManager.emit("wysiwygRangeChangeAfter",this._wwe),this._range=this._wwe.getRange()}},{key:"deleteContent",value:function(){this._wwe.getEditor().setSelection(this._range),this._wwe.getEditor().insertHTML(""),this._range=this._wwe.getRange()}},{key:"peekStartBeforeOffset",value:function(e){var t=this._range.cloneRange();return t.setStart(t.startContainer,Math.max(t.startOffset-e,0)),t.setEnd(this._range.startContainer,this._range.startOffset),t.cloneContents().textContent}}]),e}();t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function e(t,n,i){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in a)return a.value;var r=a.get;return void 0!==r?r.call(i):void 0},o=l(n(0)),r=l(n(70));function l(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e){var n=e.eventManager,i=e.container,a=e.wysiwygEditor;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{eventManager:n,container:i,attachedSelector:"pre"}));return o._wysiwygEditor=a,o._popupCodeBlockLanguages=null,o._initDOM(),o._initDOMEvent(),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"_initDOM",value:function(){var e=this;this.$el.addClass("code-block-header"),this._$languageLabel=(0,o.default)("<span>text</span>"),this.$el.append(this._$languageLabel),this._$buttonOpenModalEditor=(0,o.default)('<button type="button">Editor</button>'),this.$el.append(this._$buttonOpenModalEditor),this._eventManager.emit("removeEditor",(function(){e._$buttonOpenModalEditor.off("click"),e._$buttonOpenModalEditor=null}))}},{key:"_initDOMEvent",value:function(){var e=this;this._$buttonOpenModalEditor.on("click",(function(){return e._openPopupCodeBlockEditor()}))}},{key:"_openPopupCodeBlockEditor",value:function(){this._eventManager.emit("openPopupCodeBlockEditor",this.getAttachedElement())}},{key:"_updateLanguage",value:function(){var e=this.getAttachedElement(),t=e?e.getAttribute("data-language"):null;this._$languageLabel.text(t||"text")}},{key:"syncLayout",value:function(){var e=(0,o.default)(this.getAttachedElement()),t=e.offset();t.left=t.left+(e.outerWidth()-250),this.$el.offset(t),this.$el.height(30),this.$el.width(250)}},{key:"onShow",value:function(){var e=this;a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onShow",this).call(this),this._onAttachedElementChange=function(){return e._updateLanguage()},(0,o.default)(this.getAttachedElement()).on("language-changed",this._onAttachedElementChange),this._updateLanguage()}},{key:"onHide",value:function(){(0,o.default)(this.getAttachedElement()).off("language-changed",this._onAttachedElementChange),a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onHide",this).call(this)}}]),t}(r.default);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(0),r=(i=o)&&i.__esModule?i:{default:i};var l=function(){function e(t){var n=t.eventManager,i=t.container,a=t.attachedSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._eventManager=n,this._attachedSelector="[contenteditable=true] "+a,this._$container=(0,r.default)(i),this._$attachedElement=null,this.active=!1,this._createElement(),this._initEvent()}return a(e,[{key:"_createElement",value:function(){this.$el=(0,r.default)('<div class="te-ww-block-overlay">'),this.$el.css({position:"absolute",display:"none","z-index":1}),this._$container.append(this.$el)}},{key:"_initEvent",value:function(){var e=this;this._eventManager.listen("change",this._onChange.bind(this)),this._eventManager.listen("mouseover",this._onMouseOver.bind(this)),this._eventManager.listen("focus",(function(){e.setVisibility(!1)})),this._eventManager.listen("mousedown",(function(){e.setVisibility(!1)}))}},{key:"_onChange",value:function(){this._$attachedElement&&r.default.contains(document,this._$attachedElement[0])?this.syncLayout():this.setVisibility(!1)}},{key:"_onMouseOver",value:function(e){var t=e.data,n=(0,r.default)(t.target),i=n.closest(this._attachedSelector);i.length?(this._$attachedElement=i,this.setVisibility(!0)):n.closest(this.$el).length?this.setVisibility(!0):this.active||this.setVisibility(!1)}},{key:"syncLayout",value:function(){this.$el.offset(this._$attachedElement.offset()),this.$el.width(this._$attachedElement.outerWidth()),this.$el.height(this._$attachedElement.outerHeight())}},{key:"getAttachedElement",value:function(){return this._$attachedElement?this._$attachedElement.get(0):null}},{key:"getVisibility",value:function(){return"block"===this.$el.css("display")}},{key:"setVisibility",value:function(e){e&&this._$attachedElement?this.getVisibility()||(this.$el.css("display","block"),this.syncLayout(),this.onShow()):e||this.getVisibility()&&(this.$el.css("display","none"),this.onHide())}},{key:"onShow",value:function(){}},{key:"onHide",value:function(){this.active=!1,this._$attachedElement=null}}]),e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(0),r=(i=o)&&i.__esModule?i:{default:i};var l=['<div class="tui-editor">','<div class="te-md-container">','<div class="te-editor" />','<div class="te-md-splitter" />','<div class="te-preview" />',"</div>",'<div class="te-ww-container">','<div class="te-editor" />',"</div>","</div>"].join(""),s=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$el=(0,r.default)(t.el),this.height=t.height,this.type=t.initialEditType,this.eventManager=n,this.init(),this._initEvent()}return a(e,[{key:"init",value:function(){this._renderLayout(),this._initMarkdownAndPreviewSection(),this._initWysiwygSection()}},{key:"_initEvent",value:function(){this.eventManager.listen("hide",this.hide.bind(this)),this.eventManager.listen("show",this.show.bind(this))}},{key:"_renderLayout",value:function(){this.$el.css("box-sizing","border-box"),this.$containerEl=(0,r.default)(l).appendTo(this.$el)}},{key:"switchToWYSIWYG",value:function(){this.$containerEl.removeClass("te-md-mode"),this.$containerEl.addClass("te-ww-mode")}},{key:"switchToMarkdown",value:function(){this.$containerEl.removeClass("te-ww-mode"),this.$containerEl.addClass("te-md-mode")}},{key:"_initMarkdownAndPreviewSection",value:function(){this.$mdEditorContainerEl=this.$containerEl.find(".te-md-container .te-editor"),this.$previewEl=this.$containerEl.find(".te-md-container .te-preview")}},{key:"_initWysiwygSection",value:function(){this.$wwEditorContainerEl=this.$containerEl.find(".te-ww-container .te-editor")}},{key:"_verticalSplitStyle",value:function(){this.$containerEl.find(".te-md-container").removeClass("te-preview-style-tab"),this.$containerEl.find(".te-md-container").addClass("te-preview-style-vertical")}},{key:"_tabStyle",value:function(){this.$containerEl.find(".te-md-container").removeClass("te-preview-style-vertical"),this.$containerEl.find(".te-md-container").addClass("te-preview-style-tab")}},{key:"changePreviewStyle",value:function(e){"tab"===e?this._tabStyle():"vertical"===e&&this._verticalSplitStyle()}},{key:"hide",value:function(){this.$el.find(".tui-editor").addClass("te-hide")}},{key:"show",value:function(){this.$el.find(".tui-editor").removeClass("te-hide")}},{key:"remove",value:function(){this.$el.find(".tui-editor").remove()}},{key:"getEditorEl",value:function(){return this.$containerEl}},{key:"getPreviewEl",value:function(){return this.$previewEl}},{key:"getMdEditorContainerEl",value:function(){return this.$mdEditorContainerEl}},{key:"getWwEditorContainerEl",value:function(){return this.$wwEditorContainerEl}}]),e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=y(n(0)),o=y(n(73)),r=y(n(44)),l=y(n(5)),s=y(n(78)),u=y(n(79)),c=y(n(80)),d=y(n(81)),f=y(n(82)),h=y(n(83)),g=y(n(84)),v=y(n(85)),p=y(n(3)),m=y(n(35));function y(e){return e&&e.__esModule?e:{default:e}}var _=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperty(this,"name",{enumerable:!0,writable:!0,value:"default"}),Object.defineProperty(this,"_popups",{enumerable:!0,writable:!0,value:[]}),this._editor=t,this._initialEditType=t.options.initialEditType,this._init(t.options),this._initEvent()}return i(e,[{key:"_init",value:function(e){var t=e.el,n=e.toolbarItems,i=e.hideModeSwitch;this.$el=(0,a.default)('\n    <div class="tui-editor-defaultUI">\n        <div class="te-toolbar-section"><div class="te-markdown-tab-section"></div></div>\n        <div class="te-editor-section"></div>\n        <div class="te-mode-switch-section"></div>\n    </div>\n').appendTo(t),this._container=t,this._editorSection=this.$el.find(".te-editor-section").get(0),this._editorSection.appendChild(this._editor.layout.getEditorEl().get(0)),this._initToolbar(this._editor.eventManager,n),this._initModeSwitch(i),this._initPopupAddLink(),this._initPopupAddImage(),this._initPopupAddTable(),this._initPopupAddHeading(),this._initPopupTableUtils(),this._initPopupCodeBlockLanguages(),this._initPopupCodeBlockEditor(),this._initMarkdownTab()}},{key:"_initEvent",value:function(){this._editor.eventManager.listen("hide",this.hide.bind(this)),this._editor.eventManager.listen("show",this.show.bind(this)),this._editor.eventManager.listen("changeMode",this._markdownTabControl.bind(this)),this._editor.eventManager.listen("changePreviewStyle",this._markdownTabControl.bind(this))}},{key:"_initToolbar",value:function(e,t){var n=new o.default(e,t);this._toolbar=n,this.$el.find(".te-toolbar-section").append(n.$el)}},{key:"_initModeSwitch",value:function(e){var t=this,n=this.$el.find(".te-mode-switch-section"),i="markdown"===this._initialEditType?s.default.TYPE.MARKDOWN:s.default.TYPE.WYSIWYG,a=new s.default(n,i);this._modeSwitch=a,e&&a.hide(),a.on("modeSwitched",(function(e,n){return t._editor.changeMode(n)}))}},{key:"_initMarkdownTab",value:function(){var e=this._editor;this._markdownTab=new r.default({initName:p.default.get("Write"),items:[p.default.get("Write"),p.default.get("Preview")],sections:[e.layout.getMdEditorContainerEl(),e.layout.getPreviewEl()]}),this._$markdownTabSection=this.$el.find(".te-markdown-tab-section"),this._$markdownTabSection.append(this._markdownTab.$el),this._markdownTab.on("itemClick",(function(t,n){n===p.default.get("Preview")?(e.eventManager.emit("previewNeedsRefresh"),e.eventManager.emit("changePreviewTabPreview"),e.eventManager.emit("closeAllPopup")):(e.getCodeMirror().focus(),e.eventManager.emit("changePreviewTabWrite"))}))}},{key:"_markdownTabControl",value:function(){this._editor.isMarkdownMode()&&"tab"===this._editor.getCurrentPreviewStyle()?(this._$markdownTabSection.show(),this._markdownTab.activate(p.default.get("Write"))):this._$markdownTabSection.hide()}},{key:"_initPopupAddLink",value:function(){this._popups.push(new u.default({$target:this.$el,editor:this._editor}))}},{key:"_initPopupAddImage",value:function(){this._popups.push(new c.default({$target:this.$el,eventManager:this._editor.eventManager}))}},{key:"_initPopupAddTable",value:function(){this._popups.push(new f.default({$target:this._toolbar.$el,eventManager:this._editor.eventManager,$button:this.$el.find("button.tui-table"),css:{position:"absolute"}}))}},{key:"_initPopupAddHeading",value:function(){this._popups.push(new h.default({$target:this._toolbar.$el,eventManager:this._editor.eventManager,$button:this.$el.find("button.tui-heading"),css:{position:"absolute"}}))}},{key:"_initPopupTableUtils",value:function(){var e=this;this._editor.eventManager.listen("contextmenu",(function(t){(0,a.default)(t.data.target).parents("[contenteditable=true] table").length>0&&(t.data.preventDefault(),e._editor.eventManager.emit("openPopupTableUtils",t.data))})),this._popups.push(new d.default({$target:this.$el,eventManager:this._editor.eventManager}))}},{key:"_initPopupCodeBlockLanguages",value:function(){var e=this._editor;this._popups.push(new g.default({$target:this.$el,eventManager:e.eventManager,languages:e.options.codeBlockLanguages}))}},{key:"_initPopupCodeBlockEditor",value:function(){this._popups.push(new v.default({$target:this.$el,eventManager:this._editor.eventManager,convertor:this._editor.convertor}))}},{key:"getToolbar",value:function(){return this._toolbar}},{key:"setToolbar",value:function(e){this._toolbar.destroy(),this._toolbar=e}},{key:"getModeSwitch",value:function(){return this._modeSwitch}},{key:"getEditorSectionHeight",value:function(){var e=this._editorSection.getBoundingClientRect();return e.bottom-e.top}},{key:"getEditorHeight",value:function(){var e=this._container.getBoundingClientRect();return e.bottom-e.top}},{key:"getPopupTableUtils",value:function(){var e=void 0;return this._popups.forEach((function(t){t instanceof d.default&&(e=t)})),e}},{key:"hide",value:function(){this.$el.addClass("te-hide")}},{key:"show",value:function(){this.$el.removeClass("te-hide")}},{key:"remove",value:function(){this.$el.remove(),this._markdownTab.remove(),this._modeSwitch.remove(),this._toolbar.destroy(),this._popups.forEach((function(e){return e.remove()})),this._popups=[],m.default.hide()}},{key:"createPopup",value:function(e){return new l.default(e)}}]),e}();t.default=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function e(t,n,i){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in a)return a.value;var r=a.get;return void 0!==r?r.call(i):void 0},o=c(n(74)),r=c(n(3)),l=c(n(41)),s=c(n(77)),u=c(n(43));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i._init(e),i._bindWidthChangedEvent(),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"insertItem",value:function(e,n){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertItem",this).call(this,e,n),this._arrangeMoreButton()}},{key:"_init",value:function(e){var t=u.default.create("button",{name:"more",className:"tui-more",tooltip:r.default.get("More"),event:s.default.OPEN_EVENT});this._moreButton=t,this._popupDropdownToolbar=new s.default({eventManager:e,$target:this.$el,$button:t.$el}),this.addItem(t)}},{key:"_bindWidthChangedEvent",value:function(){var e=this;this._observer=new o.default((function(){e._popupDropdownToolbar.hide(),e._balanceButtons()})),this._observer.observe(this.$el.get(0))}},{key:"_balanceButtons",value:function(){var e=this;this._popupDropdownToolbar.getItems().forEach((function(n){e._popupDropdownToolbar.removeItem(n,!1);var i=e.getItems().length;a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertItem",e).call(e,i,n)})),this.removeItem(this._moreButton,!1),a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertItem",this).call(this,0,this._moreButton);var n=this.$el.height();this.getItems().filter((function(e){return e.$el.position().top>n})).forEach((function(t){e.removeItem(t,!1),e._popupDropdownToolbar.addItem(t)})),this._arrangeMoreButton()}},{key:"_arrangeMoreButton",value:function(){if(this._popupDropdownToolbar){this.removeItem(this._moreButton,!1);var e=this._popupDropdownToolbar.getItems().length>0,n=this.getItems().length;e&&a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertItem",this).call(this,n,this._moreButton)}}},{key:"destroy",value:function(){this._observer&&(this._observer.disconnect(),this._observer=null)}}]),t}(l.default);t.default=d},function(e,t,n){"use strict";n.r(t),function(e){var n=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,i){return e[0]===t&&(n=i,!0)})),n}return(function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),i=this.__entries__[n];return i&&i[1]},t.prototype.set=function(t,n){var i=e(this.__entries__,t);~i?this.__entries__[i][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,i=e(n,t);~i&&n.splice(i,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,i=this.__entries__;n<i.length;n++){var a=i[n];e.call(t,a[1],a[0])}},t}())}(),i="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,a=void 0!==e&&e.Math===Math?e:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),o="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(a):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)},r=2;var l=20,s=["top","right","bottom","left","width","height","size","weight"],u="undefined"!=typeof MutationObserver,c=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,i=!1,a=0;function l(){n&&(n=!1,e()),i&&u()}function s(){o(l)}function u(){var e=Date.now();if(n){if(e-a<r)return;i=!0}else n=!0,i=!1,setTimeout(s,t);a=e}return u}(this.refresh.bind(this),l)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){i&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),u?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){i&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;s.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),d=function(e,t){for(var n=0,i=Object.keys(t);n<i.length;n++){var a=i[n];Object.defineProperty(e,a,{value:t[a],enumerable:!1,writable:!1,configurable:!0})}return e},f=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||a},h=_(0,0,0,0);function g(e){return parseFloat(e)||0}function v(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+g(e["border-"+n+"-width"])}),0)}function p(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return h;var i=f(e).getComputedStyle(e),a=function(e){for(var t={},n=0,i=["top","right","bottom","left"];n<i.length;n++){var a=i[n],o=e["padding-"+a];t[a]=g(o)}return t}(i),o=a.left+a.right,r=a.top+a.bottom,l=g(i.width),s=g(i.height);if("border-box"===i.boxSizing&&(Math.round(l+o)!==t&&(l-=v(i,"left","right")+o),Math.round(s+r)!==n&&(s-=v(i,"top","bottom")+r)),!function(e){return e===f(e).document.documentElement}(e)){var u=Math.round(l+o)-t,c=Math.round(s+r)-n;1!==Math.abs(u)&&(l-=u),1!==Math.abs(c)&&(s-=c)}return _(a.left,a.top,l,s)}var m="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof f(e).SVGGraphicsElement}:function(e){return e instanceof f(e).SVGElement&&"function"==typeof e.getBBox};function y(e){return i?m(e)?function(e){var t=e.getBBox();return _(0,0,t.width,t.height)}(e):p(e):h}function _(e,t,n,i){return{x:e,y:t,width:n,height:i}}var b=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=_(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=y(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),k=function(e,t){var n,i,a,o,r,l,s,u=(i=(n=t).x,a=n.y,o=n.width,r=n.height,l="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,s=Object.create(l.prototype),d(s,{x:i,y:a,width:o,height:r,top:a,right:i+o,bottom:r+a,left:i}),s);d(this,{target:e,contentRect:u})},w=function(){function e(e,t,i){if(this.activeObservations_=[],this.observations_=new n,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=i}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof f(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new b(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof f(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new k(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),C="undefined"!=typeof WeakMap?new WeakMap:new n,E=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=c.getInstance(),i=new w(t,n,this);C.set(this,i)};["observe","unobserve","disconnect"].forEach((function(e){E.prototype[e]=function(){var t;return(t=C.get(this))[e].apply(t,arguments)}}));var M=void 0!==a.ResizeObserver?a.ResizeObserver:E;t.default=M}.call(this,n(75))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(19);var o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((i=a)&&i.__esModule?i:{default:i}).default);t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function e(t,n,i){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in a)return a.value;var r=a.get;return void 0!==r?r.call(i):void 0},o=s(n(1)),r=s(n(5)),l=s(n(41));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=o.default.extend({header:!1,className:"te-dropdown-toolbar"},e),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"getToolbar",value:function(){return this._toolbar}},{key:"getItems",value:function(){return this.getToolbar().getItems()}},{key:"getItem",value:function(e){return this.getToolbar().getItem(e)}},{key:"setItems",value:function(e){this.getToolbar().setItems(e)}},{key:"addItem",value:function(e){this.getToolbar().addItem(e)}},{key:"insertItem",value:function(e,t){this.getToolbar().insertItem(e,t)}},{key:"indexOfItem",value:function(e){return this.getToolbar().indexOfItem(e)}},{key:"removeItem",value:function(e,t){return this.getToolbar().removeItem(e,t)}},{key:"removeAllItems",value:function(){this.getToolbar().removeAllItems()}},{key:"_initInstance",value:function(e){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initInstance",this).call(this,e);var n=e.$button,i=e.eventManager;this._$button=n,this._eventManager=i,this._toolbar=new l.default(i)}},{key:"_initDOM",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initDOM",this).call(this),this.setContent(this._toolbar.$el)}},{key:"_initEditorEvent",value:function(){var e=this;a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initEditorEvent",this).call(this),this._eventManager.listen("focus",(function(){return e.hide()})),this._eventManager.listen("closeAllPopup",(function(){return e.hide()})),this._eventManager.listen(t.OPEN_EVENT,(function(){var t=e.isShow();e._eventManager.emit("closeAllPopup"),t||e.show(),e.$el.css({left:"-1000px"});var n=e._$button,i=n.position(),a=n.outerHeight(!0),o=(a-n.outerHeight())/2,r=i.top+a-o,l=i.left+n.outerWidth(!0)-e.$el.outerWidth(!0);e.$el.css({top:r,left:l})}))}}]),t}(r.default);Object.defineProperty(u,"OPEN_EVENT",{enumerable:!0,writable:!0,value:"openDropdownToolbar"}),t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=s(n(0)),o=s(n(1)),r=s(n(8)),l=s(n(3));function s(e){return e&&e.__esModule?e:{default:e}}var u="markdown",c=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{tagName:"div",className:"te-mode-switch"}));return Object.defineProperty(i,"_buttons",{enumerable:!0,writable:!0,value:{}}),i._render(e),i._switchType(o.default.isExisty(n)?n:u),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"isShown",value:function(){return"block"===this._$rootElement.css("display")}},{key:"show",value:function(){this._$rootElement.css("display","block")}},{key:"hide",value:function(){this._$rootElement.css("display","none")}},{key:"_render",value:function(e){this._buttons.$markdown=(0,a.default)('<button class="te-switch-button markdown" type="button">'+l.default.get("Markdown")+"</button>"),this._buttons.$wysiwyg=(0,a.default)('<button class="te-switch-button wysiwyg" type="button">'+l.default.get("WYSIWYG")+"</button>"),this.$el.append(this._buttons.$markdown),this.$el.append(this._buttons.$wysiwyg),e&&(e.append(this.$el),this._$rootElement=e),this.on("click .markdown",this._changeMarkdown.bind(this)),this.on("click .wysiwyg",this._changeWysiwyg.bind(this)),this.show()}},{key:"_changeMarkdown",value:function(){this._switchType(u)}},{key:"_changeWysiwyg",value:function(){this._switchType("wysiwyg")}},{key:"_setActiveButton",value:function(e){this._buttons.$markdown.removeClass("active"),this._buttons.$wysiwyg.removeClass("active"),this._buttons["$"+e].addClass("active")}},{key:"_switchType",value:function(e){this._type!==e&&(this._type=e,this._setActiveButton(e),this.trigger("modeSwitched",this._type))}}]),t}(r.default);Object.defineProperty(c,"TYPE",{enumerable:!0,writable:!0,value:{MARKDOWN:u,WYSIWYG:"wysiwyg"}}),t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function e(t,n,i){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in a)return a.value;var r=a.get;return void 0!==r?r.call(i):void 0},o=u(n(0)),r=u(n(1)),l=u(n(5)),s=u(n(3));function u(e){return e&&e.__esModule?e:{default:e}}var c=/^(https?:\/\/)?([\da-z.-]+)\.([a-z.]{2,6})(\/([^\s]*))?$/,d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n='\n            <label for="url">'+s.default.get("URL")+'</label>\n            <input type="text" class="te-url-input" />\n            <label for="linkText">'+s.default.get("Link text")+'</label>\n            <input type="text" class="te-link-text-input" />\n            <div class="te-button-section">\n                <button type="button" class="te-ok-button">'+s.default.get("OK")+'</button>\n                <button type="button" class="te-close-button">'+s.default.get("Cancel")+"</button>\n            </div>\n        ";return e=r.default.extend({header:!0,title:s.default.get("Insert link"),className:"te-popup-add-link tui-editor-popup",content:n},e),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"_initInstance",value:function(e){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initInstance",this).call(this,e),this._editor=e.editor,this._eventManager=e.editor.eventManager}},{key:"_initDOM",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initDOM",this).call(this);var e=this.$el.get(0);this._inputText=e.querySelector(".te-link-text-input"),this._inputURL=e.querySelector(".te-url-input")}},{key:"_initDOMEvent",value:function(){var e=this;a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initDOMEvent",this).call(this),this.on("click .te-close-button",(function(){return e.hide()})),this.on("click .te-ok-button",(function(){return e._addLink()})),this.on("shown",(function(){var t=e._inputText,n=e._inputURL,i=e._editor.getSelectedText().trim();t.value=i,c.exec(i)&&(n.value=i),n.focus()})),this.on("hidden",(function(){e._resetInputs()}))}},{key:"_initEditorEvent",value:function(){var e=this;a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initEditorEvent",this).call(this);var n=this._eventManager;n.listen("focus",(function(){return e.hide()})),n.listen("closeAllPopup",(function(){return e.hide()})),n.listen("openPopupAddLink",(function(){n.emit("closeAllPopup"),e.show()}))}},{key:"_addLink",value:function(){var e=this._getValue(),t=e.url,n=e.linkText;this._clearValidationStyle(),n.length<1?(0,o.default)(this._inputText).addClass("wrong"):t.length<1?(0,o.default)(this._inputURL).addClass("wrong"):(this._eventManager.emit("command","AddLink",{linkText:n,url:t}),this.hide())}},{key:"_getValue",value:function(){return{url:this._inputURL.value,linkText:this._inputText.value}}},{key:"_clearValidationStyle",value:function(){(0,o.default)(this._inputURL).removeClass("wrong"),(0,o.default)(this._inputText).removeClass("wrong")}},{key:"_resetInputs",value:function(){this._inputText.value="",this._inputURL.value="",this._clearValidationStyle()}}]),t}(l.default);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function e(t,n,i){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in a)return a.value;var r=a.get;return void 0!==r?r.call(i):void 0},o=u(n(1)),r=u(n(5)),l=u(n(44)),s=u(n(3));function u(e){return e&&e.__esModule?e:{default:e}}var c="te-image-url-input",d="te-image-file-input",f="te-alt-text-input",h="te-ok-button",g="te-close-button",v="te-file-type",p="te-url-type",m="te-tab-section",y=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n='\n            <div class="'+m+'"></div>\n            <div class="'+p+'">\n                <label for="">'+s.default.get("Image URL")+'</label>\n                <input type="text" class="'+c+'" />\n            </div>\n            <form enctype="multipart/form-data" class="'+v+'">\n                <label for="">'+s.default.get("Select image file")+'</label>\n                <input type="file" class="'+d+'" accept="image/*" />\n            </form>\n            <label for="url">'+s.default.get("Description")+'</label>\n            <input type="text" class="'+f+'" />\n            <div class="te-button-section">\n                <button type="button" class="'+h+'">'+s.default.get("OK")+'</button>\n                <button type="button" class="'+g+'">'+s.default.get("Cancel")+"</button>\n            </div>\n        ";return e=o.default.extend({header:!0,title:s.default.get("Insert image"),className:"te-popup-add-image tui-editor-popup",content:n},e),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"_initInstance",value:function(e){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initInstance",this).call(this,e),this.eventManager=e.eventManager}},{key:"_initDOM",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initDOM",this).call(this);var e=this.$el;this._$imageUrlInput=e.find("."+c),this._$imageFileInput=e.find("."+d),this._$altTextInput=e.find("."+f);var n=e.find("."+v),i=e.find("."+p),o=this.$body.find("."+m);this.tab=new l.default({initName:s.default.get("File"),items:[s.default.get("File"),s.default.get("URL")],sections:[n,i]}),o.append(this.tab.$el)}},{key:"_initDOMEvent",value:function(){var e=this;a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initDOMEvent",this).call(this),this.on("shown",(function(){return e._$imageUrlInput.focus()})),this.on("hidden",(function(){return e._resetInputs()})),this.on("change ."+d,(function(){var t=e._$imageFileInput.val().split("\\").pop();e._$altTextInput.val(t)})),this.on("click ."+g,(function(){return e.hide()})),this.on("click ."+h,(function(){var t=e._$imageUrlInput.val(),n=e._$altTextInput.val();if(t)e._applyImage(t,n);else{var i=e._$imageFileInput.get(0).files;if(i.length){var a=i.item(0);e.eventManager.emit("addImageBlobHook",a,(function(t,i){return e._applyImage(t,i||n)}),"ui")}}e.hide()})),this.tab.on("itemClick",(function(){return e._resetInputs()}))}},{key:"_initEditorEvent",value:function(){var e=this;a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initEditorEvent",this).call(this),this.eventManager.listen("focus",(function(){return e.hide()})),this.eventManager.listen("closeAllPopup",(function(){return e.hide()})),this.eventManager.listen("openPopupAddImage",(function(){e.eventManager.emit("closeAllPopup"),e.show()}))}},{key:"_applyImage",value:function(e,t){this.eventManager.emit("command","AddImage",{imageUrl:e,altText:t||"image"}),this.hide()}},{key:"_resetInputs",value:function(){this.$el.find("input").val("")}},{key:"remove",value:function(){this.tab.remove(),a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this)}}]),t}(r.default);t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DISABLED_MENU_CLASS_NAME=t.REMOVE_ROW_MENU_CLASS_NAME=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function e(t,n,i){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in a)return a.value;var r=a.get;return void 0!==r?r.call(i):void 0},o=u(n(0)),r=u(n(1)),l=u(n(5)),s=u(n(3));function u(e){return e&&e.__esModule?e:{default:e}}var c=t.REMOVE_ROW_MENU_CLASS_NAME="te-table-remove-row",d=t.DISABLED_MENU_CLASS_NAME="te-context-menu-disabled",f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n='\n            <button type="button" class="te-table-add-row">'+s.default.get("Add row")+'</button>\n            <button type="button" class="te-table-add-col">'+s.default.get("Add col")+'</button>\n            <button type="button" class="te-table-remove-row">'+s.default.get("Remove row")+'</button>\n            <button type="button" class="te-table-remove-col">'+s.default.get("Remove col")+'</button>\n            <hr/>\n            <button type="button" class="te-table-col-align-left">'+s.default.get("Align left")+'</button>\n            <button type="button" class="te-table-col-align-center">'+s.default.get("Align center")+'</button>\n            <button type="button" class="te-table-col-align-right">'+s.default.get("Align right")+'</button>\n            <hr/>\n            <button type="button" class="te-table-remove">'+s.default.get("Remove table")+"</button>\n        ";return e=r.default.extend({header:!1,className:"te-popup-table-utils",content:n},e),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"_initInstance",value:function(e){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initInstance",this).call(this,e),this.eventManager=e.eventManager}},{key:"_initDOMEvent",value:function(){var e=this;a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initDOMEvent",this).call(this),this.on("click .te-table-add-row",(function(){return e.eventManager.emit("command","AddRow")})),this.on("click .te-table-add-col",(function(){return e.eventManager.emit("command","AddCol")})),this.on("click .te-table-col-align-left",(function(){return e.eventManager.emit("command","AlignCol","left")})),this.on("click .te-table-col-align-center",(function(){return e.eventManager.emit("command","AlignCol","center")})),this.on("click .te-table-col-align-right",(function(){return e.eventManager.emit("command","AlignCol","right")})),this.on("click .te-table-remove-col",(function(){return e.eventManager.emit("command","RemoveCol")})),this.on("click .te-table-remove",(function(){return e.eventManager.emit("command","RemoveTable")})),this._bindClickEventOnRemoveRowMenu()}},{key:"_initEditorEvent",value:function(){var e=this;a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initEditorEvent",this).call(this),this.eventManager.listen("focus",(function(){return e.hide()})),this.eventManager.listen("mousedown",(function(){return e.hide()})),this.eventManager.listen("closeAllPopup",(function(){return e.hide()})),this.eventManager.listen("openPopupTableUtils",(function(t){var n=e.$el.parent().offset(),i=t.clientX-n.left,a=t.clientY-n.top+(0,o.default)(window).scrollTop();e._disableRemoveRowMenu(t.target),e.$el.css({position:"absolute",top:a+5,left:i+10}),e.eventManager.emit("closeAllPopup"),e.show()}))}},{key:"_bindClickEventOnRemoveRowMenu",value:function(){var e=this;this.on("click ."+c,(function(t){var n=t.target;(0,o.default)(n).hasClass(d)?t.preventDefault():e.eventManager.emit("command","RemoveRow")}))}},{key:"_disableRemoveRowMenu",value:function(e){var t=this.$el.find("."+c);"TH"===e.nodeName?t.addClass(d):t.removeClass(d)}}]),t}(l.default);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function e(t,n,i){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in a)return a.value;var r=a.get;return void 0!==r?r.call(i):void 0},o=l(n(1)),r=l(n(5));function l(e){return e&&e.__esModule?e:{default:e}}var s='\n    <div class="te-table-selection">\n        <div class="te-table-header"></div>\n        <div class="te-table-body"></div>\n        <div class="te-selection-area"></div>\n    </div>\n    <p class="te-description"></p>\n',u=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=o.default.extend({header:!1,className:"te-popup-add-table",content:s},e),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"_initInstance",value:function(e){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initInstance",this).call(this,e),this._selectedBound={},this._tableBound={},this._eventManager=e.eventManager,this._$button=e.$button}},{key:"_initDOM",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initDOM",this).call(this),this._cacheElements(),this._setTableSizeByBound(5,7)}},{key:"_initDOMEvent",value:function(e){var n=this;a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initDOMEvent",this).call(this,e),this.on("mousemove .te-table-selection",(function(e){var t=e.pageX-n._selectionOffset.left,i=e.pageY-n._selectionOffset.top,a=n._getSelectionBoundByOffset(t,i);n._resizeTableBySelectionIfNeed(a.col,a.row),n._setSelectionAreaByBound(a.col,a.row),n._setDisplayText(a.col,a.row),n._setSelectedBound(a.col,a.row)})),this.on("click .te-table-selection",(function(){var e=n._getSelectedTableSize();n._eventManager.emit("command","Table",e.col,e.row)}))}},{key:"_initEditorEvent",value:function(){var e=this;a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initEditorEvent",this).call(this),this._eventManager.listen("focus",(function(){return e.hide()})),this._eventManager.listen("closeAllPopup",(function(){return e.hide()})),this._eventManager.listen("openPopupAddTable",(function(){var t=e._$button,n=t.get(0),i=n.offsetTop,a=n.offsetLeft;e.$el.css({top:i+t.outerHeight(),left:a}),e._eventManager.emit("closeAllPopup"),e.show(),e._selectionOffset=e.$el.find(".te-table-selection").offset()}))}},{key:"_cacheElements",value:function(){this.$header=this.$el.find(".te-table-header"),this.$body=this.$el.find(".te-table-body"),this.$selection=this.$el.find(".te-selection-area"),this.$desc=this.$el.find(".te-description")}},{key:"_resizeTableBySelectionIfNeed",value:function(e,t){var n=this._getResizedTableBound(e,t);n&&this._setTableSizeByBound(n.col,n.row)}},{key:"_getResizedTableBound",value:function(e,t){var n=void 0,i=void 0,a=void 0;return e>=5&&e<9?n=e+1:e<5&&(n=5),t>=7&&t<14?i=t+1:t<7&&(i=7),this._isNeedResizeTable(n,i)&&(a={row:i||this._tableBound.row,col:n||this._tableBound.col}),a}},{key:"_isNeedResizeTable",value:function(e,t){return e&&e!==this._tableBound.col||t&&t!==this._tableBound.row}},{key:"_getBoundByOffset",value:function(e,t){return{row:parseInt(t/17,10),col:parseInt(e/25,10)}}},{key:"_getOffsetByBound",value:function(e,t){return{x:25*e+25,y:17*t+17}}},{key:"_setTableSizeByBound",value:function(e,t){var n=this._getOffsetByBound(e,t-1);this._setTableSize(n.x,n.y),this._tableBound.row=t,this._tableBound.col=e}},{key:"_getSelectionBoundByOffset",value:function(e,t){var n=this._getBoundByOffset(e,t);return n.row<1?n.row=1:n.row>this._tableBound.row&&(n.row=this._tableBound.row),n.col<1?n.col=1:n.col>this._tableBound.col&&(n.col=this._tableBound.col),n}},{key:"_setSelectionAreaByBound",value:function(e,t){var n=this._getOffsetByBound(e,t);this._setSelectionArea(n.x,n.y)}},{key:"_setSelectedBound",value:function(e,t){this._selectedBound.col=e,this._selectedBound.row=t}},{key:"_getSelectedTableSize",value:function(){return{row:this._selectedBound.row+1,col:this._selectedBound.col+1}}},{key:"_setDisplayText",value:function(e,t){this.$desc.html(e+1+" x "+(t+1))}},{key:"_setTableSize",value:function(e,t){e+=1,t+=1,this.$header.css({height:17,width:e}),this.$body.css({height:t,width:e}),this.$el.css({width:e+30})}},{key:"_setSelectionArea",value:function(e,t){e+=1,t+=1,this.$selection.css({height:t,width:e})}}]),t}(r.default);u.CELL_WIDTH=25,u.CELL_HEIGHT=17,u.MIN_ROW_SELECTION_INDEX=1,u.MIN_COL_SELECTION_INDEX=1,t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function e(t,n,i){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in a)return a.value;var r=a.get;return void 0!==r?r.call(i):void 0},o=u(n(0)),r=u(n(1)),l=u(n(5)),s=u(n(3));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n='\n            <ul>\n                <li data-value="1" data-type="Heading"><h1>'+s.default.get("Heading")+' 1</h1></li>\n                <li data-value="2" data-type="Heading"><h2>'+s.default.get("Heading")+' 2</h2></li>\n                <li data-value="3" data-type="Heading"><h3>'+s.default.get("Heading")+' 3</h3></li>\n                <li data-value="4" data-type="Heading"><h4>'+s.default.get("Heading")+' 4</h4></li>\n                <li data-value="5" data-type="Heading"><h5>'+s.default.get("Heading")+' 5</h5></li>\n                <li data-value="6" data-type="Heading"><h6>'+s.default.get("Heading")+' 6</h6></li>\n                <li data-type="Paragraph"><div>'+s.default.get("Paragraph")+"</div></li>\n            </ul>\n        ";return e=r.default.extend({header:!1,className:"te-heading-add",content:n},e),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"_initInstance",value:function(e){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initInstance",this).call(this,e),this._eventManager=e.eventManager,this._$button=e.$button}},{key:"_initDOMEvent",value:function(){var e=this;a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initDOMEvent",this).call(this),this.on("click li",(function(t){var n=(0,o.default)(t.target).closest("li");e._eventManager.emit("command",n.data("type"),n.data("value"))}))}},{key:"_initEditorEvent",value:function(){var e=this;a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initEditorEvent",this).call(this),this._eventManager.listen("focus",this.hide.bind(this)),this._eventManager.listen("closeAllPopup",this.hide.bind(this)),this._eventManager.listen("openHeadingSelect",(function(){var t=e._$button,n=t.get(0),i=n.offsetTop,a=n.offsetLeft;e.$el.css({top:i+t.outerHeight(),left:a}),e._eventManager.emit("closeAllPopup"),e.show()}))}}]),t}(l.default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function e(t,n,i){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in a)return a.value;var r=a.get;return void 0!==r?r.call(i):void 0},o=s(n(0)),r=s(n(1)),l=s(n(5));function s(e){return e&&e.__esModule?e:{default:e}}var u="te-popup-code-block-lang-",c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=[];return e.languages.forEach((function(e){return n.push('<button type="button" class="'+u+e+'" data-lang="'+e+'">'+e+"</button>")})),e=r.default.extend({header:!1,className:"te-popup-code-block-languages",content:n.join("")},e),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"_initInstance",value:function(e){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initInstance",this).call(this,e),this._onSelectedLanguage=null,this._onDismissed=null,this._currentButton=null,this._$buttons=null,this._languages=e.languages,this.eventManager=e.eventManager}},{key:"_initDOM",value:function(e){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initDOM",this).call(this,e),this.$el.css("z-index",1e4),this._$buttons=this.$el.find("button"),this._activateButtonByIndex(0)}},{key:"_initDOMEvent",value:function(){var e=this;a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initDOMEvent",this).call(this);var n=function(t){var n=(0,o.default)(t.target).data("lang");e._onSelectedLanguage&&e._onSelectedLanguage(n),e.hide()};this._languages.forEach((function(t){return e.on("mousedown ."+u+t,n)}))}},{key:"_initEditorEvent",value:function(){var e=this;a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initEditorEvent",this).call(this),this.eventManager.listen("openPopupCodeBlockLanguages",(function(t){e.show(t.callback);var n=e.$el.get(0).style;return n.top=t.offset.top+"px",n.left=t.offset.left+"px",e.setCurrentLanguage(t.language),e})),this.eventManager.listen("focus",(function(){return e.hide()})),this.eventManager.listen("mousedown",(function(){return e.hide()})),this.eventManager.listen("closeAllPopup",(function(){return e.hide()})),this.eventManager.listen("closePopupCodeBlockLanguages",(function(){return e.hide()})),this.eventManager.listen("scroll",(function(){return e.hide()}))}},{key:"_activateButtonByIndex",value:function(e){this._currentButton&&(0,o.default)(this._currentButton).removeClass("active"),this._currentButton=this._$buttons.get(e),(0,o.default)(this._currentButton).addClass("active"),this._currentButton.scrollIntoView()}},{key:"prev",value:function(){var e=this._$buttons.index(this._currentButton)-1;e<0&&(e=this._$buttons.length-1),this._activateButtonByIndex(e)}},{key:"next",value:function(){var e=this._$buttons.index(this._currentButton)+1;e>=this._$buttons.length&&(e=0),this._activateButtonByIndex(e)}},{key:"getCurrentLanguage",value:function(){return(0,o.default)(this._currentButton).data("lang")}},{key:"setCurrentLanguage",value:function(e){var t=this._$buttons.filter("."+u+e);if(t.length>0){var n=this._$buttons.index(t);this._activateButtonByIndex(n)}}},{key:"show",value:function(e){this._onSelectedLanguage=e.selected,this._onDismissed=e.dismissed,a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"show",this).call(this)}},{key:"hide",value:function(){this._onDismissed&&this._onDismissed(),this._onSelectedLanguage=null,this._onDismissed=null,a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"hide",this).call(this)}}]),t}(l.default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function e(t,n,i){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in a)return a.value;var r=a.get;return void 0!==r?r.call(i):void 0},o=h(n(0)),r=h(n(1)),l=h(n(5)),s=h(n(86)),u=h(n(87)),c=h(n(88)),d=h(n(89)),f=h(n(3));function h(e){return e&&e.__esModule?e:{default:e}}var g="popup-editor-",v="te-ok-button",p="te-close-button",m='\n    <button type="button" class="'+g+'toggle-scroll"></button>\n    <button type="button" class="'+g+'toggle-preview"></button>\n    <button type="button" class="'+g+'toggle-fit"></button>\n    <button type="button" class="tui-popup-close-button"></button>\n',y=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n='\n            <div class="'+g+'body"></div>\n            <div class="te-button-section">\n                <button type="button" class="'+v+'">'+f.default.get("OK")+'</button>\n                <button type="button" class="'+p+'">'+f.default.get("Cancel")+"</button>\n            </div>\n        ";return e=r.default.extend({header:!0,title:"CodeBlock Editor",content:n,className:"tui-popup-code-block-editor",headerButtons:m,modal:!0},e),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"_initInstance",value:function(e){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initInstance",this).call(this,e),this.eventManager=e.eventManager,this.convertor=e.convertor}},{key:"_initDOM",value:function(e){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initDOM",this).call(this,e);var n=this.$el.get(0);this._body=n.querySelector("."+g+"body"),this._toggleFitButton=n.querySelector("."+g+"toggle-fit"),this._togglePreviewButton=n.querySelector("."+g+"toggle-preview"),this._toggleScrollButton=n.querySelector("."+g+"toggle-scroll"),this._okButton=n.querySelector("."+v),this._closeButton=n.querySelector("."+p),this._codeMirrorWrapper=this._createCodeBlockEditor(),this._previewWrapper=this._createPreview(),this._scrollSyncSplit=new s.default(this._body,this._codeMirrorWrapper,this._previewWrapper),this._updateFitWindowButton(),this._updatePreviewButton(),this._updateScrollButton(),this._codeBlockLanguagesCombo=this._createCodeBlockLanguagesCombo()}},{key:"_initDOMEvent",value:function(){var e=this;a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initDOMEvent",this).call(this),this.on("scroll",(function(e){return e.preventDefault()})),this.on("click ."+g+"toggle-fit",(function(){return e._toggleFitToWindow()})),this.on("click ."+g+"toggle-preview",(function(){return e._togglePreview()})),this.on("click ."+g+"toggle-scroll",(function(){return e._toggleScroll()})),this.on("click ."+v,(function(){return e._save()})),this.on("click ."+p,(function(){return e.hide()})),this.on("click ."+g+"close",(function(){return e.hide()})),this.on("click ."+g+"editor-wrapper",(function(t){t.target===e._codeMirrorWrapper&&e._focusEditor(!0)}))}},{key:"_initEditorEvent",value:function(){var e=this;a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initEditorEvent",this).call(this),this.eventManager.listen("openPopupCodeBlockEditor",(function(t){return e.eventManager.emit("closeAllPopup"),e.show(t),e})),this.eventManager.listen("closeAllPopup",this.hide.bind(this)),this.eventManager.listen("closePopupCodeBlockEditor",this.hide.bind(this))}},{key:"_createCodeBlockEditor",value:function(){var e=document.createElement("div");return e.className=g+"editor-wrapper",this._codeBlockEditor=new u.default(e,this.eventManager),e}},{key:"_createPreview",value:function(){var e=document.createElement("div");return this._codeBlockPreview=new c.default((0,o.default)(e),this.eventManager,this.convertor,this._codeBlockEditor),e}},{key:"_createCodeBlockLanguagesCombo",value:function(){var e=this,t=this.getTitleElement(),n=new d.default(this.eventManager);return n.setOnLanguageSelected((function(t){e._codeBlockEditor.setLanguage(t),e._codeBlockEditor.refresh(),e._focusEditor()})),t.innerHTML="CodeBlock Editor",t.appendChild(n.getElement()),n}},{key:"_updateFitWindowButton",value:function(){(0,o.default)(this._toggleFitButton).toggleClass("active",this.isFitToWindow())}},{key:"_updatePreviewButton",value:function(){(0,o.default)(this._togglePreviewButton).toggleClass("active",this._scrollSyncSplit.isSplitView())}},{key:"_updateScrollButton",value:function(){this._scrollSyncSplit.isSplitView()?this._toggleScrollButton.style.display="inline-block":this._toggleScrollButton.style.display="none",(0,o.default)(this._toggleScrollButton).toggleClass("active",this._scrollSyncSplit.isScrollSynced())}},{key:"_focusEditor",value:function(e){this._codeBlockEditor.focus(),e?this._codeBlockEditor.moveCursorToEnd():this._codeBlockEditor.moveCursorToStart()}},{key:"_togglePreview",value:function(){this._scrollSyncSplit.toggleSplitView(),this._updatePreviewButton(),this._updateScrollButton(),this._codeBlockEditor.refresh()}},{key:"_toggleFitToWindow",value:function(){this.toggleFitToWindow(),this._updateFitWindowButton(),this._codeBlockEditor.refresh()}},{key:"_toggleScroll",value:function(){this._scrollSyncSplit.toggleScrollSync(),this._updateScrollButton()}},{key:"_save",value:function(){this._codeBlockEditor.save(this._codeBlockElement),this.hide()}},{key:"_load",value:function(e){this._codeBlockElement=e,this._codeBlockEditor.load(e),this._codeBlockLanguagesCombo.setLanguage(this._codeBlockEditor.getLanguage()),this._focusEditor(),this._codeBlockPreview.refresh()}},{key:"show",value:function(e){if(a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"show",this).call(this),!e)throw new Error("should be called with codeBlockElement");this._load(e)}},{key:"hide",value:function(){this.setFitToWindow(!1),this._codeBlockEditor&&this._codeBlockEditor.clear(),this._codeBlockPreview&&this._codeBlockPreview.clear(),this._codeBlockElement=null,a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"hide",this).call(this)}}]),t}(l.default);t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=r(n(0)),o=r(n(1));function r(e){return e&&e.__esModule?e:{default:e}}var l={left:"tui-split-content-left",right:"tui-split-content-right"},s=function(){function e(t,n,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a=o.default.extend({showScrollSyncButton:!1,scrollSync:!0,splitView:!0},a),this._baseElement=t,this._contentElements=[],this._initDom(n,i,a),this._initDomEvent()}return i(e,[{key:"_initDom",value:function(e,t,n){var i=document.createElement("div");i.className="tui-split-scroll",this._el=i;var a=document.createElement("div");a.className="tui-split-scroll-wrapper",this._scrollWrapper=a,this._setScrollSync(n.scrollSync),this.setSplitView(n.splitView);var o=document.createElement("div");o.className="tui-split-scroll-content",this._contentWrapper=o;var r=document.createElement("div");r.className="tui-splitter",this._baseElement.appendChild(i),i.appendChild(a),a.appendChild(o),a.appendChild(r),this._setLeft(e),this._setRight(t)}},{key:"_initDomEvent",value:function(){this._contentWrapper.addEventListener("scroll",this.sync.bind(this))}},{key:"_requireScrollIntoView",value:function(e){var t,n,i=e.target,o=i.getBoundingClientRect(),r=o.top,l=o.bottom,s=void 0;if(this.isScrollSynced())s=this._contentWrapper;else if((0,a.default)(i).parents(this._contentElements.left).length)s=this._contentElements.left;else{if(!(0,a.default)(i).parents(this._contentElements.right).length)return;s=this._contentElements.right}var u=s.getBoundingClientRect();t=u.top,n=u.bottom,r<t?s.scrollTop=s.scrollTop+r-t:l>n&&(s.scrollTop=s.scrollTop+l-n),this.sync()}},{key:"_setContentElement",value:function(e,t){var n=this,i=this._contentElements[t];i&&((0,a.default)(i).off("requireScrollIntoView"),this._contentWrapper.removeChild(i)),(0,a.default)(e).addClass(l[t]),this._contentWrapper.appendChild(e),(0,a.default)(e).on("requireScrollIntoView",(function(e){return n._requireScrollIntoView(e)})),(0,a.default)(e).on("requireScrollSync",(function(){return n.sync()})),this._contentElements[t]=e,this.sync()}},{key:"_setLeft",value:function(e){this._setContentElement(e,"left")}},{key:"_setRight",value:function(e){this._setContentElement(e,"right")}},{key:"_setScrollSync",value:function(e){(0,a.default)(this._el).toggleClass("scroll-sync",e)}},{key:"toggleScrollSync",value:function(){(0,a.default)(this._el).toggleClass("scroll-sync")}},{key:"setSplitView",value:function(e){(0,a.default)(this._el).toggleClass("single-content",!e)}},{key:"toggleSplitView",value:function(){(0,a.default)(this._el).toggleClass("single-content")}},{key:"isScrollSynced",value:function(){return(0,a.default)(this._el).hasClass("scroll-sync")}},{key:"isSplitView",value:function(){return!(0,a.default)(this._el).hasClass("single-content")}},{key:"sync",value:function(){if(this._contentElements.left&&this._contentElements.right){var e=this._contentWrapper.clientHeight,t=this._contentWrapper.scrollTop,n=this._contentElements.left,i=this._contentElements.right,a=n.offsetHeight-e>0?n:i,o=a===n?i:n,r=a.offsetHeight,l=Math.max(r-e,0),s=r-Math.max(o.offsetHeight,e);a.style.top="0px",o.style.top=t/l*s+"px"}}},{key:"scrollTop",value:function(e){this._contentWrapper.scrollTop=e}}]),e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=r(n(0)),o=r(n(36));function r(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,{singleCursorHeightPerLine:!1,theme:"none"}));return i._language="",i._eventManager=n,i._initEvent(),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"_initEvent",value:function(){var e=this;this.on("cursorActivity",this._onRequireScrollIntoView.bind(this)),this.on("beforeChange",(function(t,n){"paste"===n.origin&&e._eventManager.emit("pasteBefore",{source:"codeblock",data:n})}))}},{key:"_onRequireScrollIntoView",value:function(){var e=this.getCursor(),t=this.getWrapperElement();setTimeout((function(){var n=t.querySelector("pre:nth-child("+(e.line+1)+")");(0,a.default)(n).trigger("requireScrollIntoView")}),0)}},{key:"load",value:function(e){var t=e.cloneNode(!0);this.setLanguage(t.getAttribute("data-language")||""),this.setEditorCodeText(t.textContent)}},{key:"save",value:function(e){e.innerHTML="",e.textContent=this.getEditorCodeText(),e.setAttribute("data-language",this._language),(0,a.default)(e).trigger("language-changed")}},{key:"clear",value:function(){this.setLanguage(""),this.setEditorCodeText("")}},{key:"getLanguage",value:function(){return this._language}},{key:"setLanguage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._language=e}},{key:"getEditorCodeText",value:function(){return this.getValue()}},{key:"setEditorCodeText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.setValue(e)}},{key:"refresh",value:function(){this.cm.refresh()}}]),t}(o.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function e(t,n,i){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in a)return a.value;var r=a.get;return void 0!==r?r.call(i):void 0},r=n(13),l=(i=r)&&i.__esModule?i:{default:i};var s=function(e){function t(e,n,i,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i,!0));return o._codeBlockEditor=a,o._initEvent(),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"_initEvent",value:function(){var e=this;this._codeBlockEditor.on("update",(function(){return e.lazyRunner.run("refresh")}))}},{key:"refresh",value:function(){var e=this._codeBlockEditor.getLanguage(),n=this._codeBlockEditor.getEditorCodeText();o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"refresh",this).call(this,"```"+e+"\n"+n+"\n```"),this.$el.trigger("requireScrollSync")}},{key:"clear",value:function(){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"render",this).call(this,"")}}]),t}(l.default);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=l(n(0)),o=l(n(3)),r=l(n(20));function l(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._eventManager=t,this._initDOM(),this._initDOMEvent()}return i(e,[{key:"_initDOM",value:function(){this._inputLanguage=(0,a.default)('<input type="text" maxlength="20" placeholder="'+o.default.get("Choose language")+'">').get(0),this._wrapper=(0,a.default)('<span class="te-input-language">').get(0),this._wrapper.appendChild(this._inputLanguage)}},{key:"_initDOMEvent",value:function(){var e=this;this._inputLanguage.addEventListener("keydown",(function(t){return e._onKeyEvent(t)})),this._inputLanguage.addEventListener("focus",(function(){return e._showPopupCodeBlockLanguages()})),this._inputLanguage.addEventListener("focusout",(function(){return e._onFocusOut()})),this._wrapper.addEventListener("mousedown",(function(t){t.target===e._wrapper&&(t.preventDefault(),e._toggleFocus())}))}},{key:"_showPopupCodeBlockLanguages",value:function(){var e=this,t=this._inputLanguage.getBoundingClientRect();(0,a.default)(this._wrapper).toggleClass("active",!0),this.active=!0,this._popupCodeBlockLanguages=this._eventManager.emitReduce("openPopupCodeBlockLanguages",{language:this._prevStoredLanguage,offset:{left:t.left,top:t.bottom},callback:{selected:function(t){return e._onLanguageSelectedFromList(t)},dismissed:function(){e._popupCodeBlockLanguages=null}}})}},{key:"_toggleFocus",value:function(){var e=this._inputLanguage;(0,a.default)(this._wrapper).hasClass("active")?e.blur():e.focus()}},{key:"_onFocusOut",value:function(){(0,a.default)(this._wrapper).toggleClass("active",!1),this._inputLanguage.value=this._prevStoredLanguage,this._hidePopupCodeBlockLanguages()}},{key:"_onKeyEvent",value:function(e){if(this._popupCodeBlockLanguages)switch(e.which){case r.default.keyCode("UP"):this._popupCodeBlockLanguages.prev(),e.preventDefault();break;case r.default.keyCode("DOWN"):this._popupCodeBlockLanguages.next(),e.preventDefault();break;case r.default.keyCode("ENTER"):case r.default.keyCode("TAB"):var t=this._popupCodeBlockLanguages.getCurrentLanguage();this._inputLanguage.value=t,this._storeInputLanguage(),e.preventDefault();break;default:this._popupCodeBlockLanguages.hide()}else e.which!==r.default.keyCode("ENTER")&&e.which!==r.default.keyCode("TAB")||(this._storeInputLanguage(),e.preventDefault())}},{key:"_onLanguageSelectedFromList",value:function(e){this._inputLanguage.value=e,this._storeInputLanguage()}},{key:"setOnLanguageSelected",value:function(e){this._onLanguageSelected=e}},{key:"_hidePopupCodeBlockLanguages",value:function(){this._eventManager.emit("closePopupCodeBlockLanguages")}},{key:"setLanguage",value:function(e){this._prevStoredLanguage=e,this._inputLanguage.value=e}},{key:"_storeInputLanguage",value:function(){var e=this._inputLanguage.value;this.setLanguage(e),this._onLanguageSelected&&this._onLanguageSelected(e),this._hidePopupCodeBlockLanguages()}},{key:"getElement",value:function(){return this._wrapper}}]),e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(18)),a=o(n(4));function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){var i=t.match(/^(\s*)((?:.|\n)*\S)(\s*)$/m),o=i[1],r=i[2],l=i[3],s=void 0;if(function(e){var t=a.default.isElemNode,n=a.default.isTextNode,i=n(e.previousSibling)&&t(e.firstChild),o=n(e.nextSibling)&&t(e.lastChild);return!i&&!o}(e))s=""+n+r+n;else{var u=e.nodeName.toLowerCase();s="<"+u+">"+r+"</"+u+">"}return""+o+s+l}t.default=i.default.Renderer.factory(i.default.gfmRenderer,{"EM, I":function(e,t){return this.isEmptyText(t)?"":r(e,t,"*")},"STRONG, B":function(e,t){return this.isEmptyText(t)?"":r(e,t,"**")},"DEL, S":function(e,t){return this.isEmptyText(t)?"":r(e,t,"~~")}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(2),o=(i=a)&&i.__esModule?i:{default:i},r=n(34);var l=/^(\*{2}|_{2}).*\1$/,s=/[*_]{2,}([^*_]*)[*_]{2,}/g,u=o.default.command("markdown",{name:"Bold",keyMap:["CTRL+B","META+B"],exec:function(e){var t=e.getEditor(),n=t.getDoc(),i=e.getRange();(0,r.changeSyntax)(n,i,"**",l,s),t.focus()}});t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(2),o=(i=a)&&i.__esModule?i:{default:i},r=n(34);var l=/^(\*{3}|_{3}).*\1$/,s=/^(\*{2}|_{2}).*\1$/,u=/^(\*|_).*\1$/,c=/([^*_])[*_]([^*_]+)[*_]([^*_])/g,d=function(e){return l.test(e)},f=function(e){return s.test(e)},h=function(e){return u.test(e)},g="*".length,v="**".length,p="***".length,m=function(e){return e?e.replace(c,"$1$2$3"):""},y=o.default.command("markdown",{name:"Italic",keyMap:["CTRL+I","META+I"],exec:function(e){var t=e.getEditor(),n=t.getDoc(),i=n.getCursor(),a=i.line,o=i.ch,l=e.getRange(),s=n.getSelection();if(s)(function(e,t,n){var i=r.expandReplace.bind(this,e,n);return i(p,d,(function(e){return(0,r.removeSyntax)(e,"*")}))||i(v,f,(function(e){return(0,r.appendSyntax)(m(e),"*")}))||i(g,h,(function(e){return(0,r.removeSyntax)(e,"*")}))||(0,r.replace)(e,t,d,(function(e){return(0,r.removeSyntax)(e,"*")}))||(0,r.replace)(e,t,f,(function(e){return(0,r.appendSyntax)(m(e),"*")}))||(0,r.replace)(e,t,h,(function(e){return(0,r.removeSyntax)(e,"*")}))})(n,s,l)||n.replaceSelection((0,r.appendSyntax)(m(s),"*"),"around");else{!function(e,t){(0,r.expandReplace)(e,t,p,d,(function(e){return(0,r.removeSyntax)(e,"*")}))||(0,r.expandReplace)(e,t,v,f,(function(e){return(0,r.appendSyntax)(e,"*")}))||(0,r.expandReplace)(e,t,g,h,(function(){return""}))||e.replaceSelection("**","around")}(n,l);var u=n.getSelection(),c=o;d(u)||h(u)&&!f(u)?c+=g:c-=g,n.setCursor(a,c)}t.focus()}});t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(2),o=(i=a)&&i.__esModule?i:{default:i},r=n(34);var l=/^~~.*~~$/,s=/~~([^~]*)~~/g,u=o.default.command("markdown",{name:"Strike",keyMap:["CTRL+S","META+S"],exec:function(e){var t=e.getEditor(),n=t.getDoc(),i=e.getRange();(0,r.changeSyntax)(n,i,"~~",l,s),t.focus()}});t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(2),o=(i=a)&&i.__esModule?i:{default:i};var r=/^> ?/,l=o.default.command("markdown",{name:"Blockquote",keyMap:["ALT+Q","ALT+Q"],exec:function(e){var t=e.getEditor(),n=t.getDoc(),i=e.getCurrentRange(),a={line:i.from.line,ch:0},o={line:i.to.line,ch:n.getLineHandle(i.to.line).text.length},r=n.getRange(a,o).split("\n"),l=this._haveBlockquote(r),s=void 0;if(s=l?this._removeBlockquote(r):this._addBlockquote(r),n.replaceRange(s.join("\n"),a,o),l){var u=r.length;this._isBlockquoteWithSpace(r[u-1])?i.to.ch-=2:i.to.ch-=1}else i.to.ch+=2;n.setCursor(i.to),t.focus()},_haveBlockquote:function(e){for(var t=0;t<e.length;t+=1)if(!r.test(e[t]))return!1;return!0},_addBlockquote:function(e){return e.map((function(e){return"> "+e}))},_removeBlockquote:function(e){return e.map((function(e){return e.replace(r,"")}))},_isBlockquoteWithSpace:function(e){return/^> /.test(e)}});t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(1)),a=o(n(2));function o(e){return e&&e.__esModule?e:{default:e}}var r=/^#+\s/g,l=a.default.command("markdown",{name:"Heading",exec:function(e,t){var n=e.getEditor(),a=n.getDoc(),o=e.getCurrentRange(),l={line:o.from.line,ch:0},s={line:o.to.line,ch:a.getLineHandle(o.to.line).text.length},u=a.getLine(s.line).length,c=a.getRange(l,s).split("\n");i.default.forEachArray(c,(function(e,n){c[n]=function(e,t){var n=e.match(r),i="";do{i+="#",t-=1}while(t>0);if(n){var a=e.split(n[0]);e=a[1]}return i+" "+e}(e,t)})),a.replaceRange(c.join("\n"),l,s),o.to.ch+=a.getLine(s.line).length-u,a.setSelection(l,o.to),n.focus()}});t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1));function a(e){return e&&e.__esModule?e:{default:e}}var o=a(n(2)).default.command("markdown",{name:"Paragraph",exec:function(e){var t=e.getEditor(),n=t.getDoc(),a=e.getCurrentRange(),o={line:a.from.line,ch:0},r={line:a.to.line,ch:n.getLineHandle(a.to.line).text.length},l=n.getLine(r.line).length,s=n.getRange(o,r).split("\n");i.default.forEachArray(s,(function(e,t){s[t]=e.replace(/^(#{1,6}| *((?:\*|-|\d\.)(?: \[[ xX]])?)) /,"")})),n.replaceRange(s.join("\n"),o,r),a.to.ch+=n.getLine(r.line).length-l,n.setSelection(o,r),t.focus()}});t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(2);var o=((i=a)&&i.__esModule?i:{default:i}).default.command("markdown",{name:"HR",keyMap:["CTRL+L","META+L"],exec:function(e){var t=e.getEditor(),n=t.getDoc(),i="",a=e.getCurrentRange(),o={line:a.from.line,ch:a.from.ch},r={line:a.to.line,ch:a.to.ch};a.collapsed&&(i=n.getLine(o.line),o.ch=0,r.ch=n.getLineHandle(a.to.line).text.length),n.getLine(o.line).length?i+="\n\n* * *\n\n":i+="\n* * *\n",n.replaceRange(i,o,r),t.focus()}});t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(2)),a=o(n(10));function o(e){return e&&e.__esModule?e:{default:e}}var r=a.default.decodeURIGraceful,l=a.default.encodeMarkdownCharacters,s=a.default.escapeMarkdownCharacters,u=i.default.command("markdown",{name:"AddLink",exec:function(e,t){var n=e.getEditor(),i=n.getDoc(),a=e.getCurrentRange(),o={line:a.from.line,ch:a.from.ch},u={line:a.to.line,ch:a.to.ch},c=t.linkText,d=t.url;c=r(c);var f="["+(c=s(c))+"]("+(d=l(d))+")";i.replaceRange(f,o,u),n.focus()}});t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(2)),a=o(n(10));function o(e){return e&&e.__esModule?e:{default:e}}var r=a.default.decodeURIGraceful,l=a.default.encodeMarkdownCharacters,s=a.default.escapeMarkdownCharacters,u=i.default.command("markdown",{name:"AddImage",exec:function(e,t){var n=e.getEditor(),i=n.getDoc(),a=e.getCurrentRange(),o={line:a.from.line,ch:a.from.ch},u={line:a.to.line,ch:a.to.ch},c=t.altText,d=t.imageUrl;c=r(c);var f="!["+(c=s(c))+"]("+(d=l(d))+")";i.replaceRange(f,o,u,"+addImage"),n.focus()}});t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(2);var o=((i=a)&&i.__esModule?i:{default:i}).default.command("markdown",{name:"UL",keyMap:["CTRL+U","META+U"],exec:function(e){var t=e.getCurrentRange();e.componentManager.getManager("list").changeSyntax(t,"ul")}});t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(2);var o=((i=a)&&i.__esModule?i:{default:i}).default.command("markdown",{name:"OL",keyMap:["CTRL+O","META+O"],exec:function(e){var t=e.getCurrentRange();e.componentManager.getManager("list").changeSyntax(t,"ol")}});t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(2);var o=((i=a)&&i.__esModule?i:{default:i}).default.command("markdown",{name:"Indent",exec:function(e){e.getEditor().execCommand("indentOrderedList")}});t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(2);var o=((i=a)&&i.__esModule?i:{default:i}).default.command("markdown",{name:"Outdent",exec:function(e){e.getEditor().execCommand("indentLessOrderedList")}});t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(2);var o=((i=a)&&i.__esModule?i:{default:i}).default.command("markdown",{name:"Table",exec:function(e,t,n,i){var a=e.getEditor(),o=a.getDoc(),r="\n";a.getCursor().ch>0&&(r+="\n"),r+=function(e,t){var n="|",i="|",a=0;for(;e;)t?(n+=" "+t[a]+" |",a+=1):n+="  |",i+=" --- |",e-=1;return n+"\n"+i+"\n"}(t,i),r+=function(e,t,n){for(var i="",a=e,o=0;o<t;o+=1){i+="|";for(var r=0;r<e;r+=1)n?(i+=" "+n[a]+" |",a+=1):i+="  |";i+="\n"}return i=i.replace(/\n$/g,"")}(t,n-1,i),o.replaceSelection(r),i||a.setCursor(a.getCursor().line-n,2),e.focus()}});t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(2);var o=((i=a)&&i.__esModule?i:{default:i}).default.command("markdown",{name:"Task",keyMap:["ALT+T","ALT+T"],exec:function(e){var t=e.getCurrentRange();e.componentManager.getManager("list").changeSyntax(t,"task")}});t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(2),o=(i=a)&&i.__esModule?i:{default:i};var r=/^`([^`]+)`$/,l=/`([^`]+)`/g,s=o.default.command("markdown",{name:"Code",keyMap:["SHIFT+CTRL+C","SHIFT+META+C"],exec:function(e){var t=e.getEditor(),n=t.getDoc(),i=n.getSelection(),a=t.getCursor(),o=this.hasStrikeSyntax(i),r=void 0;o?(r=this.remove(i),r=this._removeCodeSyntax(r)):(r=this._removeCodeSyntax(i),r=this.append(r)),n.replaceSelection(r,"around"),i||o||this.setCursorToCenter(n,a,o),t.focus()},setCursorToCenter:function(e,t,n){var i=n?-1:1;e.setCursor(t.line,t.ch+i)},hasStrikeSyntax:function(e){return r.test(e)},append:function(e){return"`"+e+"`"},remove:function(e){return e.substr(1,e.length-2)},_removeCodeSyntax:function(e){return e?e.replace(l,"$1"):""}});t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(2);var o=((i=a)&&i.__esModule?i:{default:i}).default.command("markdown",{name:"CodeBlock",keyMap:["SHIFT+CTRL+P","SHIFT+META+P"],exec:function(e){var t=e.getEditor(),n=t.getDoc(),i=e.getCurrentRange(),a=["```",n.getSelection(),"```"],o=1;0!==i.from.ch&&(a.unshift(""),o+=1),i.to.ch!==n.getLine(i.to.line).length&&a.push(""),n.replaceSelection(a.join("\n")),t.setCursor(i.from.line+o,0),t.focus()}});t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(2)),a=o(n(4));function o(e){return e&&e.__esModule?e:{default:e}}var r=i.default.command("wysiwyg",{name:"Bold",keyMap:["CTRL+B","META+B"],exec:function(e){var t=e.getEditor(),n=e.componentManager.getManager("tableSelection");if(e.focus(),t.hasFormat("table")&&n.getSelectedCells().length){n.styleToSelectedCells(l);var i=t.getSelection();i.collapse(!0),t.setSelection(i)}else l(t),a.default.optimizeRange(t.getSelection(),"B")}});function l(e){e.hasFormat("b")||e.hasFormat("strong")?e.changeFormat(null,{tag:"b"}):e.hasFormat("PRE")||(e.hasFormat("code")&&e.changeFormat(null,{tag:"code"}),e.bold())}t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(2)),a=o(n(4));function o(e){return e&&e.__esModule?e:{default:e}}var r=i.default.command("wysiwyg",{name:"Italic",keyMap:["CTRL+I","META+I"],exec:function(e){var t=e.getEditor(),n=e.componentManager.getManager("tableSelection");if(e.focus(),t.hasFormat("table")&&n.getSelectedCells().length){n.styleToSelectedCells(l);var i=t.getSelection();i.collapse(!0),t.setSelection(i)}else l(t),a.default.optimizeRange(t.getSelection(),"I")}});function l(e){e.hasFormat("i")||e.hasFormat("em")?e.changeFormat(null,{tag:"i"}):e.hasFormat("PRE")||(e.hasFormat("code")&&e.changeFormat(null,{tag:"code"}),e.italic())}t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(2)),a=o(n(4));function o(e){return e&&e.__esModule?e:{default:e}}var r=i.default.command("wysiwyg",{name:"Strike",keyMap:["CTRL+S","META+S"],exec:function(e){var t=e.getEditor(),n=e.componentManager.getManager("tableSelection");if(e.focus(),t.hasFormat("table")&&n.getSelectedCells().length){n.styleToSelectedCells(l);var i=t.getSelection();i.collapse(!0),t.setSelection(i)}else l(t),a.default.optimizeRange(t.getSelection(),"S")}});function l(e){e.hasFormat("S")?e.changeFormat(null,{tag:"S"}):e.hasFormat("PRE")||(e.hasFormat("code")&&e.changeFormat(null,{tag:"code"}),e.strikethrough())}t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(2);var o=((i=a)&&i.__esModule?i:{default:i}).default.command("wysiwyg",{name:"Blockquote",keyMap:["ALT+Q","ALT+Q"],exec:function(e){var t=e.getEditor();e.focus(),t.hasFormat("TABLE")||t.hasFormat("PRE")||(t.hasFormat("BLOCKQUOTE")?t.decreaseQuoteLevel():t.increaseQuoteLevel())}});t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(2)),a=o(n(10));function o(e){return e&&e.__esModule?e:{default:e}}var r=a.default.decodeURIGraceful,l=a.default.encodeMarkdownCharacters,s=i.default.command("wysiwyg",{name:"AddImage",exec:function(e,t){var n=e.getEditor(),i=t.altText,a=t.imageUrl;i=r(i),a=l(a),e.focus(),n.hasFormat("PRE")||n.insertImage(a,{alt:i})}});t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=l(n(0)),a=l(n(1)),o=l(n(2)),r=l(n(10));function l(e){return e&&e.__esModule?e:{default:e}}var s=r.default.decodeURIGraceful,u=r.default.encodeMarkdownCharacters,c=o.default.command("wysiwyg",{name:"AddLink",exec:function(e,t){var n=e.getEditor(),o=e.getLinkAttribute(),r=t.url,l=t.linkText;if(l=s(l),r=u(r),e.focus(),!n.hasFormat("PRE"))if(n.removeAllFormatting(),n.getSelectedText())n.makeLink(r,o);else{var c=n.createElement("A",a.default.extend({href:r},o));(0,i.default)(c).text(l),n.insertElement(c)}}});t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(2)),a=o(n(4));function o(e){return e&&e.__esModule?e:{default:e}}var r=i.default.command("wysiwyg",{name:"HR",keyMap:["CTRL+L","META+L"],exec:function(e){var t=e.getEditor(),n=t.getSelection();if(n.collapsed&&!t.hasFormat("TABLE")&&!t.hasFormat("PRE")){var i=document.createElement("hr"),o=a.default.getChildNodeByOffset(n.startContainer,n.startOffset),r=a.default.getTopNextNodeUnder(o,e.get$Body()[0]);if(r&&!a.default.isTextNode(r))for(;r&&"false"===r.getAttribute("contenteditable");)r=r.nextSibling;r||(r=a.default.createEmptyLine(),e.get$Body().append(r)),t.modifyBlocks((function(e){return e.appendChild(i),e}));var l=i.previousSibling;l&&a.default.isTextNode(l)&&0===a.default.getTextLength(l)&&i.parentNode.removeChild(l),i.parentNode.replaceChild(a.default.createHorizontalRule(),i),n.selectNodeContents(r),n.collapse(!0),t.setSelection(n),t.saveUndoState(n)}e.focus()}});t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0));function a(e){return e&&e.__esModule?e:{default:e}}var o=a(n(2)).default.command("wysiwyg",{name:"Heading",exec:function(e,t){var n=e.getEditor();e.focus(),n.hasFormat("TABLE")||n.hasFormat("PRE")||n.modifyBlocks((function(e){return(0,i.default)(e).children("h1, h2, h3, h4, h5, h6, div").each((function(e,n){var a="<H"+t+" />",o=(0,i.default)(n);if(o.is("DIV"))o.wrap(a);else{var r=(0,i.default)(a);r.insertBefore(n),r.html(o.html()),o.remove()}})),e}))}});t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0));function a(e){return e&&e.__esModule?e:{default:e}}var o=a(n(2)).default.command("wysiwyg",{name:"Paragraph",exec:function(e){var t=e.getEditor();e.focus(),t.hasFormat("TABLE")||t.hasFormat("PRE")||t.modifyBlocks((function(e){var t=(0,i.default)(document.createDocumentFragment());return(0,i.default)(e).children().each((function(e,n){n.nodeName.match(/h\d/i)?t.append((0,i.default)(n).children()):n.nodeName.match(/ul|ol/i)?(0,i.default)(n).find("li").each((function(e,n){t.append((0,i.default)(n).children())})):t.append(n)})),t[0]}))}});t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(2);var o=((i=a)&&i.__esModule?i:{default:i}).default.command("wysiwyg",{name:"UL",keyMap:["CTRL+U","META+U"],exec:function(e){var t=e.getEditor(),n=t.getSelection(),i=e.componentManager.getManager("list"),a=n.startContainer,o=n.endContainer,r=n.startOffset,l=n.endOffset,s=[];if(e.focus(),t.saveUndoState(n),i.isAvailableMakeListInTable())s=i.createListInTable(n,"UL");else for(var u=i.getLinesOfSelection(a,o),c=0;c<u.length;c+=1){var d=this._changeFormatToUnorderedListIfNeed(e,u[c]);d&&s.push(d)}s.length&&i.adjustRange(a,o,r,l,s)},_changeFormatToUnorderedListIfNeed:function(e,t){var n=e.getEditor(),i=n.getSelection(),a=e.componentManager.getManager("task"),o=void 0;return n.hasFormat("PRE")||(i.setStart(t,0),i.collapse(!0),n.setSelection(i),n.hasFormat("LI")?(e.saveSelection(i),a.unformatTask(i.startContainer),n.replaceParent(i.startContainer,"ol","ul"),e.restoreSavedSelection()):(e.unwrapBlockTag(),n.makeUnorderedList()),o=n.getSelection().startContainer),o}});t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(2);var o=((i=a)&&i.__esModule?i:{default:i}).default.command("wysiwyg",{name:"OL",keyMap:["CTRL+O","META+O"],exec:function(e){var t=e.getEditor(),n=t.getSelection(),i=e.componentManager.getManager("list"),a=n.startContainer,o=n.startOffset,r=n.endContainer,l=n.endOffset,s=[];if(e.focus(),t.saveUndoState(n),i.isAvailableMakeListInTable())s=i.createListInTable(n,"OL");else for(var u=i.getLinesOfSelection(a,r),c=0;c<u.length;c+=1){var d=this._changeFormatToOrderedListIfNeed(e,u[c]);d&&s.push(d)}s.length&&i.adjustRange(a,r,o,l,s)},_changeFormatToOrderedListIfNeed:function(e,t){var n=e.getEditor(),i=n.getSelection(),a=e.componentManager.getManager("task"),o=void 0;return n.hasFormat("PRE")||(i.setStart(t,0),i.collapse(!0),n.setSelection(i),n.hasFormat("LI")?(e.saveSelection(i),a.unformatTask(i.startContainer),n.replaceParent(i.startContainer,"ul","ol"),e.restoreSavedSelection()):(e.unwrapBlockTag(),n.makeOrderedList()),o=n.getSelection().startContainer),o}});t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(2);var o=((i=a)&&i.__esModule?i:{default:i}).default.command("wysiwyg",{name:"Table",exec:function(e,t,n,i){var a=e.getEditor(),o=e.componentManager.getManager("table").getTableIDClassName(),r=void 0;!a.getSelection().collapsed||a.hasFormat("TABLE")||a.hasFormat("PRE")?e.focus():(r='<table class="'+o+'">',r+=function(e,t){var n="<thead><tr>",i=0;for(;e;)n+="<th>",t&&(n+=t[i],i+=1),n+="</th>",e-=1;return n+="</tr></thead>"}(t,i),r+=function(e,t,n){for(var i="<tbody>",a=e,o=0;o<t;o+=1){i+="<tr>";for(var r=0;r<e;r+=1)i+="<td>",n&&(i+=n[a],a+=1),i+="</td>";i+="</tr>"}return i+="</tbody>"}(t,n-1,i),r+="</table>",a.insertHTML(r),e.focus(),i||function(e,t){var n=e.getSelection();n.selectNodeContents(t.find("th")[0]),n.collapse(!0),e.setSelection(n)}(a,e.get$Body().find("."+o)))}});t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(0)),a=o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}var r=o(n(2)).default.command("wysiwyg",{name:"AddRow",exec:function(e){var t=e.getEditor(),n=t.getSelection().cloneRange(),a=function(e){var t=e.componentManager.getManager("tableSelection"),n=t.getSelectedCells(),i=1;if(n.length>1){var a=n.first().get(0),o=n.last().get(0),r=t.getSelectionRangeFromTable(a,o);i=r.to.row-r.from.row+1}return i}(e),o=void 0,r=void 0;if(e.focus(),t.hasFormat("TD")){t.saveUndoState(n),o=(0,i.default)(n.startContainer).closest("tr");for(var u=0;u<a;u+=1)(r=l(o)).insertAfter(o);s(t,r)}else if(t.hasFormat("TH")){t.saveUndoState(n),o=(0,i.default)(n.startContainer).parents("thead").next("tbody").children("tr").eq(0);for(var c=0;c<a;c+=1)(r=l(o)).insertBefore(o);s(t,r)}}});function l(e){var t=e.clone(),n=a.default.browser.msie?"":"<br />";return t.find("td").html(n),t}function s(e,t){var n=e.getSelection();n.selectNodeContents(t.find("td")[0]),n.collapse(!0),e.setSelection(n)}t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=l(n(0)),a=l(n(1)),o=l(n(2)),r=l(n(4));function l(e){return e&&e.__esModule?e:{default:e}}var s=o.default.command("wysiwyg",{name:"AddCol",exec:function(e){var t=e.getEditor(),n=t.getSelection().cloneRange(),o=function(e){var t=e.componentManager.getManager("tableSelection").getSelectedCells(),n=1;if(t.length>0){var i=t.get(0).parentNode.querySelectorAll("td, th").length;n=Math.min(i,t.length)}return n}(e),l=void 0;e.focus(),t.hasFormat("TR")&&(t.saveUndoState(n),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=e.index(),o=void 0;e.parents("table").find("tr").each((function(e,l){for(var s="TBODY"===r.default.getNodeName(l.parentNode),u=a.default.browser.msie,c=l.children[n],d=0;d<t;d+=1)o=s?document.createElement("td"):document.createElement("th"),u||o.appendChild(document.createElement("br")),(0,i.default)(o).insertAfter(c)}))}(l=function(e){var t=e.startContainer;t="TD"===r.default.getNodeName(t)||"TH"===r.default.getNodeName(t)?(0,i.default)(t):(0,i.default)(t).parentsUntil("tr");return t}(n),o),function(e,t){var n=e.getSelection();n.selectNodeContents(t.next()[0]),n.collapse(!0),e.setSelection(n)}(t,l))}});t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0));function a(e){return e&&e.__esModule?e:{default:e}}var o=a(n(2)).default.command("wysiwyg",{name:"RemoveRow",exec:function(e){var t=e.getEditor(),n=t.getSelection().cloneRange(),a=(0,i.default)(n.startContainer).parents("table"),o=e.componentManager.getManager("tableSelection"),l=e.componentManager.getManager("table"),s=function(e,t,n){var a=t.getSelectedCells(),o=void 0,l=void 0;if(a.length)o=t.getSelectionRangeFromTable(a.first().get(0),a.last().get(0)),l=r(a.first()[0],o,n);else{var s=(0,i.default)(e.startContainer).closest("td,th").get(0);o=t.getSelectionRangeFromTable(s,s),l=r(s,o,n)}return l}(n,o,a),u=a.find("tbody tr").length;if(e.focus(),(t.hasFormat("TD")||t.hasFormat("TABLE"))&&u>1){t.saveUndoState(n);var c=s.last().next()[0]?s.last().next():s.first().prev();c.length&&function(e,t,n,i){var a=n.find("td").get(0);t.setStart(a,0),t.collapse(!0),i.setLastCellNode(a),e.setSelection(t)}(t,n,c,l),s.remove()}o.removeClassAttrbuteFromAllCellsIfNeed()}});function r(e,t,n){var a=n.find("tbody tr").length,o=(0,i.default)(e).parents("thead").length,r=t.from.row,l=t.to.row;return o&&(r+=1),(1===r||o)&&l===a&&(l-=1),n.find("tr").slice(r,l+1)}t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),a=r(n(2)),o=r(n(4));function r(e){return e&&e.__esModule?e:{default:e}}var l=a.default.command("wysiwyg",{name:"RemoveCol",exec:function(e){var t=e.getEditor(),n=t.getSelection().cloneRange(),a=(0,i.default)(n.startContainer).parents("table"),r=e.componentManager.getManager("table"),l=e.componentManager.getManager("tableSelection"),u=(0,i.default)(n.startContainer).closest("table").find("thead tr th").length>1;if(e.focus(),n.collapse(!0),t.setSelection(n),t.hasFormat("TR",null,n)&&u){var c=a.find("tbody tr:first td").length,d=l.getSelectedCells();if(d.length<c){t.saveUndoState(n);var f=void 0;if(d.length>1){var h=d.last(),g=d.first();f=h.next().length?h.next():g.prev(),function(e){for(var t=e.length,n=0;n<t;n+=1){e.eq(n).length>0&&s(e.eq(n))}}(d)}else{var v=function(e){var t=e.startContainer;t="TD"===o.default.getNodeName(t)||"TH"===o.default.getNodeName(t)?(0,i.default)(t):(0,i.default)(t).parentsUntil("tr");return t}(n);f=v.next().length?v.next():v.prev(),s(v)}!function(e,t,n){var a=t.get(0);if(t.length&&i.default.contains(document,t)){var o=e.getSelection();o.selectNodeContents(t[0]),o.collapse(!0),e.setSelection(o),n.setLastCellNode(a)}}(t,f,r)}}}});function s(e){var t=e.index();e.parents("table").find("tr").each((function(e,n){(0,i.default)(n).children().eq(t).remove()}))}t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),a=r(n(2)),o=r(n(4));function r(e){return e&&e.__esModule?e:{default:e}}var l=a.default.command("wysiwyg",{name:"AlignCol",exec:function(e,t){var n=e.getEditor(),a=n.getSelection().cloneRange(),r=e.componentManager.getManager("tableSelection"),l=function(e,t){var n=t.getSelectedCells(),a=void 0,r=void 0;if(n.length)a=t.getSelectionRangeFromTable(n.first().get(0),n.last().get(0));else{var l=e.startContainer;r=o.default.isTextNode(l)?(0,i.default)(l).parent("td,th")[0]:l,a=t.getSelectionRangeFromTable(r,r)}return a}(a,r);if(e.focus(),n.hasFormat("TR")){n.saveUndoState(a);var s=(0,i.default)(a.startContainer).parents("table"),u=function(e,t){var n=e.find("tr").eq(0).find("td,th").length,i=t.from,a=t.to,o=void 0,r=void 0,l=void 0;i.row===a.row?(o=i.cell,r=a.cell):i.row<a.row&&(i.cell<=a.cell?(o=0,r=n-1):(o=i.cell,r=a.cell,l=!0));return{startColumnIndex:o,endColumnIndex:r,isDivided:l}}(s,l);!function(e,t,n){var a=n.isDivided||!1,o=n.startColumnIndex,r=n.endColumnIndex,l=e.find("tr").eq(0).find("td,th").length;e.find("tr").each((function(e,n){(0,i.default)(n).children("td,th").each((function(e,n){a&&(o<=e&&e<=l||e<=r)?(0,i.default)(n).attr("align",t):o<=e&&e<=r&&(0,i.default)(n).attr("align",t)}))}))}(s,t,u)}r.removeClassAttrbuteFromAllCellsIfNeed()}});t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0));function a(e){return e&&e.__esModule?e:{default:e}}var o=a(n(2)).default.command("wysiwyg",{name:"RemoveTable",exec:function(e){var t=e.getEditor(),n=t.getSelection().cloneRange();t.hasFormat("TABLE")&&(t.saveUndoState(n),(0,i.default)(n.startContainer).closest("table").remove());e.focus()}});t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0));function a(e){return e&&e.__esModule?e:{default:e}}var o=a(n(2)).default.command("wysiwyg",{name:"Indent",exec:function(e){var t=e.componentManager.getManager("list"),n=e.getEditor().getSelection(),a=(0,i.default)(n.startContainer).closest("li"),o=void 0,r=void 0,l=void 0,s=a.prev();if(s.length&&a.length){var u=a.find("li").eq(0);e.getEditor().saveUndoState(),r=a.attr("class"),o=s.attr("class"),l=u.attr("class"),a.removeAttr("class"),s.removeAttr("class"),u.length&&!u.children("div").length&&u.removeAttr("class"),e.getEditor().increaseListLevel(),t.mergeList(a.get(0)),a.attr("class",r),s.attr("class",o),u.attr("class",l)}}});t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0));function a(e){return e&&e.__esModule?e:{default:e}}var o=a(n(2)).default.command("wysiwyg",{name:"Outdent",exec:function(e){var t=r(e);if(t.length&&!t.next().is("OL,UL")){e.getEditor().saveUndoState();var n=t.attr("class");e.getEditor().decreaseListLevel(),(t=r(e)).attr("class",n)}}});function r(e){var t=e.getEditor().getSelection();return(0,i.default)(t.startContainer).closest("li")}t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0));function a(e){return e&&e.__esModule?e:{default:e}}var o=a(n(2)).default.command("wysiwyg",{name:"Task",keyMap:["ALT+T","ALT+T"],exec:function(e){var t=e.getEditor(),n=t.getSelection(),i=e.componentManager.getManager("list"),a=n.startContainer,o=n.endContainer,r=n.startOffset,l=n.endOffset,s=[];if(e.focus(),t.saveUndoState(n),i.isAvailableMakeListInTable())s=i.createListInTable(n,"TASK");else for(var u=i.getLinesOfSelection(a,o),c=0;c<u.length;c+=1){var d=this._changeFormatToTaskIfNeed(e,u[c]);d&&s.push(d)}s.length&&i.adjustRange(a,o,r,l,s)},_changeFormatToTaskIfNeed:function(e,t){var n=e.getEditor(),a=n.getSelection(),o=e.componentManager.getManager("task"),r=void 0;return n.hasFormat("PRE")||(a.setStart(t,0),a.collapse(!0),n.setSelection(a),n.hasFormat("li")||(n.makeUnorderedList(),t=n.getSelection().startContainer),(0,i.default)(t).hasClass("task-list-item")?o.unformatTask(t):o.formatTask(t),r=n.getSelection().startContainer),r}});t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=l(n(0)),a=l(n(1)),o=l(n(2)),r=l(n(4));function l(e){return e&&e.__esModule?e:{default:e}}var s=o.default.command("wysiwyg",{name:"Code",keyMap:["SHIFT+CTRL+C","SHIFT+META+C"],exec:function(e){var t=e.getEditor(),n=e.componentManager.getManager("tableSelection"),i=a.default.bind(u,null,e.getEditor());if(e.focus(),t.hasFormat("table")&&n.getSelectedCells().length){n.styleToSelectedCells(i);var o=t.getSelection();o.collapse(!0),t.setSelection(o)}else i(t)}});function u(e,t){if(!t.hasFormat("PRE")&&t.hasFormat("code"))t.changeFormat(null,{tag:"code"}),function(e){"CODE"===r.default.getNodeName(e.startContainer.nextSibling)&&0===r.default.getTextLength(e.startContainer.nextSibling)&&(0,i.default)(e.startContainer.nextSibling).remove()}(e.getSelection().cloneRange());else if(!t.hasFormat("a")&&!t.hasFormat("PRE")){t.hasFormat("b")?t.removeBold():t.hasFormat("i")&&t.removeItalic(),t.changeFormat({tag:"code"});var n=t.getSelection().cloneRange();n.setStart(n.endContainer,n.endOffset),n.collapse(!0),t.setSelection(n)}}t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),a=r(n(1)),o=r(n(2));function r(e){return e&&e.__esModule?e:{default:e}}var l="te-content-codeblock-temp",s=o.default.command("wysiwyg",{name:"CodeBlock",keyMap:["SHIFT+CTRL+P","SHIFT+META+P"],exec:function(e,t){var n=e.getEditor(),o=n.getSelection().cloneRange();if(!n.hasFormat("PRE")&&!n.hasFormat("TABLE")){var r='data-te-codeblock class = "'+l+'"';t&&(r+=' data-language="'+t+'"');var s=function(e,t){var n=t.componentManager.getManager("codeblock"),o=void 0;if(e.collapsed)o="<br>";else{var r=e.extractContents(),l=a.default.toArray(r.childNodes),s=(0,i.default)("<div>").append(n.prepareToPasteOnCodeblock(l));o=s.html()}return o}(o,e);n.insertHTML("<pre "+r+">"+s+"</pre>"),function(e,t){var n=t.getEditor().getSelection().cloneRange();e.removeClass(l),n.setStartBefore(e.get(0).firstChild),n.collapse(!0),t.getEditor().setSelection(n)}(e.get$Body().find("."+l),e)}e.focus()}});t.default=s},function(e,t,n){"use strict";var i,a=n(3);((i=a)&&i.__esModule?i:{default:i}).default.setLanguage(["en","en_US"],{Markdown:"Markdown",WYSIWYG:"WYSIWYG",Write:"Write",Preview:"Preview",Headings:"Headings",Paragraph:"Paragraph",Bold:"Bold",Italic:"Italic",Strike:"Strike",Code:"Inline code",Line:"Line",Blockquote:"Blockquote","Unordered list":"Unordered list","Ordered list":"Ordered list",Task:"Task",Indent:"Indent",Outdent:"Outdent","Insert link":"Insert link","Insert CodeBlock":"Insert codeBlock","Insert table":"Insert table","Insert image":"Insert image",Heading:"Heading","Image URL":"Image URL","Select image file":"Select image file",Description:"Description",OK:"OK",More:"More",Cancel:"Cancel",File:"File",URL:"URL","Link text":"Link text","Add row":"Add row","Add col":"Add col","Remove row":"Remove row","Remove col":"Remove col","Align left":"Align left","Align center":"Align center","Align right":"Align right","Remove table":"Remove table","Would you like to paste as table?":"Would you like to paste as table?","Text color":"Text color","Auto scroll enabled":"Auto scroll enabled","Auto scroll disabled":"Auto scroll disabled","Choose language":"Choose language"})},function(e,t,n){"use strict";var i,a=n(3);((i=a)&&i.__esModule?i:{default:i}).default.setLanguage(["ko","ko_KR"],{Markdown:"마크다운",WYSIWYG:"위지윅",Write:"편집하기",Preview:"미리보기",Headings:"제목크기",Paragraph:"본문",Bold:"굵게",Italic:"기울임꼴",Strike:"취소선",Code:"인라인 코드",Line:"문단나눔",Blockquote:"인용구","Unordered list":"글머리 기호","Ordered list":"번호 매기기",Task:"체크박스",Indent:"들여쓰기",Outdent:"내어쓰기","Insert link":"링크 삽입","Insert CodeBlock":"코드블럭 삽입","Insert table":"표 삽입","Insert image":"이미지 삽입",Heading:"제목","Image URL":"이미지 주소","Select image file":"이미지 파일을 선택하세요.",Description:"설명",OK:"확인",More:"더 보기",Cancel:"취소",File:"파일",URL:"주소","Link text":"링크 텍스트","Add row":"행 추가","Add col":"열 추가","Remove row":"행 삭제","Remove col":"열 삭제","Align left":"왼쪽 정렬","Align center":"가운데 정렬","Align right":"오른쪽 정렬","Remove table":"표 삭제","Would you like to paste as table?":"표형태로 붙여 넣겠습니까?","Text color":"글자 색상","Auto scroll enabled":"자동 스크롤 켜짐","Auto scroll disabled":"자동 스크롤 꺼짐","Choose language":"언어 선택"})},function(e,t,n){"use strict";var i,a=n(3);((i=a)&&i.__esModule?i:{default:i}).default.setLanguage(["zh","zh_CN"],{Markdown:"Markdown",WYSIWYG:"所见即所得",Write:"编辑",Preview:"预览",Headings:"标题",Paragraph:"文本",Bold:"加粗",Italic:"斜体字",Strike:"删除线",Code:"内嵌代码",Line:"水平线",Blockquote:"引用块","Unordered list":"无序列表","Ordered list":"有序列表",Task:"任务",Indent:"缩进",Outdent:"减少缩进","Insert link":"插入链接","Insert CodeBlock":"插入代码块","Insert table":"插入表格","Insert image":"插入图片",Heading:"标题","Image URL":"图片网址","Select image file":"选择图片文件",Description:"说明",OK:"确认",More:"更多",Cancel:"取消",File:"文件",URL:"URL","Link text":"链接文本","Add row":"添加行","Add col":"添加列","Remove row":"删除行","Remove col":"删除列","Align left":"左对齐","Align center":"居中对齐","Align right":"右对齐","Remove table":"删除表格","Would you like to paste as table?":"需要粘贴为表格吗?","Text color":"文字颜色","Auto scroll enabled":"自动滚动已启用","Auto scroll disabled":"自动滚动已禁用","Choose language":"选择语言"})},function(e,t,n){"use strict";var i,a=n(3);((i=a)&&i.__esModule?i:{default:i}).default.setLanguage(["ja","ja_JP"],{Markdown:"マークダウン",WYSIWYG:"WYSIWYG",Write:"編集する",Preview:"プレビュー",Headings:"見出し",Paragraph:"本文",Bold:"太字",Italic:"イタリック",Strike:"ストライク",Code:"インラインコード",Line:"ライン",Blockquote:"引用","Unordered list":"番号なしリスト","Ordered list":"順序付きリスト",Task:"タスク",Indent:"インデント",Outdent:"アウトデント","Insert link":"リンク挿入","Insert CodeBlock":"コードブロック挿入","Insert table":"テーブル挿入","Insert image":"画像挿入",Heading:"見出し","Image URL":"イメージURL","Select image file":"画像ファイル選択",Description:"ディスクリプション ",OK:"はい",More:"もっと",Cancel:"キャンセル",File:"ファイル",URL:"URL","Link text":"リンクテキスト","Add row":"行追加","Add col":"列追加","Remove row":"行削除","Remove col":"列削除","Align left":"左揃え","Align center":"中央揃え","Align right":"右揃え","Remove table":"テーブル削除","Would you like to paste as table?":"テーブルを貼り付けますか?","Text color":"文字色相","Auto scroll enabled":"自動スクロールが有効","Auto scroll disabled":"自動スクロールを無効に","Choose language":"言語選択"})},function(e,t,n){"use strict";var i,a=n(3);((i=a)&&i.__esModule?i:{default:i}).default.setLanguage(["nl","nl_NL"],{Markdown:"Markdown",WYSIWYG:"WYSIWYG",Write:"Opslaan",Preview:"Voorbeeld",Headings:"Koppen",Paragraph:"Alinea",Bold:"Vet",Italic:"Cursief",Strike:"Doorhalen",Code:"Inline code",Line:"Regel",Blockquote:"Citaatblok","Unordered list":"Opsomming","Ordered list":"Genummerde opsomming",Task:"Taak",Indent:"Niveau verhogen",Outdent:"Niveau verlagen","Insert link":"Link invoegen","Insert CodeBlock":"Codeblok toevoegen","Insert table":"Tabel invoegen","Insert image":"Afbeelding invoegen",Heading:"Kop","Image URL":"Afbeelding URL","Select image file":"Selecteer een afbeelding",Description:"Omschrijving",OK:"OK",More:"Meer",Cancel:"Annuleren",File:"Bestand",URL:"URL","Link text":"Link tekst","Add row":"Rij toevoegen","Add col":"Kolom toevoegen","Remove row":"Rij verwijderen","Remove col":"Kolom verwijderen","Align left":"Links uitlijnen","Align center":"Centreren","Align right":"Rechts uitlijnen","Remove table":"Verwijder tabel","Would you like to paste as table?":"Wil je dit als tabel plakken?","Text color":"Tekstkleur","Auto scroll enabled":"Autoscroll ingeschakeld","Auto scroll disabled":"Autoscroll uitgeschakeld","Choose language":"Kies een taal"})},function(e,t,n){"use strict";var i,a=n(3);((i=a)&&i.__esModule?i:{default:i}).default.setLanguage(["es","es_ES"],{Markdown:"Markdown",WYSIWYG:"WYSIWYG",Write:"Escribir",Preview:"Vista previa",Headings:"Encabezados",Paragraph:"Párrafo",Bold:"Negrita",Italic:"Itálica",Strike:"Tachado",Code:"Código",Line:"Línea",Blockquote:"Cita","Unordered list":"Lista desordenada","Ordered list":"Lista ordenada",Task:"Tarea",Indent:"Sangría",Outdent:"Saliendo","Insert link":"Insertar enlace","Insert CodeBlock":"Insertar bloque de código","Insert table":"Insertar tabla","Insert image":"Insertar imagen",Heading:"Encabezado","Image URL":"URL de la imagen","Select image file":"Seleccionar archivo de imagen",Description:"Descripción",OK:"Aceptar",More:"Más",Cancel:"Cancelar",File:"Archivo",URL:"URL","Link text":"Texto del enlace","Add row":"Agregar fila","Add col":"Agregar columna","Remove row":"Eliminar fila","Remove col":"Eliminar columna","Align left":"Alinear a la izquierda","Align center":"Centrar","Align right":"Alinear a la derecha","Remove table":"Eliminar tabla","Would you like to paste as table?":"¿Desea pegar como tabla?","Text color":"Color del texto","Auto scroll enabled":"Desplazamiento automático habilitado","Auto scroll disabled":"Desplazamiento automático deshabilitado","Choose language":"Elegir idioma"})},function(e,t,n){"use strict";var i,a=n(3);((i=a)&&i.__esModule?i:{default:i}).default.setLanguage(["de","de_DE"],{Markdown:"Markdown",WYSIWYG:"WYSIWYG",Write:"Verfassen",Preview:"Vorschau",Headings:"Überschriften",Paragraph:"Text",Bold:"Fett",Italic:"Kursiv",Strike:"Durchgestrichen",Code:"Code",Line:"Trennlinie",Blockquote:"Blocktext","Unordered list":"Aufzählung","Ordered list":"Nummerierte Aufzählung",Task:"Aufgabe",Indent:"Einrücken",Outdent:"Ausrücken","Insert link":"Link einfügen","Insert CodeBlock":"Codeblock einfügen","Insert table":"Tabelle einfügen","Insert image":"Grafik einfügen",Heading:"Titel","Image URL":"Bild URL","Select image file":"Grafik auswählen",Description:"Beschreibung",OK:"OK",More:"Mehr",Cancel:"Abbrechen",File:"Datei",URL:"URL","Link text":"Anzuzeigender Text","Add row":"Zeile hinzufügen","Add col":"Spalte hinzufügen","Remove row":"Zeile entfernen","Remove col":"Spalte entfernen","Align left":"Links ausrichten","Align center":"Zentrieren","Align right":"Rechts ausrichten","Remove table":"Tabelle entfernen","Would you like to paste as table?":"Möchten Sie eine Tabelle einfügen?","Text color":"Textfarbe","Auto scroll enabled":"Autoscrollen aktiviert","Auto scroll disabled":"Autoscrollen deaktiviert","Choose language":"Sprache auswählen"})},function(e,t,n){"use strict";var i,a=n(3);((i=a)&&i.__esModule?i:{default:i}).default.setLanguage(["ru","ru_RU"],{Markdown:"Markdown",WYSIWYG:"WYSIWYG",Write:"Написать",Preview:"Предварительный просмотр",Headings:"Заголовки",Paragraph:"Абзац",Bold:"Жирный",Italic:"Курсив",Strike:"Зачеркнутый",Code:"Встроенный код",Line:"Строка",Blockquote:"Блок цитирования","Unordered list":"Неупорядоченный список","Ordered list":"Упорядоченный список",Task:"Задача",Indent:"отступ",Outdent:"Выступ","Insert link":"Вставить ссылку","Insert CodeBlock":"Вставить код","Insert table":"Вставить таблицу","Insert image":"Вставить изображение",Heading:"Заголовок","Image URL":"URL изображения","Select image file":"Выбрать файл изображения",Description:"Описание",OK:"Хорошо",More:"еще",Cancel:"Отмена",File:"Файл",URL:"URL","Link text":"Текст ссылки","Add row":"Добавить ряд","Add col":"Добавить столбец","Remove row":"Удалить ряд","Remove col":"Удалить столбец","Align left":"Выровнять по левому краю","Align center":"Выровнять по центру","Align right":"Выровнять по правому краю","Remove table":"Удалить таблицу","Would you like to paste as table?":"Вы хотите вставить в виде таблицы?","Text color":"Цвет текста","Auto scroll enabled":"Автоматическая прокрутка включена","Auto scroll disabled":"Автоматическая прокрутка отключена","Choose language":"Выбрать язык"})},function(e,t,n){"use strict";var i,a=n(3);((i=a)&&i.__esModule?i:{default:i}).default.setLanguage(["fr","fr_FR"],{Markdown:"Markdown",WYSIWYG:"WYSIWYG",Write:"Écrire",Preview:"Aperçu",Headings:"En-têtes",Paragraph:"Paragraphe",Bold:"Gras",Italic:"Italique",Strike:"Barré",Code:"Code en ligne",Line:"Ligne",Blockquote:"Citation","Unordered list":"Liste non-ordonnée","Ordered list":"Liste ordonnée",Task:"Tâche",Indent:"Retrait",Outdent:"Sortir","Insert link":"Insérer un lien","Insert CodeBlock":"Insérer un bloc de code","Insert table":"Insérer un tableau","Insert image":"Insérer une image",Heading:"En-tête","Image URL":"URL de l'image","Select image file":"Sélectionnez un fichier image",Description:"Description",OK:"OK",More:"de plus",Cancel:"Annuler",File:"Fichier",URL:"URL","Link text":"Texte du lien","Add row":"Ajouter une ligne","Add col":"Ajouter une colonne","Remove row":"Supprimer une ligne","Remove col":"Supprimer une colonne","Align left":"Aligner à gauche","Align center":"Aligner au centre","Align right":"Aligner à droite","Remove table":"Supprimer le tableau","Would you like to paste as table?":"Voulez-vous coller ce contenu en tant que tableau ?","Text color":"Couleur du texte","Auto scroll enabled":"Défilement automatique activé","Auto scroll disabled":"Défilement automatique désactivé","Choose language":"Choix de la langue"})},function(e,t,n){"use strict";var i,a=n(3);((i=a)&&i.__esModule?i:{default:i}).default.setLanguage(["uk","uk_UA"],{Markdown:"Markdown",WYSIWYG:"WYSIWYG",Write:"Написати",Preview:"Попередній перегляд",Headings:"Заголовки",Paragraph:"Абзац",Bold:"Жирний",Italic:"Курсив",Strike:"Закреслений",Code:"Вбудований код",Line:"Лінія",Blockquote:"Блок цитування","Unordered list":"Невпорядкований список","Ordered list":"Упорядкований список",Task:"Завдання",Indent:"відступ",Outdent:"застарілий","Insert link":"Вставити посилання","Insert CodeBlock":"Вставити код","Insert table":"Вставити таблицю","Insert image":"Вставити зображення",Heading:"Заголовок","Image URL":"URL зображення","Select image file":"Вибрати файл зображення",Description:"Опис",OK:"OK",More:"ще",Cancel:"Скасувати",File:"Файл",URL:"URL","Link text":"Текст посилання","Add row":"Додати ряд","Add col":"Додати стовпчик","Remove row":"Видалити ряд","Remove col":"Видалити стовпчик","Align left":"Вирівняти по лівому краю","Align center":"Вирівняти по центру","Align right":"Вирівняти по правому краю","Remove table":"Видалити таблицю","Would you like to paste as table?":"Ви хочете вставити у вигляді таблиці?","Text color":"Колір тексту","Auto scroll enabled":"Автоматична прокрутка включена","Auto scroll disabled":"Автоматична прокрутка відключена","Choose language":"Вибрати мову"})},function(e,t,n){"use strict";var i,a=n(3);((i=a)&&i.__esModule?i:{default:i}).default.setLanguage(["tr","tr_TR"],{Markdown:"Markdown",WYSIWYG:"WYSIWYG",Write:"Düzenle",Preview:"Ön izleme",Headings:"Başlıklar",Paragraph:"Paragraf",Bold:"Kalın",Italic:"İtalik",Strike:"Altı çizgili",Code:"Satır içi kod",Line:"Çizgi",Blockquote:"Alıntı","Unordered list":"Sıralanmamış liste","Ordered list":"Sıralı liste",Task:"Görev kutusu",Indent:"Girintiyi arttır",Outdent:"Girintiyi azalt","Insert link":"Bağlantı ekle","Insert CodeBlock":"Kod bloku ekle","Insert table":"Tablo ekle","Insert image":"İmaj ekle",Heading:"Başlık","Image URL":"İmaj URL","Select image file":"İmaj dosyası seç",Description:"Açıklama",OK:"Onay",More:"Daha Fazla",Cancel:"İptal",File:"Dosya",URL:"URL","Link text":"Bağlantı yazısı","Add row":"Satır ekle","Add col":"Sütun ekle","Remove row":"Satır sil","Remove col":"Sütun sil","Align left":"Sola hizala","Align center":"Merkeze hizala","Align right":"Sağa hizala","Remove table":"Tabloyu kaldır","Would you like to paste as table?":"Tablo olarak yapıştırmak ister misiniz?","Text color":"Metin rengi","Auto scroll enabled":"Otomatik kaydırma açık","Auto scroll disabled":"Otomatik kaydırma kapalı","Choose language":"Dil seçiniz"})},function(e,t,n){"use strict";var i,a=n(3);((i=a)&&i.__esModule?i:{default:i}).default.setLanguage(["fi","fi_FI"],{Markdown:"Markdown",WYSIWYG:"WYSIWYG",Write:"Kirjoita",Preview:"Esikatselu",Headings:"Otsikot",Paragraph:"Kappale",Bold:"Lihavointi",Italic:"Kursivointi",Strike:"Yliviivaus",Code:"Koodi",Line:"Vaakaviiva",Blockquote:"Lainaus","Unordered list":"Luettelo","Ordered list":"Numeroitu luettelo",Task:"Tehtävä",Indent:"Suurenna sisennystä",Outdent:"Pienennä sisennystä","Insert link":"Lisää linkki","Insert CodeBlock":"Lisää koodia","Insert table":"Lisää taulukko","Insert image":"Lisää kuva",Heading:"Otsikko","Image URL":"Kuvan URL","Select image file":"Valitse kuvatiedosto",Description:"Kuvaus",OK:"OK",More:"Lisää",Cancel:"Peruuta",File:"Tiedosto",URL:"URL","Link text":"Linkkiteksti","Add row":"Lisää rivi","Add col":"Lisää sarake","Remove row":"Poista rivi","Remove col":"Poista sarake","Align left":"Tasaus vasemmalle","Align center":"Keskitä","Align right":"Tasaus oikealle","Remove table":"Poista taulukko","Would you like to paste as table?":"Haluatko liittää taulukkomuodossa?","Text color":"Tekstin väri","Auto scroll enabled":"Automaattinen skrollaus käytössä","Auto scroll disabled":"Automaattinen skrollaus pois käytöstä","Choose language":"Valitse kieli"})},function(e,t,n){"use strict";var i,a=n(3);((i=a)&&i.__esModule?i:{default:i}).default.setLanguage(["cs","cs_CZ"],{Markdown:"Markdown",WYSIWYG:"WYSIWYG",Write:"Napsat",Preview:"Náhled",Headings:"Nadpisy",Paragraph:"Odstavec",Bold:"Tučné",Italic:"Kurzíva",Strike:"Přeškrtnuté",Code:"Kód",Line:"Vodorovná čára",Blockquote:"Citace","Unordered list":"Seznam s odrážkami","Ordered list":"Číslovaný seznam",Task:"Úkol",Indent:"Zvětšit odsazení",Outdent:"Zmenšit odsazení","Insert link":"Vložit odkaz","Insert CodeBlock":"Vložit blok kódu","Insert table":"Vložit tabulku","Insert image":"Vložit obrázek",Heading:"Nadpis","Image URL":"URL obrázku","Select image file":"Vybrat obrázek",Description:"Popis",OK:"OK",More:"Více",Cancel:"Zrušit",File:"Soubor",URL:"URL","Link text":"Text odkazu","Add row":"Přidat řádek","Add col":"Přidat sloupec","Remove row":"Odebrat řádek","Remove col":"Odebrat sloupec","Align left":"Zarovnat vlevo","Align center":"Zarovnat na střed","Align right":"Zarovnat vpravo","Remove table":"Odstranit tabulku","Would you like to paste as table?":"Chcete vložit jako tabulku?","Text color":"Barva textu","Auto scroll enabled":"Automatické rolování zapnuto","Auto scroll disabled":"Automatické rolování vypnuto","Choose language":"Vybrat jazyk"})},function(e,t,n){"use strict";var i,a=n(3);((i=a)&&i.__esModule?i:{default:i}).default.setLanguage(["ar","ar_AR"],{Markdown:"لغة ترميز",WYSIWYG:"ما تراه هو ما تحصل عليه",Write:"يكتب",Preview:"عرض مسبق",Headings:"العناوين",Paragraph:"فقرة",Bold:"خط عريض",Italic:"خط مائل",Strike:"إضراب",Code:"رمز",Line:"خط",Blockquote:"فقرة مقتبسة","Unordered list":"قائمة غير مرتبة","Ordered list":"قائمة مرتبة",Task:"مهمة",Indent:"المسافة البادئة",Outdent:"المسافة الخارجة","Insert link":"أدخل الرابط","Insert CodeBlock":"أدخل الكود","Insert table":"أدخل جدول","Insert image":"أدخل صورة",Heading:"عنوان","Image URL":"رابط الصورة","Select image file":"حدد ملف الصورة",Description:"وصف",OK:"موافقة",More:"أكثر",Cancel:"إلغاء",File:"ملف",URL:"رابط","Link text":"نص الرابط","Add row":"ضف سطر","Add col":"ضف عمود","Remove row":"حذف سطر","Remove col":"حذف عمود","Align left":"محاذاة اليسار","Align center":"محاذاة الوسط","Align right":"محاذاة اليمين","Remove table":"حذف الجدول","Would you like to paste as table?":"هل تريد اللصق كجدول","Text color":"لون النص","Auto scroll enabled":"التحريك التلقائي ممكّن","Auto scroll disabled":"التحريك التلقائي معطّل","Choose language":"اختر اللغة"})},function(e,t,n){"use strict";var i,a=n(3);((i=a)&&i.__esModule?i:{default:i}).default.setLanguage(["pl","pl_PL"],{Markdown:"Markdown",WYSIWYG:"WYSIWYG",Write:"Napisz",Preview:"Podgląd",Headings:"Nagłówki",Paragraph:"Akapit",Bold:"Pogrubienie",Italic:"Kursywa",Strike:"Przekreślenie",Code:"Fragment kodu",Line:"Linia",Blockquote:"Cytat","Unordered list":"Lista nieuporządkowana","Ordered list":"Lista uporządkowana",Task:"Zadanie",Indent:"Utwórz wcięcie",Outdent:"Usuń wcięcie","Insert link":"Umieść odnośnik","Insert CodeBlock":"Umieść blok kodu","Insert table":"Umieść tabelę","Insert image":"Umieść obraz",Heading:"Nagłówek","Image URL":"Adres URL obrazu","Select image file":"Wybierz plik obrazu",Description:"Opis",OK:"OK",More:"Więcej",Cancel:"Anuluj",File:"Plik",URL:"URL","Link text":"Tekst odnośnika","Add row":"Dodaj rząd","Add col":"Dodaj kolumnę","Remove row":"Usuń rząd","Remove col":"Usuń kolumnę","Align left":"Wyrównaj do lewej","Align center":"Wyśrodkuj","Align right":"Wyrównaj do prawej","Remove table":"Usuń tabelę","Would you like to paste as table?":"Czy chcesz wkleić tekst jako tabelę?","Text color":"Kolor tekstu","Auto scroll enabled":"Włączono automatyczne przewijanie","Auto scroll disabled":"Wyłączono automatyczne przewijanie","Choose language":"Wybierz język"})},function(e,t,n){"use strict";var i,a=n(3);((i=a)&&i.__esModule?i:{default:i}).default.setLanguage(["zhtw","zh_TW"],{Markdown:"Markdown",WYSIWYG:"所見即所得",Write:"編輯",Preview:"預覽",Headings:"標題",Paragraph:"內文",Bold:"粗體",Italic:"斜體",Strike:"刪除線",Code:"內嵌程式碼",Line:"分隔線",Blockquote:"引言","Unordered list":"項目符號清單","Ordered list":"編號清單",Task:"核取方塊清單",Indent:"增加縮排",Outdent:"減少縮排","Insert link":"插入超連結","Insert CodeBlock":"插入程式碼區塊","Insert table":"插入表格","Insert image":"插入圖片",Heading:"標題","Image URL":"圖片網址","Select image file":"選擇圖片檔案",Description:"描述",OK:"確認",More:"更多",Cancel:"取消",File:"檔案",URL:"URL","Link text":"超連結文字","Add row":"增加行","Add col":"增加列","Remove row":"刪除行","Remove col":"刪除列","Align left":"靠左對齊","Align center":"置中","Align right":"靠右對齊","Remove table":"刪除表格","Would you like to paste as table?":"您要以表格貼上嗎？","Text color":"文字顏色","Auto scroll enabled":"已啟用自動滾動","Auto scroll disabled":"已停用自動滾動","Choose language":"選擇語言"})},function(e,t,n){"use strict";var i,a=n(3);((i=a)&&i.__esModule?i:{default:i}).default.setLanguage(["gl","gl_ES"],{Markdown:"Markdown",WYSIWYG:"WYSIWYG",Write:"Escribir",Preview:"Vista previa",Headings:"Encabezados",Paragraph:"Parágrafo",Bold:"Negriña",Italic:"Cursiva",Strike:"Riscado",Code:"Código",Line:"Liña",Blockquote:"Cita","Unordered list":"Lista desordenada","Ordered list":"Lista ordenada",Task:"Tarefa",Indent:"Sangría",Outdent:"Anular sangría","Insert link":"Inserir enlace","Insert CodeBlock":"Inserir bloque de código","Insert table":"Inserir táboa","Insert image":"Inserir imaxe",Heading:"Encabezado","Image URL":"URL da imaxe","Select image file":"Seleccionar arquivo da imaxe",Description:"Descrición",OK:"Aceptar",More:"Máis",Cancel:"Cancelar",File:"Arquivo",URL:"URL","Link text":"Texto do enlace","Add row":"Agregar fila","Add col":"Agregar columna","Remove row":"Eliminar fila","Remove col":"Eliminar columna","Align left":"Aliñar á esquerda","Align center":"Centrar","Align right":"Aliñar á dereita","Remove table":"Eliminar táboa","Would you like to paste as table?":"Desexa pegar como táboa?","Text color":"Cor do texto","Auto scroll enabled":"Desprazamento automático habilitado","Auto scroll disabled":"Desprazamento automático deshabilitado","Choose language":"Elixir idioma"})},function(e,t,n){"use strict";var i,a=n(3);((i=a)&&i.__esModule?i:{default:i}).default.setLanguage(["sv","sv_SE"],{Markdown:"Markdown",WYSIWYG:"WYSIWYG",Write:"Skriv",Preview:"Förhandsgranska",Headings:"Överskrifter",Paragraph:"Paragraf",Bold:"Fet",Italic:"Kursiv",Strike:"Genomstruken",Code:"Kodrad",Line:"Linje",Blockquote:"Citatblock","Unordered list":"Punktlista","Ordered list":"Numrerad lista",Task:"Att göra",Indent:"Öka indrag",Outdent:"Minska indrag","Insert link":"Infoga länk","Insert CodeBlock":"Infoga kodblock","Insert table":"Infoga tabell","Insert image":"Infoga bild",Heading:"Överskrift","Image URL":"Bildadress","Select image file":"Välj en bildfil",Description:"Beskrivning",OK:"OK",More:"Mer",Cancel:"Avbryt",File:"Fil",URL:"Adress","Link text":"Länktext","Add row":"Infoga rad","Add col":"Infoga kolumn","Remove row":"Radera rad","Remove col":"Radera kolumn","Align left":"Vänsterjustera","Align center":"Centrera","Align right":"Högerjustera","Remove table":"Radera tabell","Would you like to paste as table?":"Vill du klistra in som en tabell?","Text color":"Textfärg","Auto scroll enabled":"Automatisk scroll aktiverad","Auto scroll disabled":"Automatisk scroll inaktiverad","Choose language":"Välj språk"})},function(e,t,n){"use strict";var i,a=n(3);((i=a)&&i.__esModule?i:{default:i}).default.setLanguage(["it","it_IT"],{Markdown:"Markdown",WYSIWYG:"WYSIWYG",Write:"Scrivere",Preview:"Anteprima",Headings:"Intestazioni",Paragraph:"Paragrafo",Bold:"Grassetto",Italic:"Corsivo",Strike:"Barrato",Code:"Codice",Line:"Linea",Blockquote:"Blocco citazione","Unordered list":"Lista puntata","Ordered list":"Lista numerata",Task:"Attività",Indent:"Aggiungi indentazione",Outdent:"Rimuovi indentazione","Insert link":"Inserisci link","Insert CodeBlock":"Inserisci blocco di codice","Insert table":"Inserisci tabella","Insert image":"Inserisci immagine",Heading:"Intestazione","Image URL":"URL immagine","Select image file":"Seleziona file immagine",Description:"Descrizione",OK:"OK",More:"Più",Cancel:"Cancella",File:"File",URL:"URL","Link text":"Testo del collegamento","Add row":"Aggiungi riga","Add col":"Aggiungi colonna","Remove row":"Rimuovi riga","Remove col":"Rimuovi colonna","Align left":"Allinea a sinistra","Align center":"Allinea al centro","Align right":"Allinea a destra","Remove table":"Rimuovi tabella","Would you like to paste as table?":"Desideri incollare sotto forma di tabella?","Text color":"Colore del testo","Auto scroll enabled":"Scrolling automatico abilitato","Auto scroll disabled":"Scrolling automatico disabilitato","Choose language":"Scegli la lingua"})}])}));
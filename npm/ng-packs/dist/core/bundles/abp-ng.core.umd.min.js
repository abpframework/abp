!(function(t, e) {
  'object' == typeof exports && 'undefined' != typeof module
    ? e(
        exports,
        require('@angular/core'),
        require('@angular/router'),
        require('@ngxs/store'),
        require('rxjs'),
        require('snq'),
        require('rxjs/operators'),
        require('@angular/common/http'),
        require('@angular/common'),
        require('just-compare'),
        require('just-clone'),
        require('@angular/forms'),
        require('primeng/table'),
        require('angular-oauth2-oidc'),
        require('@ngxs/router-plugin'),
        require('@ngxs/storage-plugin'),
        require('@ngx-validate/core'),
      )
    : 'function' == typeof define && define.amd
    ? define('@abp/ng.core', [
        'exports',
        '@angular/core',
        '@angular/router',
        '@ngxs/store',
        'rxjs',
        'snq',
        'rxjs/operators',
        '@angular/common/http',
        '@angular/common',
        'just-compare',
        'just-clone',
        '@angular/forms',
        'primeng/table',
        'angular-oauth2-oidc',
        '@ngxs/router-plugin',
        '@ngxs/storage-plugin',
        '@ngx-validate/core',
      ], e)
    : e(
        (((t = t || self).abp = t.abp || {}), (t.abp.ng = t.abp.ng || {}), (t.abp.ng.core = {})),
        t.ng.core,
        t.ng.router,
        t.store,
        t.rxjs,
        t.snq,
        t.rxjs.operators,
        t.ng.common.http,
        t.ng.common,
        t.compare,
        t.clone,
        t.ng.forms,
        t.table,
        t.angularOauth2Oidc,
        t.routerPlugin,
        t.storagePlugin,
        t.core$1,
      );
})(this, function(t, e, n, r, o, i, a, u, c, s, p, l, f, d, h, y, g) {
  'use strict';
  (i = i && i.hasOwnProperty('default') ? i.default : i),
    (s = s && s.hasOwnProperty('default') ? s.default : s),
    (p = p && p.hasOwnProperty('default') ? p.default : p);
  /*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */
  var v = function(t, e) {
    return (v =
      Object.setPrototypeOf ||
      ({ __proto__: [] } instanceof Array &&
        function(t, e) {
          t.__proto__ = e;
        }) ||
      function(t, e) {
        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);
      })(t, e);
  };
  var m = function() {
    return (m =
      Object.assign ||
      function(t) {
        for (var e, n = 1, r = arguments.length; n < r; n++)
          for (var o in (e = arguments[n])) Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o]);
        return t;
      }).apply(this, arguments);
  };
  function b(t, e, n, r) {
    var o,
      i = arguments.length,
      a = i < 3 ? e : null === r ? (r = Object.getOwnPropertyDescriptor(e, n)) : r;
    if ('object' == typeof Reflect && 'function' == typeof Reflect.decorate) a = Reflect.decorate(t, e, n, r);
    else for (var u = t.length - 1; u >= 0; u--) (o = t[u]) && (a = (i < 3 ? o(a) : i > 3 ? o(e, n, a) : o(e, n)) || a);
    return i > 3 && a && Object.defineProperty(e, n, a), a;
  }
  function S(t, e) {
    if ('object' == typeof Reflect && 'function' == typeof Reflect.metadata) return Reflect.metadata(t, e);
  }
  function I(t, e) {
    var n,
      r,
      o,
      i,
      a = {
        label: 0,
        sent: function() {
          if (1 & o[0]) throw o[1];
          return o[1];
        },
        trys: [],
        ops: [],
      };
    return (
      (i = { next: u(0), throw: u(1), return: u(2) }),
      'function' == typeof Symbol &&
        (i[Symbol.iterator] = function() {
          return this;
        }),
      i
    );
    function u(i) {
      return function(u) {
        return (function(i) {
          if (n) throw new TypeError('Generator is already executing.');
          for (; a; )
            try {
              if (
                ((n = 1),
                r &&
                  (o = 2 & i[0] ? r.return : i[0] ? r.throw || ((o = r.return) && o.call(r), 0) : r.next) &&
                  !(o = o.call(r, i[1])).done)
              )
                return o;
              switch (((r = 0), o && (i = [2 & i[0], o.value]), i[0])) {
                case 0:
                case 1:
                  o = i;
                  break;
                case 4:
                  return a.label++, { value: i[1], done: !1 };
                case 5:
                  a.label++, (r = i[1]), (i = [0]);
                  continue;
                case 7:
                  (i = a.ops.pop()), a.trys.pop();
                  continue;
                default:
                  if (!(o = (o = a.trys).length > 0 && o[o.length - 1]) && (6 === i[0] || 2 === i[0])) {
                    a = 0;
                    continue;
                  }
                  if (3 === i[0] && (!o || (i[1] > o[0] && i[1] < o[3]))) {
                    a.label = i[1];
                    break;
                  }
                  if (6 === i[0] && a.label < o[1]) {
                    (a.label = o[1]), (o = i);
                    break;
                  }
                  if (o && a.label < o[2]) {
                    (a.label = o[2]), a.ops.push(i);
                    break;
                  }
                  o[2] && a.ops.pop(), a.trys.pop();
                  continue;
              }
              i = e.call(t, a);
            } catch (t) {
              (i = [6, t]), (r = 0);
            } finally {
              n = o = 0;
            }
          if (5 & i[0]) throw i[1];
          return { value: i[0] ? i[1] : void 0, done: !0 };
        })([i, u]);
      };
    }
  }
  function R(t, e) {
    var n = 'function' == typeof Symbol && t[Symbol.iterator];
    if (!n) return t;
    var r,
      o,
      i = n.call(t),
      a = [];
    try {
      for (; (void 0 === e || e-- > 0) && !(r = i.next()).done; ) a.push(r.value);
    } catch (t) {
      o = { error: t };
    } finally {
      try {
        r && !r.done && (n = i.return) && n.call(i);
      } finally {
        if (o) throw o.error;
      }
    }
    return a;
  }
  function O() {
    for (var t = [], e = 0; e < arguments.length; e++) t = t.concat(R(arguments[e]));
    return t;
  }
  var P = (function() {
    function t(t) {
      (this.injector = t), (this.cdRef = t.get(e.ChangeDetectorRef));
    }
    return (
      Object.defineProperty(t.prototype, 'value', {
        get: function() {
          return this._value;
        },
        set: function(t) {
          (this._value = t), this.notifyValueChange();
        },
        enumerable: !0,
        configurable: !0,
      }),
      (t.prototype.notifyValueChange = function() {
        this.onChange && this.onChange(this.value);
      }),
      (t.prototype.writeValue = function(t) {
        var e = this;
        (this._value = t),
          setTimeout(function() {
            return e.cdRef.detectChanges();
          }, 0);
      }),
      (t.prototype.registerOnChange = function(t) {
        this.onChange = t;
      }),
      (t.prototype.registerOnTouched = function(t) {
        this.onTouched = t;
      }),
      (t.prototype.setDisabledState = function(t) {
        this.disabled = t;
      }),
      (t.decorators = [{ type: e.Component, args: [{ selector: 'abp-abstract-ng-model', template: '' }] }]),
      (t.ctorParameters = function() {
        return [{ type: e.Injector }];
      }),
      (t.propDecorators = { disabled: [{ type: e.Input }], value: [{ type: e.Input }] }),
      t
    );
  })();
  var j = (function() {
    function t(t, e) {
      (this.name = t), (this.newValue = e);
    }
    return (t.type = '[Config] Patch Route By Name'), t;
  })();
  var w = (function() {
    function t() {}
    return (t.type = '[Config] Get App Configuration'), t;
  })();
  var E = (function() {
    function t(t) {
      this.payload = t;
    }
    return (t.type = '[Loader] Start'), t;
  })();
  var A = (function() {
    function t(t) {
      this.payload = t;
    }
    return (t.type = '[Loader] Stop'), t;
  })();
  var C = (function() {
    function t() {}
    return (t.type = '[Profile] Get'), t;
  })();
  var D = (function() {
    function t(t) {
      this.payload = t;
    }
    return (t.type = '[Profile] Update'), t;
  })();
  var L = (function() {
    function t(t) {
      this.payload = t;
    }
    return (t.type = '[Profile] Change Password'), t;
  })();
  var x = (function() {
    function t(t) {
      this.payload = t;
    }
    return (t.type = '[Rest] Error'), t;
  })();
  var k = (function() {
    function t(t) {
      this.payload = t;
    }
    return (t.type = '[Session] Set Language'), t;
  })();
  var T = (function() {
    function t(t) {
      this.payload = t;
    }
    return (t.type = '[Session] Set Tenant'), t;
  })();
  var F = (function() {
    function t(t, e) {
      (this.http = t), (this.store = e);
    }
    return (
      (t.prototype.handleError = function(t) {
        return this.store.dispatch(new x(t)), console.error(t), o.throwError(t);
      }),
      (t.prototype.request = function(t, e, n) {
        var r = this,
          i = (e = e || {}).observe,
          u = void 0 === i ? 'body' : i,
          c = e.skipHandleError,
          s = (n || this.store.selectSnapshot(W.getApiUrl())) + t.url,
          p = t.method,
          l = (function(t, e) {
            var n = {};
            for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && e.indexOf(r) < 0 && (n[r] = t[r]);
            if (null != t && 'function' == typeof Object.getOwnPropertySymbols) {
              var o = 0;
              for (r = Object.getOwnPropertySymbols(t); o < r.length; o++)
                e.indexOf(r[o]) < 0 && Object.prototype.propertyIsEnumerable.call(t, r[o]) && (n[r[o]] = t[r[o]]);
            }
            return n;
          })(t, ['method']);
        return this.http.request(p, s, m({ observe: u }, l)).pipe(
          'body' === u ? a.take(1) : a.tap(),
          a.catchError(function(t) {
            return c ? o.throwError(t) : r.handleError(t);
          }),
        );
      }),
      (t.decorators = [{ type: e.Injectable, args: [{ providedIn: 'root' }] }]),
      (t.ctorParameters = function() {
        return [{ type: u.HttpClient }, { type: r.Store }];
      }),
      (t.ngInjectableDef = e.ɵɵdefineInjectable({
        factory: function() {
          return new t(e.ɵɵinject(u.HttpClient), e.ɵɵinject(r.Store));
        },
        token: t,
        providedIn: 'root',
      })),
      t
    );
  })();
  var N = (function() {
    function t(t) {
      this.rest = t;
    }
    return (
      (t.prototype.getConfiguration = function() {
        return this.rest.request({ method: 'GET', url: '/api/abp/application-configuration' });
      }),
      (t.decorators = [{ type: e.Injectable, args: [{ providedIn: 'root' }] }]),
      (t.ctorParameters = function() {
        return [{ type: F }];
      }),
      (t.ngInjectableDef = e.ɵɵdefineInjectable({
        factory: function() {
          return new t(e.ɵɵinject(F));
        },
        token: t,
        providedIn: 'root',
      })),
      t
    );
  })();
  function _(t, e, n, r) {
    void 0 === e && (e = []), void 0 === n && (n = []), void 0 === r && (r = null);
    var o = function(t) {
      return (
        t.children && t.children.length && (t.children = _(t.children, e, n, t.name)),
        !t.parentName || t.parentName === r || (n.push(t), !1)
      );
    };
    if (r) return t.filter(o);
    var i = t.filter(o);
    return n.length ? V(q(O(i, e), n)) : i;
  }
  function q(t, e) {
    return t.map(function(t) {
      t.children && t.children.length && (t.children = q(t.children, e));
      var n = e.filter(function(e) {
        return e.parentName === t.name;
      });
      return n && n.length && (t.children = O(t.children || [], n)), t;
    });
  }
  function V(t) {
    return (
      void 0 === t && (t = []),
      t.length
        ? t
            .sort(function(t, e) {
              return t.order - e.order;
            })
            .map(function(t) {
              return t.children && t.children.length && (t.children = V(t.children)), t;
            })
        : []
    );
  }
  var z = [];
  function M() {
    return z;
  }
  var B = {
    'ar-sa': 'ar-SA',
    'ca-ES-valencia': 'ca-ES-VALENCIA',
    'de-de': 'de',
    'es-ES': 'es',
    'en-US': 'en',
    'fil-Latn': 'en',
    'ku-Arab': 'en',
    'ky-Cyrl': 'en',
    'mi-Latn': 'en',
    'prs-Arab': 'en',
    'qut-Latn': 'en',
    nso: 'en',
    quz: 'en',
    'fr-FR': 'fr',
    'gd-Latn': 'gd',
    'ha-Latn': 'ha',
    'ig-Latn': 'ig',
    'it-it': 'it',
    'mn-Cyrl': 'mn',
    'pt-BR': 'pt',
    'sd-Arab': 'pa-Arab',
    'sr-Cyrl-RS': 'sr-Cyrl',
    'sr-Latn-RS': 'sr-Latn',
    'tg-Cyrl': 'tg',
    'tk-Latn': 'tk',
    'tt-Cyrl': 'tt',
    'ug-Arab': 'ug',
    'yo-Latn': 'yo',
  };
  function G(t) {
    return function() {
      return t
        .get(r.Store)
        .dispatch(new w())
        .toPromise();
    };
  }
  function U(t) {
    return function() {
      var e =
        t.get(r.Store).selectSnapshot(function(t) {
          return t.SessionState.language;
        }) || 'en';
      return new Promise(function(t, n) {
        H(e).then(function() {
          return t();
        }, n);
      });
    };
  }
  function H(t) {
    return import('@angular/common/locales/' + (B[t] || t) + '.js').then(function(t) {
      c.registerLocaleData(t.default);
    });
  }
  var $ = (function() {
    function t(t, e, n, r) {
      if (((this.store = t), (this.router = e), (this.ngZone = n), r))
        throw new Error('LocaleService should have only one instance.');
    }
    return (
      Object.defineProperty(t.prototype, 'currentLang', {
        get: function() {
          return this.store.selectSnapshot(function(t) {
            return t.SessionState.language;
          });
        },
        enumerable: !0,
        configurable: !0,
      }),
      (t.prototype.setRouteReuse = function(t) {
        this.router.routeReuseStrategy.shouldReuseRoute = t;
      }),
      (t.prototype.registerLocale = function(t) {
        var e = this,
          n = this.router.routeReuseStrategy.shouldReuseRoute;
        return (
          this.setRouteReuse(function() {
            return !1;
          }),
          (this.router.navigated = !1),
          H(t).then(function() {
            e.ngZone.run(function() {
              return (
                (t = e),
                (r = void 0),
                (a = function() {
                  return I(this, function(t) {
                    switch (t.label) {
                      case 0:
                        return [4, this.router.navigateByUrl(this.router.url).catch(o.noop)];
                      case 1:
                        return t.sent(), this.setRouteReuse(n), [2];
                    }
                  });
                }),
                new ((i = void 0) || (i = Promise))(function(e, n) {
                  function o(t) {
                    try {
                      c(a.next(t));
                    } catch (t) {
                      n(t);
                    }
                  }
                  function u(t) {
                    try {
                      c(a.throw(t));
                    } catch (t) {
                      n(t);
                    }
                  }
                  function c(t) {
                    t.done
                      ? e(t.value)
                      : new i(function(e) {
                          e(t.value);
                        }).then(o, u);
                  }
                  c((a = a.apply(t, r || [])).next());
                })
              );
              var t, r, i, a;
            });
          })
        );
      }),
      (t.prototype.get = function(t) {
        for (var e = [], n = 1; n < arguments.length; n++) e[n - 1] = arguments[n];
        return this.store.select(W.getLocalization.apply(W, O([t], e)));
      }),
      (t.prototype.instant = function(t) {
        for (var e = [], n = 1; n < arguments.length; n++) e[n - 1] = arguments[n];
        return this.store.selectSnapshot(W.getLocalization.apply(W, O([t], e)));
      }),
      (t.decorators = [{ type: e.Injectable, args: [{ providedIn: 'root' }] }]),
      (t.ctorParameters = function() {
        return [
          { type: r.Store },
          { type: n.Router },
          { type: e.NgZone },
          { type: t, decorators: [{ type: e.Optional }, { type: e.SkipSelf }] },
        ];
      }),
      (t.ngInjectableDef = e.ɵɵdefineInjectable({
        factory: function() {
          return new t(e.ɵɵinject(r.Store), e.ɵɵinject(n.Router), e.ɵɵinject(e.NgZone), e.ɵɵinject(t, 12));
        },
        token: t,
        providedIn: 'root',
      })),
      t
    );
  })();
  var Z = (function() {
    function t(t) {
      this.localizationService = t;
    }
    return (
      (t.getLanguage = function(t) {
        return t.language;
      }),
      (t.getTenant = function(t) {
        return t.tenant;
      }),
      (t.prototype.setLanguage = function(t, e) {
        var n = this,
          r = t.patchState,
          i = t.dispatch,
          u = e.payload;
        return (
          r({ language: u }),
          i(new w()).pipe(
            a.switchMap(function() {
              return o.from(n.localizationService.registerLocale(u));
            }),
          )
        );
      }),
      (t.prototype.setTenant = function(t, e) {
        (0, t.patchState)({ tenant: e.payload });
      }),
      (t.ctorParameters = function() {
        return [{ type: $ }];
      }),
      b(
        [r.Action(k), S('design:type', Function), S('design:paramtypes', [Object, k]), S('design:returntype', void 0)],
        t.prototype,
        'setLanguage',
        null,
      ),
      b(
        [r.Action(T), S('design:type', Function), S('design:paramtypes', [Object, T]), S('design:returntype', void 0)],
        t.prototype,
        'setTenant',
        null,
      ),
      b(
        [r.Selector(), S('design:type', Function), S('design:paramtypes', [Object]), S('design:returntype', String)],
        t,
        'getLanguage',
        null,
      ),
      b(
        [r.Selector(), S('design:type', Function), S('design:paramtypes', [Object]), S('design:returntype', Object)],
        t,
        'getTenant',
        null,
      ),
      (t = b([r.State({ name: 'SessionState', defaults: {} }), S('design:paramtypes', [$])], t))
    );
  })();
  var W = (function() {
    function t(t, e) {
      (this.appConfigurationService = t), (this.store = e);
    }
    var e;
    return (
      (e = t),
      (t.getAll = function(t) {
        return t;
      }),
      (t.getApplicationInfo = function(t) {
        return t.environment.application || {};
      }),
      (t.getOne = function(t) {
        return r.createSelector(
          [e],
          function(e) {
            return e[t];
          },
        );
      }),
      (t.getDeep = function(t) {
        if (('string' == typeof t && (t = t.split('.')), !Array.isArray(t)))
          throw new Error('The argument must be a dot string or an string array.');
        return r.createSelector(
          [e],
          function(e) {
            return t.reduce(function(t, e) {
              if (t) return t[e];
            }, e);
          },
        );
      }),
      (t.getRoute = function(t, n) {
        return r.createSelector(
          [e],
          function(e) {
            return e.flattedRoutes.find(function(e) {
              return t && e.path === t ? e : n && e.name === n ? e : void 0;
            });
          },
        );
      }),
      (t.getApiUrl = function(t) {
        return r.createSelector(
          [e],
          function(e) {
            return e.environment.apis[t || 'default'].url;
          },
        );
      }),
      (t.getSetting = function(t) {
        return r.createSelector(
          [e],
          function(e) {
            return i(function() {
              return e.setting.values[t];
            });
          },
        );
      }),
      (t.getSettings = function(t) {
        return r.createSelector(
          [e],
          function(e) {
            if (t) {
              var n = i(function() {
                return Object.keys(e.setting.values).filter(function(e) {
                  return e.indexOf(t) > -1;
                });
              }, []);
              if (n.length)
                return n.reduce(function(t, n) {
                  var r;
                  return m({}, t, (((r = {})[n] = e.setting.values[n]), r));
                }, {});
            }
            return i(function() {
              return e.setting.values;
            }, {});
          },
        );
      }),
      (t.getGrantedPolicy = function(t) {
        return r.createSelector(
          [e],
          function(e) {
            return (
              !t ||
              i(function() {
                return e.auth.grantedPolicies[t];
              }, !1)
            );
          },
        );
      }),
      (t.getLocalization = function(t) {
        for (var n, o = [], a = 1; a < arguments.length; a++) o[a - 1] = arguments[a];
        'string' != typeof t && ((n = t.defaultValue), (t = t.key)), t || (t = '');
        var u = t.split('::'),
          c = r.createSelector(
            [e],
            function(e) {
              if (!e.localization) return n || t;
              var r = e.environment.localization.defaultResourceName;
              if ('' === u[0]) {
                if (!r)
                  throw new Error(
                    "Please check your environment. May you forget set defaultResourceName?\n              Here is the example:\n               { production: false,\n                 localization: {\n                   defaultResourceName: 'MyProjectName'\n                  }\n               }",
                  );
                u[0] = i(function() {
                  return r;
                });
              }
              var a = u.reduce(function(t, e) {
                if (t) return t[e];
              }, e.localization.values);
              return (
                (o = o.filter(function(t) {
                  return null != t;
                })),
                a &&
                  o &&
                  o.length &&
                  o.forEach(function(t) {
                    a = a.replace(/[\'\"]?\{[\d]+\}[\'\"]?/, t);
                  }),
                'string' != typeof a && (a = ''),
                a || n || t
              );
            },
          );
        return c;
      }),
      (t.prototype.addData = function(t) {
        var e = this,
          n = t.patchState,
          r = t.dispatch;
        return this.appConfigurationService.getConfiguration().pipe(
          a.tap(function(t) {
            return n(m({}, t));
          }),
          a.switchMap(function(t) {
            var n = t.setting.values['Abp.Localization.DefaultLanguage'];
            return (
              n.includes(';') && (n = n.split(';')[0]), e.store.selectSnapshot(Z.getLanguage) ? o.of(null) : r(new k(n))
            );
          }),
        );
      }),
      (t.prototype.patchRoute = function(t, e) {
        var n = t.patchState,
          r = t.getState,
          o = e.name,
          i = e.newValue,
          a = r().routes;
        a.findIndex(function(t) {
          return t.name === o;
        });
        return n({
          routes: (a = (function t(e, n, r, o) {
            void 0 === o && (o = '');
            e = e.map(function(e) {
              return e.name === n
                ? ((r.url = o + '/' + ((r.path || '' !== r.path ? r.path : e.path) || '')),
                  r.children &&
                    r.children.length &&
                    (r.children = r.children.map(function(t) {
                      return m({}, t, { url: (r.url + '/' + t.path).replace('//', '/') });
                    })),
                  m({}, e, r))
                : (e.children && e.children.length && (e.children = t(e.children, n, r, (o || '/') + e.path)), e);
            });
            if (o) return e;
            return _(e);
          })(a, o, i)),
        });
      }),
      (t.ctorParameters = function() {
        return [{ type: N }, { type: r.Store }];
      }),
      b(
        [r.Action(w), S('design:type', Function), S('design:paramtypes', [Object]), S('design:returntype', void 0)],
        t.prototype,
        'addData',
        null,
      ),
      b(
        [r.Action(j), S('design:type', Function), S('design:paramtypes', [Object, j]), S('design:returntype', void 0)],
        t.prototype,
        'patchRoute',
        null,
      ),
      b(
        [r.Selector(), S('design:type', Function), S('design:paramtypes', [Object]), S('design:returntype', void 0)],
        t,
        'getAll',
        null,
      ),
      b(
        [r.Selector(), S('design:type', Function), S('design:paramtypes', [Object]), S('design:returntype', Object)],
        t,
        'getApplicationInfo',
        null,
      ),
      (t = e = b([r.State({ name: 'ConfigState', defaults: {} }), S('design:paramtypes', [N, r.Store])], t))
    );
  })();
  function X(t) {
    return 'function' == typeof t;
  }
  var Q = function(t, e) {
      return (
        void 0 === e && (e = 'ngOnDestroy'),
        function(n) {
          var r = t[e];
          if (!1 === X(r)) throw new Error(t.constructor.name + " is using untilDestroyed but doesn't implement " + e);
          return (
            t.__takeUntilDestroy ||
              ((t.__takeUntilDestroy = new o.Subject()),
              (t[e] = function() {
                X(r) && r.apply(this, arguments), t.__takeUntilDestroy.next(!0), t.__takeUntilDestroy.complete();
              })),
            n.pipe(a.takeUntil(t.__takeUntilDestroy))
          );
        }
      );
    },
    J = (function() {
      function t(t, e, r) {
        var o = this;
        (this.router = t), (this.route = e), (this.store = r);
        var a = this.store.selectSnapshot(W.getAll),
          u = a.requirements.layouts,
          c = a.routes;
        (this.route.snapshot.data || {}).layout &&
          (this.layout = u
            .filter(function(t) {
              return !!t;
            })
            .find(function(t) {
              return (
                i(function() {
                  return t.type.toLowerCase().indexOf(o.route.snapshot.data.layout);
                }, -1) > -1
              );
            })),
          this.router.events.pipe(Q(this)).subscribe(function(t) {
            if (t instanceof n.NavigationEnd) {
              var e = o.router.parseUrl(t.url).root.children.primary.segments,
                r =
                  (o.route.snapshot.data || {}).layout ||
                  (function(t, e) {
                    var n = 'empty',
                      r = e
                        .reduce(function(t, e) {
                          return e.wrapper ? O(t, e.children) : O(t, [e]);
                        }, [])
                        .find(function(e) {
                          return e.path === t[0].path;
                        });
                    if (r && (r.layout && (n = r.layout), r.children && r.children.length && t.length > 1)) {
                      var o = r.children.find(function(e) {
                        return e.path === t[1].path;
                      });
                      o && o.layout && (n = o.layout);
                    }
                    return n;
                  })(e, c);
              o.layout = u
                .filter(function(t) {
                  return !!t;
                })
                .find(function(t) {
                  return (
                    i(function() {
                      return t.type.toLowerCase().indexOf(r);
                    }, -1) > -1
                  );
                });
            }
          });
      }
      return (
        (t.prototype.ngOnDestroy = function() {}),
        (t.decorators = [
          {
            type: e.Component,
            args: [
              {
                selector: 'abp-dynamic-layout',
                template:
                  '\n    <ng-container *ngTemplateOutlet="layout ? componentOutlet : routerOutlet"></ng-container>\n    <ng-template #routerOutlet><router-outlet></router-outlet></ng-template>\n    <ng-template #componentOutlet><ng-container *ngComponentOutlet="layout"></ng-container></ng-template>\n  ',
              },
            ],
          },
        ]),
        (t.ctorParameters = function() {
          return [{ type: n.Router }, { type: n.ActivatedRoute }, { type: r.Store }];
        }),
        b([r.Select(W.getOne('requirements')), S('design:type', o.Observable)], t.prototype, 'requirements$', void 0),
        t
      );
    })();
  var K = (function() {
      function t() {}
      return (
        (t.decorators = [
          {
            type: e.Component,
            args: [{ selector: 'abp-router-outlet', template: '\n    <router-outlet></router-outlet>\n  ' }],
          },
        ]),
        t
      );
    })(),
    Y = (function() {
      function t(t) {
        (this.elRef = t), (this.delay = 0);
      }
      return (
        (t.prototype.ngAfterViewInit = function() {
          var t = this;
          setTimeout(function() {
            return t.elRef.nativeElement.focus();
          }, this.delay);
        }),
        (t.decorators = [{ type: e.Directive, args: [{ selector: '[autofocus]' }] }]),
        (t.ctorParameters = function() {
          return [{ type: e.ElementRef }];
        }),
        (t.propDecorators = { delay: [{ type: e.Input, args: ['autofocus'] }] }),
        t
      );
    })();
  var tt = (function() {
    function t(t, e) {
      (this.cdRef = t), (this.elRef = e), (this.enabled = !0);
    }
    return (
      Object.defineProperty(t.prototype, 'inlineClass', {
        get: function() {
          return this.enabled && this.width;
        },
        enumerable: !0,
        configurable: !0,
      }),
      Object.defineProperty(t.prototype, 'class', {
        get: function() {
          return this.enabled && !this.width;
        },
        enumerable: !0,
        configurable: !0,
      }),
      Object.defineProperty(t.prototype, 'maxWidth', {
        get: function() {
          return this.enabled && this.width ? this.width || '170px' : void 0;
        },
        enumerable: !0,
        configurable: !0,
      }),
      (t.prototype.ngAfterContentInit = function() {
        var t = this;
        setTimeout(function() {
          var e = t.title;
          (t.title = e || t.elRef.nativeElement.innerText), t.title !== e && t.cdRef.detectChanges();
        }, 0);
      }),
      (t.decorators = [{ type: e.Directive, args: [{ selector: '[abpEllipsis]' }] }]),
      (t.ctorParameters = function() {
        return [{ type: e.ChangeDetectorRef }, { type: e.ElementRef }];
      }),
      (t.propDecorators = {
        width: [{ type: e.Input, args: ['abpEllipsis'] }],
        title: [{ type: e.HostBinding, args: ['title'] }, { type: e.Input }],
        enabled: [{ type: e.Input, args: ['abpEllipsisEnabled'] }],
        inlineClass: [{ type: e.HostBinding, args: ['class.abp-ellipsis-inline'] }],
        class: [{ type: e.HostBinding, args: ['class.abp-ellipsis'] }],
        maxWidth: [{ type: e.HostBinding, args: ['style.max-width'] }],
      }),
      t
    );
  })();
  var et = function(t, e, n, r) {
    (this.$implicit = t), (this.index = e), (this.count = n), (this.list = r);
  };
  var nt = function(t, e) {
    (this.record = t), (this.view = e);
  };
  var rt = (function() {
    function t(t, e, n) {
      (this.tempRef = t), (this.vcRef = e), (this.differs = n);
    }
    return (
      Object.defineProperty(t.prototype, 'compareFn', {
        get: function() {
          return this.compareBy || s;
        },
        enumerable: !0,
        configurable: !0,
      }),
      Object.defineProperty(t.prototype, 'trackByFn', {
        get: function() {
          return (
            this.trackBy ||
            function(t, e) {
              return e.id || t;
            }
          );
        },
        enumerable: !0,
        configurable: !0,
      }),
      (t.prototype.iterateOverAppliedOperations = function(t) {
        var e = this,
          n = [];
        t.forEachOperation(function(t, r, o) {
          if (null == t.previousIndex) {
            var i = e.vcRef.createEmbeddedView(e.tempRef, new et(null, -1, -1, e.items), o);
            n.push(new nt(t, i));
          } else if (null == o) e.vcRef.remove(r);
          else {
            i = e.vcRef.get(r);
            e.vcRef.move(i, o), n.push(new nt(t, i));
          }
        });
        for (var r = 0, o = n.length; r < o; r++) n[r].view.context.$implicit = n[r].record.item;
      }),
      (t.prototype.iterateOverAttachedViews = function(t) {
        for (var e = this, n = 0, r = this.vcRef.length; n < r; n++) {
          var o = this.vcRef.get(n);
          (o.context.index = n), (o.context.count = r), (o.context.list = this.items);
        }
        t.forEachIdentityChange(function(t) {
          e.vcRef.get(t.currentIndex).context.$implicit = t.item;
        });
      }),
      (t.prototype.projectItems = function(t) {
        if (!t.length && this.emptyRef)
          return (
            this.vcRef.clear(),
            this.vcRef.createEmbeddedView(this.emptyRef).rootNodes,
            (this.isShowEmptyRef = !0),
            void (this.differ = null)
          );
        if (
          (this.emptyRef && this.isShowEmptyRef && (this.vcRef.clear(), (this.isShowEmptyRef = !1)),
          !this.differ && t && (this.differ = this.differs.find(t).create(this.trackByFn)),
          this.differ)
        ) {
          var e = this.differ.diff(t);
          e && (this.iterateOverAppliedOperations(e), this.iterateOverAttachedViews(e));
        }
      }),
      (t.prototype.sortItems = function(t) {
        var e = this;
        this.orderBy
          ? t.sort(function(t, n) {
              return t[e.orderBy] > n[e.orderBy] ? 1 : t[e.orderBy] < n[e.orderBy] ? -1 : 0;
            })
          : t.sort();
      }),
      (t.prototype.ngOnChanges = function() {
        var t = this,
          e = p(this.items);
        if (Array.isArray(e)) {
          var n = this.compareFn;
          switch (
            (void 0 !== this.filterBy &&
              this.filterVal &&
              (e = e.filter(function(e) {
                return n(e[t.filterBy], t.filterVal);
              })),
            this.orderDir)
          ) {
            case 'ASC':
              this.sortItems(e), this.projectItems(e);
              break;
            case 'DESC':
              this.sortItems(e), e.reverse(), this.projectItems(e);
              break;
            default:
              this.projectItems(e);
          }
        }
      }),
      (t.decorators = [{ type: e.Directive, args: [{ selector: '[abpFor]' }] }]),
      (t.ctorParameters = function() {
        return [{ type: e.TemplateRef }, { type: e.ViewContainerRef }, { type: e.IterableDiffers }];
      }),
      (t.propDecorators = {
        items: [{ type: e.Input, args: ['abpForOf'] }],
        orderBy: [{ type: e.Input, args: ['abpForOrderBy'] }],
        orderDir: [{ type: e.Input, args: ['abpForOrderDir'] }],
        filterBy: [{ type: e.Input, args: ['abpForFilterBy'] }],
        filterVal: [{ type: e.Input, args: ['abpForFilterVal'] }],
        trackBy: [{ type: e.Input, args: ['abpForTrackBy'] }],
        compareBy: [{ type: e.Input, args: ['abpForCompareBy'] }],
        emptyRef: [{ type: e.Input, args: ['abpForEmptyRef'] }],
      }),
      t
    );
  })();
  function ot(t) {
    return t
      ? (t ^ ((16 * Math.random()) >> (t / 4))).toString(16)
      : ('' + 1e7 + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, ot);
  }
  var it = (function() {
    function t(t, n, r) {
      (this.formGroupDirective = t),
        (this.host = n),
        (this.cdRef = r),
        (this.ngSubmit = new e.EventEmitter()),
        (this.executedNgSubmit = !1);
    }
    return (
      (t.prototype.ngOnInit = function() {
        var t = this;
        this.formGroupDirective.ngSubmit.pipe(Q(this)).subscribe(function() {
          t.markAsDirty(), (t.executedNgSubmit = !0);
        }),
          o
            .fromEvent(this.host.nativeElement, 'keyup')
            .pipe(
              a.debounceTime(200),
              a.filter(function(t) {
                return t && 'Enter' === t.key;
              }),
              Q(this),
            )
            .subscribe(function() {
              t.executedNgSubmit ||
                t.host.nativeElement.dispatchEvent(new Event('submit', { bubbles: !0, cancelable: !0 })),
                (t.executedNgSubmit = !1);
            }),
          o
            .fromEvent(this.host.nativeElement, 'submit')
            .pipe(
              Q(this),
              a.filter(function() {
                return !t.notValidateOnSubmit && 'string' != typeof t.notValidateOnSubmit;
              }),
            )
            .subscribe(function() {
              t.executedNgSubmit || t.markAsDirty();
            });
      }),
      (t.prototype.ngOnDestroy = function() {}),
      (t.prototype.markAsDirty = function() {
        var t = this.formGroupDirective.form;
        !(function t(e) {
          if (Array.isArray(e))
            return void e.forEach(function(e) {
              t(e.controls);
            });
          Object.keys(e).forEach(function(t) {
            e[t].markAsDirty(), e[t].updateValueAndValidity();
          });
        })(t.controls),
          t.markAsDirty(),
          this.cdRef.detectChanges();
      }),
      (t.decorators = [{ type: e.Directive, args: [{ selector: 'form[ngSubmit][formGroup]' }] }]),
      (t.ctorParameters = function() {
        return [
          { type: l.FormGroupDirective, decorators: [{ type: e.Self }] },
          { type: e.ElementRef },
          { type: e.ChangeDetectorRef },
        ];
      }),
      (t.propDecorators = { notValidateOnSubmit: [{ type: e.Input }], ngSubmit: [{ type: e.Output }] }),
      t
    );
  })();
  var at = (function() {
    function t(t) {
      this.rest = t;
    }
    return (
      (t.prototype.get = function() {
        return this.rest.request({ method: 'GET', url: '/api/identity/my-profile' });
      }),
      (t.prototype.update = function(t) {
        var e = { method: 'PUT', url: '/api/identity/my-profile', body: t };
        return this.rest.request(e);
      }),
      (t.prototype.changePassword = function(t, e) {
        void 0 === e && (e = !1);
        var n = { method: 'POST', url: '/api/identity/my-profile/change-password', body: t };
        return this.rest.request(n, { skipHandleError: e });
      }),
      (t.decorators = [{ type: e.Injectable, args: [{ providedIn: 'root' }] }]),
      (t.ctorParameters = function() {
        return [{ type: F }];
      }),
      (t.ngInjectableDef = e.ɵɵdefineInjectable({
        factory: function() {
          return new t(e.ɵɵinject(F));
        },
        token: t,
        providedIn: 'root',
      })),
      t
    );
  })();
  var ut = (function() {
    function t(t) {
      this.profileService = t;
    }
    return (
      (t.getProfile = function(t) {
        return t.profile;
      }),
      (t.prototype.getProfile = function(t) {
        var e = t.patchState;
        return this.profileService.get().pipe(
          a.tap(function(t) {
            return e({ profile: t });
          }),
        );
      }),
      (t.prototype.updateProfile = function(t, e) {
        var n = t.patchState,
          r = e.payload;
        return this.profileService.update(r).pipe(
          a.tap(function(t) {
            return n({ profile: t });
          }),
        );
      }),
      (t.prototype.changePassword = function(t, e) {
        var n = e.payload;
        return this.profileService.changePassword(n, !0);
      }),
      (t.ctorParameters = function() {
        return [{ type: at }];
      }),
      b(
        [r.Action(C), S('design:type', Function), S('design:paramtypes', [Object]), S('design:returntype', void 0)],
        t.prototype,
        'getProfile',
        null,
      ),
      b(
        [r.Action(D), S('design:type', Function), S('design:paramtypes', [Object, D]), S('design:returntype', void 0)],
        t.prototype,
        'updateProfile',
        null,
      ),
      b(
        [r.Action(L), S('design:type', Function), S('design:paramtypes', [Object, L]), S('design:returntype', void 0)],
        t.prototype,
        'changePassword',
        null,
      ),
      b(
        [r.Selector(), S('design:type', Function), S('design:paramtypes', [Object]), S('design:returntype', Object)],
        t,
        'getProfile',
        null,
      ),
      (t = b([r.State({ name: 'ProfileState', defaults: {} }), S('design:paramtypes', [at])], t))
    );
  })();
  var ct = (function() {
    function t(t, e, n) {
      (this.elRef = t), (this.renderer = e), (this.store = n);
    }
    return (
      (t.prototype.ngOnInit = function() {
        var t = this;
        this.condition &&
          this.store
            .select(W.getGrantedPolicy(this.condition))
            .pipe(Q(this))
            .subscribe(function(e) {
              e || t.renderer.removeChild(t.elRef.nativeElement.parentElement, t.elRef.nativeElement);
            });
      }),
      (t.prototype.ngOnDestroy = function() {}),
      (t.decorators = [{ type: e.Directive, args: [{ selector: '[abpPermission]' }] }]),
      (t.ctorParameters = function() {
        return [{ type: e.ElementRef, decorators: [{ type: e.Optional }] }, { type: e.Renderer2 }, { type: r.Store }];
      }),
      (t.propDecorators = { condition: [{ type: e.Input, args: ['abpPermission'] }] }),
      t
    );
  })();
  var st = (function() {
    function t() {}
    return (
      (t.prototype.transform = function(t, e, n) {
        if ((void 0 === e && (e = 'asc'), (e = e && e.toLowerCase()), !t || ('asc' !== e && 'desc' !== e))) return t;
        var r = [],
          o = [];
        n
          ? ((r = t
              .filter(function(t) {
                return 'number' == typeof t[n];
              })
              .sort(function(t, e) {
                return t[n] - e[n];
              })),
            (o = t
              .filter(function(t) {
                return 'string' == typeof t[n];
              })
              .sort(function(t, e) {
                return t[n] < e[n] ? -1 : t[n] > e[n] ? 1 : 0;
              })))
          : ((r = t
              .filter(function(t) {
                return 'number' == typeof t;
              })
              .sort()),
            (o = t
              .filter(function(t) {
                return 'string' == typeof t;
              })
              .sort()));
        var i = r.concat(o);
        return 'asc' === e ? i : i.reverse();
      }),
      (t.decorators = [{ type: e.Injectable }, { type: e.Pipe, args: [{ name: 'abpSort' }] }]),
      t
    );
  })();
  var pt = (function() {
    function t(t, e) {
      (this.table = t), (this.sortPipe = e), (this.value = []);
    }
    return (
      (t.prototype.ngOnChanges = function(t) {
        var e = t.value,
          n = t.abpTableSort;
        (e || n) &&
          ((this.abpTableSort = this.abpTableSort || {}),
          (this.table.value = this.sortPipe.transform(p(this.value), this.abpTableSort.order, this.abpTableSort.key)));
      }),
      (t.decorators = [{ type: e.Directive, args: [{ selector: '[abpTableSort]', providers: [st] }] }]),
      (t.ctorParameters = function() {
        return [{ type: f.Table, decorators: [{ type: e.Optional }, { type: e.Self }] }, { type: st }];
      }),
      (t.propDecorators = { abpTableSort: [{ type: e.Input }], value: [{ type: e.Input }] }),
      t
    );
  })();
  var lt = (function() {
    function t(t, e) {
      (this.elRef = t), (this.renderer = e), (this.mutationObserverEnabled = !0), (this.completed$ = new o.Subject());
    }
    return (
      (t.prototype.ngAfterViewInit = function() {
        var t,
          e = this;
        !this.focusedElement && this.elRef && (this.focusedElement = this.elRef.nativeElement),
          this.mutationObserverEnabled
            ? (t = new MutationObserver(function(t) {
                t.forEach(function(t) {
                  t.target &&
                    (i(function() {
                      return Array.from(t.target.childNodes).filter(function(t) {
                        return t instanceof HTMLElement;
                      });
                    }, []).length
                      ? setTimeout(function() {
                          e.disconnect();
                        }, 0)
                      : (e.removeFromDOM(), e.disconnect()));
                });
              })).observe(this.focusedElement, { childList: !0 })
            : setTimeout(function() {
                i(function() {
                  return Array.from(e.focusedElement.childNodes).filter(function(t) {
                    return t instanceof HTMLElement;
                  });
                }, []).length || e.removeFromDOM();
              }, 0),
          this.completed$.subscribe(function() {
            return t.disconnect();
          });
      }),
      (t.prototype.disconnect = function() {
        this.completed$.next(), this.completed$.complete();
      }),
      (t.prototype.removeFromDOM = function() {
        this.renderer.removeChild(this.elRef.nativeElement.parentElement, this.elRef.nativeElement);
      }),
      (t.decorators = [{ type: e.Directive, args: [{ selector: '[abpVisibility]' }] }]),
      (t.ctorParameters = function() {
        return [{ type: e.ElementRef, decorators: [{ type: e.Optional }] }, { type: e.Renderer2 }];
      }),
      (t.propDecorators = {
        focusedElement: [{ type: e.Input, args: ['abpVisibility'] }],
        mutationObserverEnabled: [{ type: e.Input }],
      }),
      t
    );
  })();
  var ft = (function() {
    function t(t, e) {
      (this.oauthService = t), (this.router = e);
    }
    return (
      (t.prototype.canActivate = function(t, e) {
        var n = this.oauthService.hasValidAccessToken();
        return n || this.router.createUrlTree(['/account/login'], { state: { redirectUrl: e.url } });
      }),
      (t.decorators = [{ type: e.Injectable, args: [{ providedIn: 'root' }] }]),
      (t.ctorParameters = function() {
        return [{ type: d.OAuthService }, { type: n.Router }];
      }),
      (t.ngInjectableDef = e.ɵɵdefineInjectable({
        factory: function() {
          return new t(e.ɵɵinject(d.OAuthService), e.ɵɵinject(n.Router));
        },
        token: t,
        providedIn: 'root',
      })),
      t
    );
  })();
  var dt = (function() {
    function t(t) {
      this.store = t;
    }
    return (
      (t.prototype.canActivate = function(t) {
        var e = this,
          n = t.data.requiredPolicy;
        return this.store.select(W.getGrantedPolicy(n)).pipe(
          a.tap(function(t) {
            t || e.store.dispatch(new x({ status: 403 }));
          }),
        );
      }),
      (t.decorators = [{ type: e.Injectable, args: [{ providedIn: 'root' }] }]),
      (t.ctorParameters = function() {
        return [{ type: r.Store }];
      }),
      (t.ngInjectableDef = e.ɵɵdefineInjectable({
        factory: function() {
          return new t(e.ɵɵinject(r.Store));
        },
        token: t,
        providedIn: 'root',
      })),
      t
    );
  })();
  var ht,
    yt,
    gt,
    vt,
    mt,
    bt = (function() {
      function t(t, e) {
        (this.oAuthService = t), (this.store = e);
      }
      return (
        (t.prototype.intercept = function(t, e) {
          var n = this;
          this.store.dispatch(new E(t));
          var r = {},
            o = this.oAuthService.getAccessToken();
          !t.headers.has('Authorization') && o && (r.Authorization = 'Bearer ' + o);
          var i = this.store.selectSnapshot(Z.getLanguage);
          !t.headers.has('Accept-Language') && i && (r['Accept-Language'] = i);
          var u = this.store.selectSnapshot(Z.getTenant);
          return (
            !t.headers.has('__tenant') && u && (r.__tenant = u.id),
            e.handle(t.clone({ setHeaders: r })).pipe(
              a.finalize(function() {
                return n.store.dispatch(new A(t));
              }),
            )
          );
        }),
        (t.decorators = [{ type: e.Injectable }]),
        (t.ctorParameters = function() {
          return [{ type: d.OAuthService }, { type: r.Store }];
        }),
        t
      );
    })();
  (function(t) {
    function e() {}
    function n() {}
    function r() {}
    function o() {}
    function i() {}
    function a() {}
    (t.Response = e),
      (t.Localization = n),
      (t.LocalizationValue = function() {}),
      (t.Language = r),
      (t.Auth = o),
      (t.Policy = function() {}),
      (t.Value = i),
      (t.CurrentUser = a);
  })(ht || (ht = {})),
    (function(t) {
      function e() {}
      function n() {}
      function r() {}
      function o() {}
      function i() {}
      function a() {}
      (t.Root = e),
        (t.PagedItemsResponse = n),
        (t.PageQueryParams = r),
        (t.Route = o),
        (t.FullRoute = i),
        (t.BasicItem = a),
        (t.Dictionary = function() {});
    })(yt || (yt = {})),
    (function(t) {
      function e() {}
      function n() {}
      function r() {}
      function o() {}
      (t.Environment = e),
        (t.Application = n),
        (t.Apis = function() {}),
        (t.Requirements = r),
        (t.LocalizationWithDefault = o);
    })(gt || (gt = {})),
    (function(t) {
      function e() {}
      function n() {}
      (t.Config = e), (t.Request = n);
    })(t.Rest || (t.Rest = {})),
    (function(t) {
      function e() {}
      t.State = e;
    })(vt || (vt = {})),
    (function(t) {
      function e() {}
      function n() {}
      function r() {}
      (t.State = e), (t.Response = n), (t.ChangePasswordRequest = r);
    })(mt || (mt = {}));
  var St = (function() {
    function t(t) {
      this.store = t;
    }
    return (
      (t.prototype.transform = function(t) {
        void 0 === t && (t = '');
        for (var e = [], n = 1; n < arguments.length; n++) e[n - 1] = arguments[n];
        return this.store.selectSnapshot(
          W.getLocalization.apply(
            W,
            O(
              [t],
              e.reduce(function(t, e) {
                return Array.isArray(e) ? O(t, e) : O(t, [e]);
              }, []),
            ),
          ),
        );
      }),
      (t.decorators = [{ type: e.Pipe, args: [{ name: 'abpLocalization' }] }]),
      (t.ctorParameters = function() {
        return [{ type: r.Store }];
      }),
      t
    );
  })();
  var It = new e.InjectionToken('NGXS_CONFIG_PLUGIN_OPTIONS'),
    Rt = (function() {
      function t(t, e) {
        (this.options = t), (this.router = e), (this.initialized = !1);
      }
      return (
        (t.prototype.handle = function(t, e, n) {
          var o = r.actionMatcher(e);
          if ((o(r.InitState) || o(r.UpdateState)) && !this.initialized) {
            var a = (function(t, e) {
                void 0 === t && (t = []);
                void 0 === e && (e = []);
                var n = t
                    .filter(function(t) {
                      return i(function() {
                        return t.data.routes.routes.find(function(e) {
                          return e.path === t.path;
                        });
                      }, !1);
                    })
                    .reduce(function(t, e) {
                      return O(t, e.data.routes.routes);
                    }, []),
                  r = O(M(), n);
                e = r.filter(function(t) {
                  return t.wrapper;
                });
                var o = [];
                return (
                  t
                    .filter(function(t) {
                      return t.component || t.loadChildren;
                    })
                    .forEach(function(t) {
                      var e = r.find(function(e) {
                          return e.path.toLowerCase() === t.path.toLowerCase() && !e.wrapper;
                        }),
                        n = o.length;
                      e && o.push(e),
                        o.length === n &&
                          (t.data || {}).routes &&
                          o.push(
                            m({}, t.data.routes, {
                              path: t.path,
                              name: i(function() {
                                return t.data.routes.name;
                              }, t.path),
                              children: t.data.routes.children || [],
                            }),
                          );
                    }),
                  { routes: Ot(o), wrappers: e }
                );
              })(this.router.config),
              u = a.routes;
            u = _(u, a.wrappers);
            var c = (function(t) {
              var e = function(t) {
                return t.reduce(function(t, n) {
                  var r = [n];
                  return n.children && (r = O([n], e(n.children))), O(t, r);
                }, []);
              };
              return e(t);
            })(p(u));
            (t = r.setValue(
              t,
              'ConfigState',
              m({}, t.ConfigState && m({}, t.ConfigState), this.options, { routes: u, flattedRoutes: c }),
            )),
              (this.initialized = !0);
          }
          return n(t, e);
        }),
        (t.decorators = [{ type: e.Injectable }]),
        (t.ctorParameters = function() {
          return [{ type: void 0, decorators: [{ type: e.Inject, args: [It] }] }, { type: n.Router }];
        }),
        t
      );
    })();
  function Ot(t, e) {
    return e
      ? t.map(function(t) {
          return m(
            {},
            t,
            { url: e + '/' + t.path },
            t.children && t.children.length && { children: Ot(t.children, e + '/' + t.path) },
          );
        })
      : t.map(function(t) {
          return m(
            {},
            t,
            { url: '/' + t.path },
            t.children && t.children.length && { children: Ot(t.children, '/' + t.path) },
          );
        });
  }
  var Pt = (function() {
    function t(t) {
      this.store = t;
    }
    return (
      (t.prototype.getAll = function() {
        return this.store.selectSnapshot(W.getAll);
      }),
      (t.prototype.getApplicationInfo = function() {
        return this.store.selectSnapshot(W.getApplicationInfo);
      }),
      (t.prototype.getOne = function() {
        for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
        return this.store.selectSnapshot(W.getOne.apply(W, O(t)));
      }),
      (t.prototype.getDeep = function() {
        for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
        return this.store.selectSnapshot(W.getDeep.apply(W, O(t)));
      }),
      (t.prototype.getRoute = function() {
        for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
        return this.store.selectSnapshot(W.getRoute.apply(W, O(t)));
      }),
      (t.prototype.getApiUrl = function() {
        for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
        return this.store.selectSnapshot(W.getApiUrl.apply(W, O(t)));
      }),
      (t.prototype.getSetting = function() {
        for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
        return this.store.selectSnapshot(W.getSetting.apply(W, O(t)));
      }),
      (t.prototype.getSettings = function() {
        for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
        return this.store.selectSnapshot(W.getSettings.apply(W, O(t)));
      }),
      (t.prototype.getGrantedPolicy = function() {
        for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
        return this.store.selectSnapshot(W.getGrantedPolicy.apply(W, O(t)));
      }),
      (t.prototype.getLocalization = function() {
        for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
        return this.store.selectSnapshot(W.getLocalization.apply(W, O(t)));
      }),
      (t.decorators = [{ type: e.Injectable, args: [{ providedIn: 'root' }] }]),
      (t.ctorParameters = function() {
        return [{ type: r.Store }];
      }),
      (t.ngInjectableDef = e.ɵɵdefineInjectable({
        factory: function() {
          return new t(e.ɵɵinject(r.Store));
        },
        token: t,
        providedIn: 'root',
      })),
      t
    );
  })();
  var jt = (function() {
    function t() {
      this.loadedLibraries = {};
    }
    return (
      (t.prototype.load = function(t, e, n, r, i) {
        var a = this;
        return (
          void 0 === n && (n = ''),
          void 0 === r && (r = 'body'),
          void 0 === i && (i = 'afterend'),
          t || n
            ? (!t && n && (t = [null]),
              Array.isArray(t) || (t = [t]),
              new o.Observable(function(u) {
                t.forEach(function(c, s) {
                  var p,
                    l = c ? c.slice(c.lastIndexOf('/') + 1) : ot();
                  if (a.loadedLibraries[l]) return u.next(), void u.complete();
                  (a.loadedLibraries[l] = new o.ReplaySubject()),
                    'script' === e
                      ? (((p = document.createElement('script')).type = 'text/javascript'),
                        c && (p.src = c),
                        (p.text = n))
                      : c
                      ? (((p = document.createElement('link')).type = 'text/css'),
                        (p.rel = 'stylesheet'),
                        c && (p.href = c))
                      : ((p = document.createElement('style')).textContent = n),
                    (p.onload = function() {
                      a.loadedLibraries[l].next(),
                        a.loadedLibraries[l].complete(),
                        s === t.length - 1 && (u.next(), u.complete());
                    }),
                    document.querySelector(r).insertAdjacentElement(i, p);
                });
              }))
            : o.throwError('Should pass url or content')
        );
      }),
      (t.decorators = [{ type: e.Injectable, args: [{ providedIn: 'root' }] }]),
      (t.ngInjectableDef = e.ɵɵdefineInjectable({
        factory: function() {
          return new t();
        },
        token: t,
        providedIn: 'root',
      })),
      t
    );
  })();
  var wt = (function() {
    function t(t) {
      this.store = t;
    }
    return (
      (t.prototype.getProfile = function() {
        return this.store.selectSnapshot(ut.getProfile);
      }),
      (t.decorators = [{ type: e.Injectable, args: [{ providedIn: 'root' }] }]),
      (t.ctorParameters = function() {
        return [{ type: r.Store }];
      }),
      (t.ngInjectableDef = e.ɵɵdefineInjectable({
        factory: function() {
          return new t(e.ɵɵinject(r.Store));
        },
        token: t,
        providedIn: 'root',
      })),
      t
    );
  })();
  var Et = (function() {
    function t(t) {
      this.store = t;
    }
    return (
      (t.prototype.getLanguage = function() {
        return this.store.selectSnapshot(Z.getLanguage);
      }),
      (t.prototype.getTenant = function() {
        return this.store.selectSnapshot(Z.getTenant);
      }),
      (t.decorators = [{ type: e.Injectable, args: [{ providedIn: 'root' }] }]),
      (t.ctorParameters = function() {
        return [{ type: r.Store }];
      }),
      (t.ngInjectableDef = e.ɵɵdefineInjectable({
        factory: function() {
          return new t(e.ɵɵinject(r.Store));
        },
        token: t,
        providedIn: 'root',
      })),
      t
    );
  })();
  var At = new e.InjectionToken('ENVIRONMENT'),
    Ct = new e.InjectionToken('CONFIG'),
    Dt = (function() {
      function t(t, n) {
        (this.renderer = t), (this.el = n), (this.debounce = 300), (this.debounceEvent = new e.EventEmitter());
      }
      return (
        (t.prototype.ngOnInit = function() {
          var t = this;
          o.fromEvent(this.el.nativeElement, 'input')
            .pipe(
              a.debounceTime(this.debounce),
              g.takeUntilDestroy(this),
            )
            .subscribe(function(e) {
              t.debounceEvent.emit(e);
            });
        }),
        (t.decorators = [{ type: e.Directive, args: [{ selector: '[input.debounce]' }] }]),
        (t.ctorParameters = function() {
          return [{ type: e.Renderer2 }, { type: e.ElementRef }];
        }),
        (t.propDecorators = {
          debounce: [{ type: e.Input }],
          debounceEvent: [{ type: e.Output, args: ['input.debounce'] }],
        }),
        t
      );
    })();
  var Lt = (function() {
    function t(t, n) {
      (this.renderer = t), (this.el = n), (this.stopPropEvent = new e.EventEmitter());
    }
    return (
      (t.prototype.ngOnInit = function() {
        var t = this;
        o.fromEvent(this.el.nativeElement, 'click')
          .pipe(g.takeUntilDestroy(this))
          .subscribe(function(e) {
            e.stopPropagation(), t.stopPropEvent.emit(e);
          });
      }),
      (t.decorators = [{ type: e.Directive, args: [{ selector: '[click.stop]' }] }]),
      (t.ctorParameters = function() {
        return [{ type: e.Renderer2 }, { type: e.ElementRef }];
      }),
      (t.propDecorators = { stopPropEvent: [{ type: e.Output, args: ['click.stop'] }] }),
      t
    );
  })();
  var xt = (function(t) {
    function e(e) {
      var n = t.call(this) || this;
      return (n.localizationService = e), n;
    }
    return (
      (function(t, e) {
        function n() {
          this.constructor = t;
        }
        v(t, e), (t.prototype = null === e ? Object.create(e) : ((n.prototype = e.prototype), new n()));
      })(e, t),
      (e.prototype.toString = function() {
        var t = this.localizationService.currentLang;
        return B[t] || t;
      }),
      (e.prototype.valueOf = function() {
        return this.toString();
      }),
      e
    );
  })(String);
  var kt = { provide: e.LOCALE_ID, useClass: xt, deps: [$] },
    Tt = (function() {
      function t() {}
      return (
        (t.forRoot = function(n) {
          return (
            void 0 === n && (n = {}),
            {
              ngModule: t,
              providers: [
                kt,
                { provide: r.NGXS_PLUGINS, useClass: Rt, multi: !0 },
                { provide: It, useValue: n },
                { provide: u.HTTP_INTERCEPTORS, useClass: bt, multi: !0 },
                { provide: e.APP_INITIALIZER, multi: !0, deps: [e.Injector], useFactory: G },
                { provide: e.APP_INITIALIZER, multi: !0, deps: [e.Injector], useFactory: U },
              ],
            }
          );
        }),
        (t.decorators = [
          {
            type: e.NgModule,
            args: [
              {
                imports: [
                  r.NgxsModule.forFeature([ut, Z, W]),
                  y.NgxsStoragePluginModule.forRoot({ key: 'SessionState' }),
                  h.NgxsRouterPluginModule.forRoot(),
                  c.CommonModule,
                  u.HttpClientModule,
                  l.FormsModule,
                  l.ReactiveFormsModule,
                  n.RouterModule,
                ],
                declarations: [K, J, Y, tt, rt, it, pt, St, st, ct, lt, Dt, Lt, P],
                exports: [
                  c.CommonModule,
                  u.HttpClientModule,
                  l.FormsModule,
                  l.ReactiveFormsModule,
                  n.RouterModule,
                  K,
                  J,
                  Y,
                  tt,
                  rt,
                  it,
                  St,
                  st,
                  pt,
                  ct,
                  lt,
                  Dt,
                  St,
                  Lt,
                  P,
                ],
                providers: [St],
                entryComponents: [K, J],
              },
            ],
          },
        ]),
        t
      );
    })();
  (t.AbstractNgModelComponent = P),
    (t.ApiInterceptor = bt),
    (t.ApplicationConfigurationService = N),
    (t.AuthGuard = ft),
    (t.AutofocusDirective = Y),
    (t.CONFIG = Ct),
    (t.ChangePassword = L),
    (t.ConfigPlugin = Rt),
    (t.ConfigState = W),
    (t.ConfigStateService = Pt),
    (t.CoreModule = Tt),
    (t.DynamicLayoutComponent = J),
    (t.ENVIRONMENT = At),
    (t.EllipsisDirective = tt),
    (t.ForDirective = rt),
    (t.FormSubmitDirective = it),
    (t.GetAppConfiguration = w),
    (t.GetProfile = C),
    (t.LazyLoadService = jt),
    (t.LocalizationPipe = St),
    (t.LocalizationService = $),
    (t.NGXS_CONFIG_PLUGIN_OPTIONS = It),
    (t.PatchRouteByName = j),
    (t.PermissionDirective = ct),
    (t.PermissionGuard = dt),
    (t.ProfileService = at),
    (t.ProfileState = ut),
    (t.ProfileStateService = wt),
    (t.RestOccurError = x),
    (t.RestService = F),
    (t.RouterOutletComponent = K),
    (t.SessionState = Z),
    (t.SessionStateService = Et),
    (t.SetLanguage = k),
    (t.SetTenant = T),
    (t.SortPipe = st),
    (t.StartLoader = E),
    (t.StopLoader = A),
    (t.TableSortDirective = pt),
    (t.UpdateProfile = D),
    (t.VisibilityDirective = lt),
    (t.addAbpRoutes = function(t) {
      Array.isArray(t) || (t = [t]), z.push.apply(z, O(t));
    }),
    (t.configFactory = function(t) {
      return m({}, t);
    }),
    (t.environmentFactory = function(t) {
      return m({}, t);
    }),
    (t.getAbpRoutes = M),
    (t.getInitialData = G),
    (t.localeInitializer = U),
    (t.noop = function() {
      return function() {};
    }),
    (t.organizeRoutes = _),
    (t.registerLocale = H),
    (t.setChildRoute = q),
    (t.sortRoutes = V),
    (t.takeUntilDestroy = Q),
    (t.uuid = ot),
    (t.ɵa = ut),
    (t.ɵb = at),
    (t.ɵba = lt),
    (t.ɵbb = Dt),
    (t.ɵbc = Lt),
    (t.ɵbd = P),
    (t.ɵbe = xt),
    (t.ɵbf = kt),
    (t.ɵbg = It),
    (t.ɵbh = Rt),
    (t.ɵbi = bt),
    (t.ɵbj = G),
    (t.ɵbk = U),
    (t.ɵc = F),
    (t.ɵd = C),
    (t.ɵe = D),
    (t.ɵf = L),
    (t.ɵh = Z),
    (t.ɵi = $),
    (t.ɵj = k),
    (t.ɵk = T),
    (t.ɵm = W),
    (t.ɵn = N),
    (t.ɵo = j),
    (t.ɵp = w),
    (t.ɵq = K),
    (t.ɵr = J),
    (t.ɵs = Y),
    (t.ɵt = tt),
    (t.ɵu = rt),
    (t.ɵv = it),
    (t.ɵw = pt),
    (t.ɵx = st),
    (t.ɵy = St),
    (t.ɵz = ct),
    Object.defineProperty(t, '__esModule', { value: !0 });
});
//# sourceMappingURL=abp-ng.core.umd.min.js.map

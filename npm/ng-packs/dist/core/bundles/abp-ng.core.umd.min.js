!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/router"),require("@ngxs/store"),require("rxjs"),require("@angular/common/http"),require("rxjs/operators"),require("snq"),require("angular-oauth2-oidc"),require("@ngxs/router-plugin"),require("@angular/common"),require("@angular/forms"),require("@ngxs/storage-plugin")):"function"==typeof define&&define.amd?define("@abp/ng.core",["exports","@angular/core","@angular/router","@ngxs/store","rxjs","@angular/common/http","rxjs/operators","snq","angular-oauth2-oidc","@ngxs/router-plugin","@angular/common","@angular/forms","@ngxs/storage-plugin"],t):t(((e=e||self).abp=e.abp||{},e.abp.ng=e.abp.ng||{},e.abp.ng.core={}),e.ng.core,e.ng.router,e.store,e.rxjs,e.ng.common.http,e.rxjs.operators,e.snq,e.angularOauth2Oidc,e.routerPlugin,e.ng.common,e.ng.forms,e.storagePlugin)}(this,function(exports,core,router,store,rxjs,http,operators,snq,angularOauth2Oidc,routerPlugin,common,forms,storagePlugin){"use strict";snq=snq&&snq.hasOwnProperty("default")?snq.default:snq;var __assign=function(){return(__assign=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};function __rest(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(r[o[n]]=e[o[n]])}return r}function __decorate(e,t,r,o){var n,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,r,a):n(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a}function __metadata(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function __read(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var o,n,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return a}function __spread(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(__read(arguments[t]));return e}var PatchRouteByName=function(){function e(e,t){this.name=e,this.newValue=t}return e.type="[Config] Patch Route By Name",e}(),ConfigGetAppConfiguration=function(){function e(){}return e.type="[Config] Get App Configuration",e}(),LoaderStart=function(){function e(e){this.payload=e}return e.type="[Loader] Start",e}(),LoaderStop=function(){function e(e){this.payload=e}return e.type="[Loader] Stop",e}(),ProfileGet=function(){function e(){}return e.type="[Profile] Get",e}(),ProfileUpdate=function(){function e(e){this.payload=e}return e.type="[Profile] Update",e}(),ProfileChangePassword=function(){function e(e){this.payload=e}return e.type="[Profile] Change Password",e}(),RestOccurError=function(){function e(e){this.payload=e}return e.type="[Rest] Error",e}(),SessionSetLanguage=function(){function e(e){this.payload=e}return e.type="[Session] Set Language",e}(),RestService=function(){function e(e,t){this.http=e,this.store=t}return e.prototype.handleError=function(e){return this.store.dispatch(new RestOccurError(e)),console.error(e),rxjs.NEVER},e.prototype.request=function(e,t,r){var o=this;void 0===t&&(t={});var n=t.observe,i=void 0===n?"body":n,a=t.throwErr,s=r||this.store.selectSnapshot(ConfigState.getApiUrl())+e.url,u=e.method,c=__rest(e,["method"]);return this.http.request(u,s,__assign({observe:i},c)).pipe("body"===i?operators.take(1):null,operators.catchError(function(e){return a?rxjs.throwError(e):o.handleError(e)}))},e.decorators=[{type:core.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:http.HttpClient},{type:store.Store}]},e.ngInjectableDef=core.ɵɵdefineInjectable({factory:function(){return new e(core.ɵɵinject(http.HttpClient),core.ɵɵinject(store.Store))},token:e,providedIn:"root"}),e}(),ProfileService=function(){function e(e){this.rest=e}return e.prototype.get=function(){return this.rest.request({method:"GET",url:"/api/identity/my-profile"})},e.prototype.update=function(e){var t={method:"PUT",url:"/api/identity/my-profile",body:e};return this.rest.request(t)},e.prototype.changePassword=function(e){var t={method:"POST",url:"/api/identity/my-profile/changePassword",body:e};return this.rest.request(t)},e.decorators=[{type:core.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:RestService}]},e.ngInjectableDef=core.ɵɵdefineInjectable({factory:function(){return new e(core.ɵɵinject(RestService))},token:e,providedIn:"root"}),e}(),ProfileState=function(){function e(e){this.profileService=e}return e.getProfile=function(e){return e.profile},e.prototype.profileGet=function(e){var t=e.patchState;return this.profileService.get().pipe(operators.tap(function(e){return t({profile:e})}))},e.prototype.profileUpdate=function(e,t){var r=e.patchState,o=t.payload;return this.profileService.update(o).pipe(operators.tap(function(e){return r({profile:e})}))},e.prototype.changePassword=function(e,t){var r=t.payload;return this.profileService.changePassword(r)},__decorate([store.Action(ProfileGet),__metadata("design:type",Function),__metadata("design:paramtypes",[Object]),__metadata("design:returntype",void 0)],e.prototype,"profileGet",null),__decorate([store.Action(ProfileUpdate),__metadata("design:type",Function),__metadata("design:paramtypes",[Object,ProfileUpdate]),__metadata("design:returntype",void 0)],e.prototype,"profileUpdate",null),__decorate([store.Action(ProfileChangePassword),__metadata("design:type",Function),__metadata("design:paramtypes",[Object,ProfileChangePassword]),__metadata("design:returntype",void 0)],e.prototype,"changePassword",null),__decorate([store.Selector(),__metadata("design:type",Function),__metadata("design:paramtypes",[Object]),__metadata("design:returntype",Object)],e,"getProfile",null),e=__decorate([store.State({name:"ProfileState",defaults:{}}),__metadata("design:paramtypes",[ProfileService])],e)}(),ApplicationConfigurationService=function(){function e(e){this.rest=e}return e.prototype.getConfiguration=function(){return this.rest.request({method:"GET",url:"/api/abp/application-configuration"})},e.decorators=[{type:core.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:RestService}]},e.ngInjectableDef=core.ɵɵdefineInjectable({factory:function(){return new e(core.ɵɵinject(RestService))},token:e,providedIn:"root"}),e}(),SessionState=function(){function e(){}return e.getLanguage=function(e){return e.language},e.prototype.sessionSetLanguage=function(e,t){(0,e.patchState)({language:t.payload})},__decorate([store.Action(SessionSetLanguage),__metadata("design:type",Function),__metadata("design:paramtypes",[Object,SessionSetLanguage]),__metadata("design:returntype",void 0)],e.prototype,"sessionSetLanguage",null),__decorate([store.Selector(),__metadata("design:type",Function),__metadata("design:paramtypes",[Object]),__metadata("design:returntype",String)],e,"getLanguage",null),e=__decorate([store.State({name:"SessionState",defaults:{}}),__metadata("design:paramtypes",[])],e)}();function organizeRoutes(e,t,r,o){void 0===t&&(t=[]),void 0===r&&(r=[]),void 0===o&&(o=null);var n=function(e){return e.children&&(e.children=organizeRoutes(e.children,t,r,e.name)),!e.parentName||e.parentName===o||(r.push(e),!1)};if(o)return e.filter(n);var i=e.filter(n);return r.length?sortRoutes(setChildRoute(__spread(i,t),r)):i}function setChildRoute(e,t){return e.map(function(e){e.children&&e.children.length&&(e.children=setChildRoute(e.children,t));var r=t.filter(function(t){return t.parentName===e.name});return r&&r.length&&(e.children=__spread(e.children||[],r)),e}).filter(function(e){return e.path||e.children&&e.children.length})}function sortRoutes(e){return void 0===e&&(e=[]),e.length?e.sort(function(e,t){return e.order-t.order}).map(function(e){return e.children&&e.children.length&&(e.children=sortRoutes(e.children)),e}):[]}var ConfigState=function(){function ConfigState(e,t){this.appConfigurationService=e,this.store=t}var ConfigState_1;return ConfigState_1=ConfigState,ConfigState.getAll=function(e){return e},ConfigState.getOne=function(e){return store.createSelector([ConfigState_1],function(t){return t[e]})},ConfigState.getDeep=function(e){if("string"==typeof e&&(e=e.split(".")),!Array.isArray(e))throw new Error("The argument must be a dot string or an string array.");return store.createSelector([ConfigState_1],function(t){return e.reduce(function(e,t){if(e)return e[t]},t)})},ConfigState.getApiUrl=function(e){return store.createSelector([ConfigState_1],function(t){return t.environment.apis[e||"default"].url})},ConfigState.getSetting=function(e){return store.createSelector([ConfigState_1],function(t){return snq(function(){return t.setting.values[e]})})},ConfigState.getGrantedPolicy=function(condition){void 0===condition&&(condition="");var keys=condition.replace(/\(|\)|\!|\s/g,"").split(/\|\||&&/).filter(function(e){return e}),selector=store.createSelector([ConfigState_1],function(state){if(!keys.length)return!0;var getPolicy=function(e){return snq(function(){return state.auth.grantedPolicies[e]},!1)};return keys.length>1?(keys.forEach(function(e){var t=getPolicy(e);condition=condition.replace(e,t)}),eval("!!"+condition)):getPolicy(condition)});return selector},ConfigState.getCopy=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var o=e.split("::"),n=store.createSelector([ConfigState_1],function(r){var n=r.environment.localization.defaultResourceName;if(""===o[0]){if(!n)throw new Error("Please check your environment. May you forget set defaultResourceName? \n              Here is the example:\n               { production: false,\n                 localization: {\n                   defaultResourceName: 'MyProjectName'\n                  }\n               }");o[0]=snq(function(){return n})}var i=o.reduce(function(e,t){if(e)return e[t]},r.localization.values);return i&&t&&t.length&&t.forEach(function(e,t){i=i.replace("'{"+t+"}'",e)}),i||e});return n},ConfigState.prototype.addData=function(e){var t=this,r=e.patchState,o=e.dispatch;return this.appConfigurationService.getConfiguration().pipe(operators.tap(function(e){return r(__assign({},e))}),operators.switchMap(function(e){return t.store.selectSnapshot(SessionState.getLanguage)?rxjs.of(null):o(new SessionSetLanguage(snq(function(){return e.setting.values["Abp.Localization.DefaultLanguage"]})))}))},ConfigState.prototype.patchRoute=function(e,t){var r=e.patchState,o=e.getState,n=t.name,i=t.newValue,a=o().routes;a.findIndex(function(e){return e.name===n});return r({routes:a=patchRouteDeep(a,n,i)})},__decorate([store.Action(ConfigGetAppConfiguration),__metadata("design:type",Function),__metadata("design:paramtypes",[Object]),__metadata("design:returntype",void 0)],ConfigState.prototype,"addData",null),__decorate([store.Action(PatchRouteByName),__metadata("design:type",Function),__metadata("design:paramtypes",[Object,PatchRouteByName]),__metadata("design:returntype",void 0)],ConfigState.prototype,"patchRoute",null),__decorate([store.Selector(),__metadata("design:type",Function),__metadata("design:paramtypes",[Object]),__metadata("design:returntype",void 0)],ConfigState,"getAll",null),ConfigState=ConfigState_1=__decorate([store.State({name:"ConfigState",defaults:{}}),__metadata("design:paramtypes",[ApplicationConfigurationService,store.Store])],ConfigState),ConfigState}();function patchRouteDeep(e,t,r,o){return void 0===o&&(o=null),e=e.map(function(e){return e.name===t?(r.path&&(r.url=o+"/"+r.path),r.children&&r.children.length&&(r.children=r.children.map(function(t){return __assign({},t,{url:o+"/"+e.path+"/"+t.path})})),__assign({},e,r)):(e.children&&e.children.length&&(e.children=patchRouteDeep(e.children,t,r,(o||"/")+e.path)),e)}),o?e:organizeRoutes(e)}function uuid(e){return e?(e^16*Math.random()>>e/4).toString(16):(""+1e7+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,uuid)}function getInitialData(e){return function(){return e.get(store.Store).dispatch(new ConfigGetAppConfiguration).toPromise()}}function isFunction(e){return"function"==typeof e}var takeUntilDestroy=function(e,t){return void 0===t&&(t="ngOnDestroy"),function(r){var o=e[t];if(!1===isFunction(o))throw new Error(e.constructor.name+" is using untilDestroyed but doesn't implement "+t);return e.__takeUntilDestroy||(e.__takeUntilDestroy=new rxjs.Subject,e[t]=function(){isFunction(o)&&o.apply(this,arguments),e.__takeUntilDestroy.next(!0),e.__takeUntilDestroy.complete()}),r.pipe(operators.takeUntil(e.__takeUntilDestroy))}},DynamicLayoutComponent=function(){function e(e,t){var r=this;this.router=e,this.store=t,this.router.events.pipe(takeUntilDestroy(this)).subscribe(function(e){if(e instanceof router.NavigationEnd){var t=r.router.parseUrl(e.url).root.children.primary.segments,o=r.store.selectSnapshot(ConfigState.getAll),n=o.requirements.layouts,i=findLayout(t,o.routes);r.layout=n.filter(function(e){return!!e}).find(function(e){return snq(function(){return e.type.toLowerCase().indexOf(i)},-1)>-1})}})}return e.prototype.ngOnDestroy=function(){},e.decorators=[{type:core.Component,args:[{selector:"abp-dynamic-layout",template:'\n    <ng-container *ngTemplateOutlet="layout ? componentOutlet : routerOutlet"></ng-container>\n\n    <ng-template #routerOutlet><router-outlet></router-outlet></ng-template>\n    <ng-template #componentOutlet><ng-container *ngComponentOutlet="layout"></ng-container></ng-template>\n  '}]}],e.ctorParameters=function(){return[{type:router.Router},{type:store.Store}]},__decorate([store.Select(ConfigState.getOne("requirements")),__metadata("design:type",rxjs.Observable)],e.prototype,"requirements$",void 0),e}();function findLayout(e,t){var r="empty",o=t.reduce(function(e,t){return t.wrapper?__spread(e,t.children):__spread(e,[t])},[]).find(function(t){return t.path===e[0].path});if(o&&(o.layout&&(r=o.layout),o.children&&o.children.length)){var n=o.children.find(function(t){return t.path===e[1].path});n.layout&&(r=n.layout)}return r}var RouterOutletComponent=function(){function e(){}return e.decorators=[{type:core.Component,args:[{selector:"abp-router-outlet",template:"\n    <router-outlet></router-outlet>\n  "}]}],e}(),PermissionDirective=function(){function e(e,t,r){this.elRef=e,this.renderer=t,this.store=r}return e.prototype.ngOnInit=function(){var e=this;this.condition&&this.store.select(ConfigState.getGrantedPolicy(this.condition)).pipe(takeUntilDestroy(this)).subscribe(function(t){t||e.renderer.removeChild(e.elRef.nativeElement.parentElement,e.elRef.nativeElement)})},e.prototype.ngOnDestroy=function(){},e.decorators=[{type:core.Directive,args:[{selector:"[abpPermission]"}]}],e.ctorParameters=function(){return[{type:core.ElementRef,decorators:[{type:core.Optional}]},{type:core.Renderer2},{type:store.Store}]},e.propDecorators={condition:[{type:core.Input,args:["abpPermission"]}]},e}(),VisibilityDirective=function(){function e(e,t){this.elRef=e,this.renderer=t,this.completed$=new rxjs.Subject}return e.prototype.ngAfterViewInit=function(){var e=this,t=new MutationObserver(function(t){t.forEach(function(t){t.target&&(snq(function(){return Array.from(t.target.childNodes).filter(function(e){return e instanceof HTMLElement})},[]).length?setTimeout(function(){e.disconnect()},0):(e.renderer.removeChild(e.elRef.nativeElement.parentElement,e.elRef.nativeElement),e.disconnect()))})});t.observe(this.focusedElement,{childList:!0}),this.completed$.subscribe(function(){return t.disconnect()})},e.prototype.disconnect=function(){this.completed$.next(),this.completed$.complete()},e.decorators=[{type:core.Directive,args:[{selector:"[abpVisibility]"}]}],e.ctorParameters=function(){return[{type:core.ElementRef,decorators:[{type:core.Optional}]},{type:core.Renderer2}]},e.propDecorators={focusedElement:[{type:core.Input,args:["abpVisibility"]}]},e}(),AuthGuard=function(){function e(e,t){this.oauthService=e,this.store=t}return e.prototype.canActivate=function(e,t){var r=this.oauthService.hasValidAccessToken();return r||(this.store.dispatch(new routerPlugin.Navigate(["/account/login"],null,{state:{redirectUrl:t.url}})),!1)},e.decorators=[{type:core.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:angularOauth2Oidc.OAuthService},{type:store.Store}]},e.ngInjectableDef=core.ɵɵdefineInjectable({factory:function(){return new e(core.ɵɵinject(angularOauth2Oidc.OAuthService),core.ɵɵinject(store.Store))},token:e,providedIn:"root"}),e}(),PermissionGuard=function(){function e(e){this.store=e}return e.prototype.canActivate=function(e){var t=e.data.requiredPolicy;return this.store.select(ConfigState.getGrantedPolicy(t))},e.decorators=[{type:core.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:store.Store}]},e.ngInjectableDef=core.ɵɵdefineInjectable({factory:function(){return new e(core.ɵɵinject(store.Store))},token:e,providedIn:"root"}),e}(),ApiInterceptor=function(){function e(e,t){this.oAuthService=e,this.store=t}return e.prototype.intercept=function(e,t){var r=this;this.store.dispatch(new LoaderStart(e));var o={},n=this.oAuthService.getAccessToken();!e.headers.has("Authorization")&&n&&(o.Authorization="Bearer "+n);var i=this.store.selectSnapshot(SessionState.getLanguage);return!e.headers.has("Accept-Language")&&i&&(o["Accept-Language"]=i),t.handle(e.clone({setHeaders:o})).pipe(operators.finalize(function(){return r.store.dispatch(new LoaderStop(e))}))},e.decorators=[{type:core.Injectable}],e.ctorParameters=function(){return[{type:angularOauth2Oidc.OAuthService},{type:store.Store}]},e}(),Rest;Rest=exports.Rest||(exports.Rest={}),Rest.Config=function(){},Rest.Request=function(){};var NGXS_CONFIG_PLUGIN_OPTIONS=new core.InjectionToken("NGXS_CONFIG_PLUGIN_OPTIONS"),ConfigPlugin=function(){function e(e,t){this.options=e,this.router=t,this.initialized=!1}return e.prototype.handle=function(e,t,r){var o=store.actionMatcher(t);if((o(store.InitState)||o(store.UpdateState))&&!this.initialized){var n=transformRoutes(this.router.config),i=n.routes;i=organizeRoutes(i,n.wrappers),e=store.setValue(e,"ConfigState",__assign({},e.ConfigState&&__assign({},e.ConfigState),this.options,{routes:i})),this.initialized=!0}return r(e,t)},e.decorators=[{type:core.Injectable}],e.ctorParameters=function(){return[{type:void 0,decorators:[{type:core.Inject,args:[NGXS_CONFIG_PLUGIN_OPTIONS]}]},{type:router.Router}]},e}();function transformRoutes(e,t){void 0===e&&(e=[]),void 0===t&&(t=[]);var r=e.filter(function(e){return snq(function(){return e.data.routes.find(function(t){return t.path===e.path})},!1)}).reduce(function(e,t){return __spread(e,t.data.routes)},[]);t=r.filter(function(e){return e.wrapper});var o=[];return e.filter(function(e){return e.component||e.loadChildren}).forEach(function(e){var t=r.find(function(t){return t.path.toLowerCase()===e.path.toLowerCase()}),n=o.length;t&&o.push(t),o.length===n&&o.push({path:e.path,name:snq(function(){return e.data.routes.name},e.path),children:e.data.routes.children||[]})}),{routes:setUrls(o),wrappers:t}}function setUrls(e,t){return t?e.map(function(e){return __assign({},e,{url:t+"/"+e.path},e.children&&e.children.length&&{children:setUrls(e.children,t+"/"+e.path)})}):e.map(function(e){return __assign({},e,{url:"/"+e.path},e.children&&e.children.length&&{children:setUrls(e.children,"/"+e.path)})})}var ConfigService=function(){function e(e){this.store=e}return e.prototype.getAll=function(){return this.store.selectSnapshot(ConfigState.getAll)},e.prototype.getOne=function(e){return this.store.selectSnapshot(ConfigState.getOne(e))},e.prototype.getDeep=function(e){return this.store.selectSnapshot(ConfigState.getDeep(e))},e.prototype.getSetting=function(e){return this.store.selectSnapshot(ConfigState.getSetting(e))},e.decorators=[{type:core.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:store.Store}]},e.ngInjectableDef=core.ɵɵdefineInjectable({factory:function(){return new e(core.ɵɵinject(store.Store))},token:e,providedIn:"root"}),e}(),LazyLoadService=function(){function e(){this.loadedLibraries={}}return e.prototype.load=function(e,t,r,o,n){var i=this;if(void 0===r&&(r=""),void 0===o&&(o="body"),void 0===n&&(n="afterend"),e||r){var a,s=e?e.slice(e.lastIndexOf("/")+1):uuid();return this.loadedLibraries[s]?this.loadedLibraries[s].asObservable():(this.loadedLibraries[s]=new rxjs.ReplaySubject,"script"===t?((a=document.createElement("script")).type="text/javascript",e&&(a.src=e),a.text=r):e?((a=document.createElement("link")).type="text/css",a.rel="stylesheet",e&&(a.href=e)):(a=document.createElement("style")).textContent=r,a.onload=function(){i.loadedLibraries[s].next(),i.loadedLibraries[s].complete()},document.querySelector(o).insertAdjacentElement(n,a),this.loadedLibraries[s].asObservable())}},e.decorators=[{type:core.Injectable,args:[{providedIn:"root"}]}],e.ngInjectableDef=core.ɵɵdefineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e}(),LocalizationService=function(){function e(e){this.store=e}return e.prototype.get=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return this.store.select(ConfigState.getCopy.apply(ConfigState,__spread([e],t)))},e.prototype.instant=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return this.store.selectSnapshot(ConfigState.getCopy.apply(ConfigState,__spread([e],t)))},e.decorators=[{type:core.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:store.Store}]},e.ngInjectableDef=core.ɵɵdefineInjectable({factory:function(){return new e(core.ɵɵinject(store.Store))},token:e,providedIn:"root"}),e}();function environmentFactory(e){return __assign({},e)}function configFactory(e){return __assign({},e)}var ENVIRONMENT=new core.InjectionToken("ENVIRONMENT"),CONFIG=new core.InjectionToken("CONFIG"),LocalizationPipe=function(){function e(e){this.store=e,this.initialized=!1}return e.prototype.transform=function(e){for(var t=this,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];return this.initialized||(this.initialized=!0,this.store.select(ConfigState.getCopy.apply(ConfigState,__spread([e],r.reduce(function(e,t){return Array.isArray(t)?__spread(e,t):__spread(e,[t])},[])))).pipe(takeUntilDestroy(this),operators.distinctUntilChanged()).subscribe(function(e){return t.value=e})),this.value},e.prototype.ngOnDestroy=function(){},e.decorators=[{type:core.Pipe,args:[{name:"abpLocalization",pure:!1}]}],e.ctorParameters=function(){return[{type:store.Store}]},e}(),CoreModule=function(){function e(){}return e.forRoot=function(t){return void 0===t&&(t={}),{ngModule:e,providers:[{provide:store.NGXS_PLUGINS,useClass:ConfigPlugin,multi:!0},{provide:NGXS_CONFIG_PLUGIN_OPTIONS,useValue:t},{provide:http.HTTP_INTERCEPTORS,useClass:ApiInterceptor,multi:!0},{provide:core.APP_INITIALIZER,multi:!0,deps:[core.Injector],useFactory:getInitialData}]}},e.decorators=[{type:core.NgModule,args:[{imports:[store.NgxsModule.forFeature([ProfileState,SessionState,ConfigState]),storagePlugin.NgxsStoragePluginModule.forRoot({key:"SessionState"}),routerPlugin.NgxsRouterPluginModule.forRoot(),common.CommonModule,http.HttpClientModule,forms.FormsModule,forms.ReactiveFormsModule,router.RouterModule],declarations:[RouterOutletComponent,DynamicLayoutComponent,PermissionDirective,VisibilityDirective,LocalizationPipe],exports:[common.CommonModule,http.HttpClientModule,forms.FormsModule,forms.ReactiveFormsModule,router.RouterModule,RouterOutletComponent,DynamicLayoutComponent,PermissionDirective,VisibilityDirective,LocalizationPipe],providers:[LocalizationPipe],entryComponents:[RouterOutletComponent,DynamicLayoutComponent]}]}],e}();exports.ApiInterceptor=ApiInterceptor,exports.ApplicationConfigurationService=ApplicationConfigurationService,exports.AuthGuard=AuthGuard,exports.CONFIG=CONFIG,exports.ConfigGetAppConfiguration=ConfigGetAppConfiguration,exports.ConfigPlugin=ConfigPlugin,exports.ConfigService=ConfigService,exports.ConfigState=ConfigState,exports.CoreModule=CoreModule,exports.DynamicLayoutComponent=DynamicLayoutComponent,exports.ENVIRONMENT=ENVIRONMENT,exports.LazyLoadService=LazyLoadService,exports.LoaderStart=LoaderStart,exports.LoaderStop=LoaderStop,exports.LocalizationService=LocalizationService,exports.NGXS_CONFIG_PLUGIN_OPTIONS=NGXS_CONFIG_PLUGIN_OPTIONS,exports.PatchRouteByName=PatchRouteByName,exports.PermissionDirective=PermissionDirective,exports.PermissionGuard=PermissionGuard,exports.ProfileChangePassword=ProfileChangePassword,exports.ProfileGet=ProfileGet,exports.ProfileService=ProfileService,exports.ProfileState=ProfileState,exports.ProfileUpdate=ProfileUpdate,exports.RestOccurError=RestOccurError,exports.RestService=RestService,exports.RouterOutletComponent=RouterOutletComponent,exports.SessionSetLanguage=SessionSetLanguage,exports.SessionState=SessionState,exports.VisibilityDirective=VisibilityDirective,exports.configFactory=configFactory,exports.environmentFactory=environmentFactory,exports.getInitialData=getInitialData,exports.organizeRoutes=organizeRoutes,exports.setChildRoute=setChildRoute,exports.sortRoutes=sortRoutes,exports.takeUntilDestroy=takeUntilDestroy,exports.uuid=uuid,exports.ɵa=ProfileState,exports.ɵb=ProfileService,exports.ɵc=RestService,exports.ɵd=ProfileGet,exports.ɵe=ProfileUpdate,exports.ɵf=ProfileChangePassword,exports.ɵh=SessionState,exports.ɵi=SessionSetLanguage,exports.ɵj=ConfigState,exports.ɵk=ApplicationConfigurationService,exports.ɵl=PatchRouteByName,exports.ɵm=ConfigGetAppConfiguration,exports.ɵn=RouterOutletComponent,exports.ɵo=DynamicLayoutComponent,exports.ɵp=ConfigState,exports.ɵq=PermissionDirective,exports.ɵr=VisibilityDirective,exports.ɵs=LocalizationPipe,exports.ɵt=NGXS_CONFIG_PLUGIN_OPTIONS,exports.ɵu=ConfigPlugin,exports.ɵw=ApiInterceptor,exports.ɵx=getInitialData,Object.defineProperty(exports,"__esModule",{value:!0})});
//# sourceMappingURL=abp-ng.core.umd.min.js.map
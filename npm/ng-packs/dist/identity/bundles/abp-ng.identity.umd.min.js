!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@abp/ng.core"),require("@angular/core"),require("@ngxs/store"),require("rxjs"),require("@ng-bootstrap/ng-bootstrap"),require("@angular/forms"),require("rxjs/operators"),require("@abp/ng.theme.shared"),require("@angular/router"),require("snq"),require("@ngx-validate/core"),require("@abp/ng.permission-management"),require("primeng/table")):"function"==typeof define&&define.amd?define("@abp/ng.identity",["exports","@abp/ng.core","@angular/core","@ngxs/store","rxjs","@ng-bootstrap/ng-bootstrap","@angular/forms","rxjs/operators","@abp/ng.theme.shared","@angular/router","snq","@ngx-validate/core","@abp/ng.permission-management","primeng/table"],t):t(((e=e||self).abp=e.abp||{},e.abp.ng=e.abp.ng||{},e.abp.ng.identity={}),e.ng_core,e.ng.core,e.store,e.rxjs,e.ngBootstrap,e.ng.forms,e.rxjs.operators,e.ng_theme_shared,e.ng.router,e.snq,e.core$1,e.ng_permissionManagement,e.table)}(this,function(e,t,n,o,r,i,a,s,l,d,p,c,u,m){"use strict";p=p&&p.hasOwnProperty("default")?p.default:p;var b=function(){return(b=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function y(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function f(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function h(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a}var g,v=function(){function e(){}return e.type="[Identity] Get Roles",e}(),I=function(){function e(e){this.payload=e}return e.type="[Identity] Get Role By Id",e}(),A=function(){function e(e){this.payload=e}return e.type="[Identity] Delete Role",e}(),R=function(){function e(e){this.payload=e}return e.type="[Identity] Add Role",e}(),w=function(){function e(e){this.payload=e}return e.type="[Identity] Update Role",e}(),U=function(){function e(e){this.payload=e}return e.type="[Identity] Get Users",e}(),S=function(){function e(e){this.payload=e}return e.type="[Identity] Get User By Id",e}(),L=function(){function e(e){this.payload=e}return e.type="[Identity] Delete User",e}(),N=function(){function e(e){this.payload=e}return e.type="[Identity] Add User",e}(),C=function(){function e(e){this.payload=e}return e.type="[Identity] Update User",e}(),x=function(){function e(e){this.payload=e}return e.type="[Identity] Get User Roles",e}(),k=function(){function e(e){this.rest=e}return e.prototype.getRoles=function(){return this.rest.request({method:"GET",url:"/api/identity/role"})},e.prototype.getRoleById=function(e){var t={method:"GET",url:"/api/identity/role/"+e};return this.rest.request(t)},e.prototype.deleteRole=function(e){var t={method:"DELETE",url:"/api/identity/role/"+e};return this.rest.request(t)},e.prototype.addRole=function(e){var t={method:"POST",url:"/api/identity/role",body:e};return this.rest.request(t)},e.prototype.updateRole=function(e){var t="/api/identity/role/"+e.id;delete e.id;var n={method:"PUT",url:t,body:e};return this.rest.request(n)},e.prototype.getUsers=function(e){void 0===e&&(e={});var t={method:"GET",url:"/api/identity/user",params:e};return this.rest.request(t)},e.prototype.getUserById=function(e){var t={method:"GET",url:"/api/identity/user/"+e};return this.rest.request(t)},e.prototype.getUserRoles=function(e){var t={method:"GET",url:"/api/identity/user/"+e+"/roles"};return this.rest.request(t)},e.prototype.deleteUser=function(e){var t={method:"DELETE",url:"/api/identity/user/"+e};return this.rest.request(t)},e.prototype.addUser=function(e){var t={method:"POST",url:"/api/identity/user",body:e};return this.rest.request(t)},e.prototype.updateUser=function(e){var t="/identity/users/"+e.id;delete e.id;var n={method:"PUT",url:t,body:e};return this.rest.request(n)},e.decorators=[{type:n.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:t.RestService}]},e.ngInjectableDef=n.ɵɵdefineInjectable({factory:function(){return new e(n.ɵɵinject(t.RestService))},token:e,providedIn:"root"}),e}(),P=function(){function e(e){this.identityService=e}return e.getRoles=function(e){return e.roles.items},e.getRolesTotalCount=function(e){return e.roles.totalCount},e.getUsers=function(e){return e.users.items},e.getUsersTotalCount=function(e){return e.users.totalCount},e.prototype.getRoles=function(e){var t=e.patchState;return this.identityService.getRoles().pipe(s.tap(function(e){return t({roles:e})}))},e.prototype.getRole=function(e,t){var n=e.patchState,o=t.payload;return this.identityService.getRoleById(o).pipe(s.tap(function(e){return n({selectedRole:e})}))},e.prototype.deleteRole=function(e,t){var n=e.dispatch,o=t.payload;return this.identityService.deleteRole(o).pipe(s.switchMap(function(){return n(new v)}))},e.prototype.addRole=function(e,t){var n=e.dispatch,o=t.payload;return this.identityService.addRole(o).pipe(s.switchMap(function(){return n(new v)}))},e.prototype.updateRole=function(e,t){var n=this,o=e.getState,r=e.dispatch,i=t.payload;return r(new I(i.id)).pipe(s.switchMap(function(){return n.identityService.updateRole(b({},o().selectedRole,i))}),s.switchMap(function(){return r(new v)}))},e.prototype.getUsers=function(e,t){var n=e.patchState,o=t.payload;return this.identityService.getUsers(o).pipe(s.tap(function(e){return n({users:e})}))},e.prototype.getUser=function(e,t){var n=e.patchState,o=t.payload;return this.identityService.getUserById(o).pipe(s.tap(function(e){return n({selectedUser:e})}))},e.prototype.deleteUser=function(e,t){var n=e.dispatch,o=t.payload;return this.identityService.deleteUser(o).pipe(s.switchMap(function(){return n(new U)}))},e.prototype.addUser=function(e,t){var n=e.dispatch,o=t.payload;return this.identityService.addUser(o).pipe(s.switchMap(function(){return n(new U)}))},e.prototype.updateUser=function(e,t){var n=this,o=e.getState,r=e.dispatch,i=t.payload;return r(new S(i.id)).pipe(s.switchMap(function(){return n.identityService.updateUser(b({},o().selectedUser,i))}),s.switchMap(function(){return r(new U)}))},e.prototype.getUserRoles=function(e,t){var n=e.patchState,o=t.payload;return this.identityService.getUserRoles(o).pipe(s.pluck("items"),s.tap(function(e){return n({selectedUserRoles:e})}))},y([o.Action(v),f("design:type",Function),f("design:paramtypes",[Object]),f("design:returntype",void 0)],e.prototype,"getRoles",null),y([o.Action(I),f("design:type",Function),f("design:paramtypes",[Object,I]),f("design:returntype",void 0)],e.prototype,"getRole",null),y([o.Action(A),f("design:type",Function),f("design:paramtypes",[Object,I]),f("design:returntype",void 0)],e.prototype,"deleteRole",null),y([o.Action(R),f("design:type",Function),f("design:paramtypes",[Object,R]),f("design:returntype",void 0)],e.prototype,"addRole",null),y([o.Action(w),f("design:type",Function),f("design:paramtypes",[Object,w]),f("design:returntype",void 0)],e.prototype,"updateRole",null),y([o.Action(U),f("design:type",Function),f("design:paramtypes",[Object,U]),f("design:returntype",void 0)],e.prototype,"getUsers",null),y([o.Action(S),f("design:type",Function),f("design:paramtypes",[Object,S]),f("design:returntype",void 0)],e.prototype,"getUser",null),y([o.Action(L),f("design:type",Function),f("design:paramtypes",[Object,S]),f("design:returntype",void 0)],e.prototype,"deleteUser",null),y([o.Action(N),f("design:type",Function),f("design:paramtypes",[Object,N]),f("design:returntype",void 0)],e.prototype,"addUser",null),y([o.Action(C),f("design:type",Function),f("design:paramtypes",[Object,C]),f("design:returntype",void 0)],e.prototype,"updateUser",null),y([o.Action(x),f("design:type",Function),f("design:paramtypes",[Object,x]),f("design:returntype",void 0)],e.prototype,"getUserRoles",null),y([o.Selector(),f("design:type",Function),f("design:paramtypes",[Object]),f("design:returntype",Array)],e,"getRoles",null),y([o.Selector(),f("design:type",Function),f("design:paramtypes",[Object]),f("design:returntype",Number)],e,"getRolesTotalCount",null),y([o.Selector(),f("design:type",Function),f("design:paramtypes",[Object]),f("design:returntype",Array)],e,"getUsers",null),y([o.Selector(),f("design:type",Function),f("design:paramtypes",[Object]),f("design:returntype",Number)],e,"getUsersTotalCount",null),e=y([o.State({name:"IdentityState",defaults:{roles:{},selectedRole:{},users:{},selectedUser:{}}}),f("design:paramtypes",[k])],e)}(),z=function(){function e(e,t,n,o){this.confirmationService=e,this.modalService=t,this.fb=n,this.store=o,this.visiblePermissions=!1}return e.prototype.createForm=function(){this.form=this.fb.group({name:[this.selected.name||"",[a.Validators.required,a.Validators.maxLength(256)]],isDefault:[this.selected.isDefault||!1],isPublic:[this.selected.isPublic||!1]})},e.prototype.openModal=function(){this.createForm(),this.modalService.open(this.modalContent)},e.prototype.onAdd=function(){this.selected={},this.openModal()},e.prototype.onEdit=function(e){var t=this;this.store.dispatch(new I(e)).pipe(s.pluck("IdentityState","selectedRole")).subscribe(function(e){t.selected=e,t.openModal()})},e.prototype.save=function(){var e=this;this.form.valid&&this.store.dispatch(this.selected.id?new w(b({},this.form.value,{id:this.selected.id})):new R(this.form.value)).subscribe(function(){return e.modalService.dismissAll()})},e.prototype.delete=function(e,t){var n=this;this.confirmationService.warn("AbpIdentity::RoleDeletionConfirmationMessage","AbpIdentity::AreYouSure",{messageLocalizationParams:[t]}).subscribe(function(t){"confirm"===t&&n.store.dispatch(new A(e))})},e.decorators=[{type:n.Component,args:[{selector:"abp-roles",template:'<div id="identity-roles-wrapper" class="card">\n  <div class="card-header">\n    <div class="row">\n      <div class="col col-md-6">\n        <h5 class="card-title">{{ \'AbpIdentity::Roles\' | abpLocalization }}</h5>\n      </div>\n      <div class="text-right col col-md-6">\n        <button id="create-role" class="btn btn-primary" type="button" (click)="onAdd()">\n          <i class="fa fa-plus mr-1"></i> <span>{{ \'AbpIdentity::NewRole\' | abpLocalization }}</span>\n        </button>\n      </div>\n    </div>\n  </div>\n  <div class="card-body">\n    <div id="data-tables-table-filter" class="data-tables-filter">\n      <label\n        ><input\n          type="search"\n          class="form-control form-control-sm"\n          placeholder="Search"\n          (input)="dt.filterGlobal($event.target.value, \'contains\')"\n      /></label>\n    </div>\n    <p-table #dt [value]="roles$ | async" [globalFilterFields]="[\'name\']" [paginator]="true" [rows]="10">\n      <ng-template pTemplate="header">\n        <tr>\n          <th>{{ \'AbpIdentity::Actions\' | abpLocalization }}</th>\n          <th>{{ \'AbpIdentity::RoleName\' | abpLocalization }}</th>\n        </tr>\n      </ng-template>\n      <ng-template pTemplate="body" let-data>\n        <tr>\n          <td>\n            <div ngbDropdown class="d-inline-block">\n              <button\n                class="btn btn-primary btn-sm dropdown-toggle"\n                data-toggle="dropdown"\n                aria-haspopup="true"\n                ngbDropdownToggle\n              >\n                <i class="fa fa-cog mr-1"></i>{{ \'AbpIdentity::Actions\' | abpLocalization }}\n              </button>\n              <div ngbDropdownMenu>\n                <button ngbDropdownItem (click)="onEdit(data.id)">{{ \'AbpIdentity::Edit\' | abpLocalization }}</button>\n                <button ngbDropdownItem (click)="providerKey = data.name; visiblePermissions = true">\n                  {{ \'AbpIdentity::Permissions\' | abpLocalization }}\n                </button>\n                <button ngbDropdownItem (click)="delete(data.id, data.name)">\n                  {{ \'AbpIdentity::Delete\' | abpLocalization }}\n                </button>\n              </div>\n            </div>\n          </td>\n          <td>{{ data.name }}</td>\n        </tr>\n      </ng-template>\n    </p-table>\n  </div>\n</div>\n\n<ng-template #modalContent let-modal>\n  <div class="modal-header">\n    <h5 class="modal-title" id="modal-basic-title">\n      {{ (selected?.id ? \'AbpIdentity::Edit\' : \'AbpIdentity::NewRole\') | abpLocalization }}\n    </h5>\n    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss()">\n      <span aria-hidden="true">&times;</span>\n    </button>\n  </div>\n  <form [formGroup]="form" (ngSubmit)="save()">\n    <div class="modal-body">\n      <div class="form-group">\n        <label for="role-name">{{ \'AbpIdentity::RoleName\' | abpLocalization }}</label\n        ><span> * </span>\n        <input type="text" id="role-name" class="form-control" formControlName="name" />\n      </div>\n\n      <div class="custom-checkbox custom-control mb-2">\n        <input type="checkbox" id="role-is-default" class="custom-control-input" formControlName="isDefault" />\n        <label class="custom-control-label" for="role-is-default">{{\n          \'AbpIdentity::DisplayName:IsDefault\' | abpLocalization\n        }}</label>\n      </div>\n\n      <div class="custom-checkbox custom-control mb-2">\n        <input type="checkbox" id="role-is-public" class="custom-control-input" formControlName="isPublic" />\n        <label class="custom-control-label" for="role-is-public">{{\n          \'AbpIdentity::DisplayName:IsPublic\' | abpLocalization\n        }}</label>\n      </div>\n    </div>\n\n    <div class="modal-footer">\n      <button type="button" class="btn btn-secondary" data-dismiss="modal" (click)="modal.close()">\n        {{ \'AbpIdentity::Cancel\' | abpLocalization }}\n      </button>\n      <button type="submit" class="btn btn-primary">\n        <i class="fa fa-check mr-1"></i> <span>{{ \'AbpIdentity::Save\' | abpLocalization }}</span>\n      </button>\n    </div>\n  </form>\n</ng-template>\n\n<abp-permission-management\n  [(visible)]="visiblePermissions"\n  providerName="Role"\n  [providerKey]="providerKey"\n></abp-permission-management>\n'}]}],e.ctorParameters=function(){return[{type:l.ConfirmationService},{type:i.NgbModal},{type:a.FormBuilder},{type:o.Store}]},e.propDecorators={modalContent:[{type:n.ViewChild,args:["modalContent",{static:!1}]}]},y([o.Select(P.getRoles),f("design:type",r.Observable)],e.prototype,"roles$",void 0),e}(),j=function(){function e(e){this.store=e}return e.prototype.resolve=function(){var e=this.store.selectSnapshot(P.getRoles);return e&&e.length?null:this.store.dispatch(new v)},e.decorators=[{type:n.Injectable}],e.ctorParameters=function(){return[{type:o.Store}]},e}(),D=function(){function e(e,t,n,o){this.confirmationService=e,this.modalService=t,this.fb=n,this.store=o,this.visiblePermissions=!1,this.pageQuery={sorting:"userName"},this.loading=!1,this.search$=new r.Subject,this.trackByFn=function(e,t){return Object.keys(t)[0]||e}}return Object.defineProperty(e.prototype,"roleGroups",{get:function(){var e=this;return p(function(){return e.form.get("roleNames").controls},[])},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this.search$.pipe(s.debounceTime(300)).subscribe(function(t){e.pageQuery.filter=t,e.get()})},e.prototype.buildForm=function(){var e=this;this.roles=this.store.selectSnapshot(P.getRoles),this.form=this.fb.group({password:["",[a.Validators.required,a.Validators.maxLength(32),a.Validators.minLength(6),c.validatePassword(["small","capital","number","special"])]],userName:[this.selected.userName||"",[a.Validators.required,a.Validators.maxLength(256)]],email:[this.selected.email||"",[a.Validators.required,a.Validators.email,a.Validators.maxLength(256)]],name:[this.selected.name||"",[a.Validators.maxLength(64)]],surname:[this.selected.surname||"",[a.Validators.maxLength(64)]],phoneNumber:[this.selected.phoneNumber||"",[a.Validators.maxLength(16)]],lockoutEnabled:[this.selected.twoFactorEnabled||!this.selected.id],twoFactorEnabled:[this.selected.twoFactorEnabled||!this.selected.id],roleNames:this.fb.array(this.roles.map(function(t){var n;return e.fb.group(((n={})[t.name]=[!!p(function(){return e.selectedUserRoles.find(function(e){return e.id===t.id})})],n))}))})},e.prototype.openModal=function(){this.buildForm(),this.modalService.open(this.modalContent)},e.prototype.onAdd=function(){this.selected={},this.selectedUserRoles=[],this.openModal()},e.prototype.onEdit=function(e){var t=this;r.combineLatest([this.store.dispatch(new S(e)),this.store.dispatch(new x(e))]).pipe(s.filter(function(e){var t=h(e,2),n=t[0],o=t[1];return n&&o}),s.map(function(e){var t=h(e,2),n=t[0];t[1];return n}),s.pluck("IdentityState"),s.take(1)).subscribe(function(e){t.selected=e.selectedUser,t.selectedUserRoles=e.selectedUserRoles,t.openModal()})},e.prototype.save=function(){var e=this;if(this.form.valid){var t=this.form.value.roleNames,n=p(function(){return t.filter(function(e){return!!e[Object.keys(e)[0]]}).map(function(e){return Object.keys(e)[0]})},[]);this.store.dispatch(this.selected.id?new C(b({},this.form.value,{id:this.selected.id,roleNames:n})):new N(b({},this.form.value,{roleNames:n}))).subscribe(function(){return e.modalService.dismissAll()})}},e.prototype.delete=function(e,t){var n=this;this.confirmationService.warn("AbpIdentity::UserDeletionConfirmationMessage","AbpIdentity::AreYouSure",{messageLocalizationParams:[t]}).subscribe(function(t){"confirm"===t&&n.store.dispatch(new L(e))})},e.prototype.onPageChange=function(e){this.pageQuery.skipCount=e.first,this.pageQuery.maxResultCount=e.rows,this.get()},e.prototype.get=function(){var e=this;this.loading=!0,this.store.dispatch(new U(this.pageQuery)).subscribe(function(){return e.loading=!1})},e.decorators=[{type:n.Component,args:[{selector:"abp-users",template:'<div id="identity-roles-wrapper" class="card">\n  <div class="card-header">\n    <div class="row">\n      <div class="col col-md-6">\n        <h5 class="card-title">{{ \'AbpIdentity::Users\' | abpLocalization }}</h5>\n      </div>\n      <div class="text-right col col-md-6">\n        <button\n          [abpPermission]="\'AbpIdentity.Users.Create\'"\n          id="create-role"\n          class="btn btn-primary"\n          type="button"\n          (click)="onAdd()"\n        >\n          <i class="fa fa-plus mr-1"></i> <span>{{ \'AbpIdentity::NewUser\' | abpLocalization }}</span>\n        </button>\n      </div>\n    </div>\n  </div>\n  <div class="card-body">\n    <div id="data-tables-table-filter" class="data-tables-filter">\n      <label\n        ><input\n          type="search"\n          class="form-control form-control-sm"\n          placeholder="Search"\n          (input)="search$.next($event.target.value)"\n      /></label>\n    </div>\n    <p-table\n      [value]="data$ | async"\n      [lazy]="true"\n      [lazyLoadOnInit]="false"\n      [paginator]="true"\n      [rows]="10"\n      [totalRecords]="totalCount$ | async"\n      [loading]="loading"\n      (onLazyLoad)="onPageChange($event)"\n    >\n      <ng-template pTemplate="header">\n        <tr>\n          <th>{{ \'AbpIdentity::Actions\' | abpLocalization }}</th>\n          <th>{{ \'AbpIdentity::UserName\' | abpLocalization }}</th>\n          <th>{{ \'AbpIdentity::EmailAddress\' | abpLocalization }}</th>\n          <th>{{ \'AbpIdentity::PhoneNumber\' | abpLocalization }}</th>\n        </tr>\n      </ng-template>\n      <ng-template pTemplate="body" let-data>\n        <tr>\n          <td>\n            <div ngbDropdown class="d-inline-block">\n              <button\n                class="btn btn-primary btn-sm dropdown-toggle"\n                data-toggle="dropdown"\n                aria-haspopup="true"\n                ngbDropdownToggle\n              >\n                <i class="fa fa-cog mr-1"></i>{{ \'AbpIdentity::Actions\' | abpLocalization }}\n              </button>\n              <div ngbDropdownMenu>\n                <button ngbDropdownItem (click)="onEdit(data.id)">{{ \'AbpIdentity::Edit\' | abpLocalization }}</button>\n                <button ngbDropdownItem (click)="providerKey = data.id; visiblePermissions = true">\n                  {{ \'AbpIdentity::Permissions\' | abpLocalization }}\n                </button>\n                <button ngbDropdownItem (click)="delete(data.id, data.userName)">\n                  {{ \'AbpIdentity::Delete\' | abpLocalization }}\n                </button>\n              </div>\n            </div>\n          </td>\n          <td>{{ data.userName }}</td>\n          <td>{{ data.email }}</td>\n          <td>{{ data.phoneNumber }}</td>\n        </tr>\n      </ng-template>\n    </p-table>\n  </div>\n</div>\n\n<ng-template #modalContent let-modal>\n  <div class="modal-header">\n    <h5 class="modal-title" id="modal-basic-title">\n      {{ (selected?.id ? \'AbpIdentity::Edit\' : \'AbpIdentity::NewUser\') | abpLocalization }}\n    </h5>\n    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss()">\n      <span aria-hidden="true">&times;</span>\n    </button>\n  </div>\n  <form [formGroup]="form" (ngSubmit)="save()">\n    <div class="modal-body">\n      <ngb-tabset>\n        <ngb-tab [title]="\'AbpIdentity::UserInformations\' | abpLocalization">\n          <ng-template ngbTabContent>\n            <div class="mt-2">\n              <div class="form-group">\n                <label for="user-name">{{ \'AbpIdentity::UserName\' | abpLocalization }}</label\n                ><span> * </span>\n                <input type="text" id="user-name" class="form-control" formControlName="userName" />\n              </div>\n\n              <div class="form-group">\n                <label for="name">{{ \'AbpIdentity::Name\' | abpLocalization }}</label>\n                <input type="text" id="name" class="form-control" formControlName="name" />\n              </div>\n\n              <div class="form-group">\n                <label for="surname">{{ \'AbpIdentity::DisplayName:Surname\' | abpLocalization }}</label>\n                <input type="text" id="surname" class="form-control" formControlName="surname" />\n              </div>\n\n              <div class="form-group">\n                <label for="password">{{ \'AbpIdentity::Password\' | abpLocalization }}</label\n                ><span> * </span>\n                <input\n                  type="password"\n                  id="password"\n                  autocomplete="new-password"\n                  class="form-control"\n                  formControlName="password"\n                />\n              </div>\n\n              <div class="form-group">\n                <label for="email">{{ \'AbpIdentity::EmailAddress\' | abpLocalization }}</label\n                ><span> * </span>\n                <input type="text" id="email" class="form-control" formControlName="email" />\n              </div>\n\n              <div class="form-group">\n                <label for="phone-number">{{ \'AbpIdentity::PhoneNumber\' | abpLocalization }}</label>\n                <input type="text" id="phone-number" class="form-control" formControlName="phoneNumber" />\n              </div>\n\n              <div class="custom-checkbox custom-control mb-2">\n                <input\n                  type="checkbox"\n                  id="lockout-checkbox"\n                  class="custom-control-input"\n                  formControlName="lockoutEnabled"\n                />\n                <label class="custom-control-label" for="lockout-checkbox">{{\n                  \'AbpIdentity::DisplayName:LockoutEnabled\' | abpLocalization\n                }}</label>\n              </div>\n\n              <div class="custom-checkbox custom-control mb-2">\n                <input\n                  type="checkbox"\n                  id="two-factor-checkbox"\n                  class="custom-control-input"\n                  formControlName="twoFactorEnabled"\n                />\n                <label class="custom-control-label" for="two-factor-checkbox">{{\n                  \'AbpIdentity::DisplayName:TwoFactorEnabled\' | abpLocalization\n                }}</label>\n              </div>\n            </div>\n          </ng-template>\n        </ngb-tab>\n        <ngb-tab [title]="\'AbpIdentity::Roles\' | abpLocalization">\n          <ng-template ngbTabContent>\n            <div class="mt-2">\n              <div\n                *ngFor="let roleGroup of roleGroups; let i = index; trackBy: trackByFn"\n                class="custom-checkbox custom-control mb-2"\n              >\n                <input\n                  type="checkbox"\n                  name="Roles[0].IsAssigned"\n                  value="true"\n                  class="custom-control-input"\n                  [attr.id]="\'roles-\' + i"\n                  [formControl]="roleGroup.controls[roles[i].name]"\n                />\n                <label class="custom-control-label" [attr.for]="\'roles-\' + i">{{ roles[i].name }}</label>\n              </div>\n            </div>\n          </ng-template>\n        </ngb-tab>\n      </ngb-tabset>\n    </div>\n\n    <div class="modal-footer">\n      <button type="button" class="btn btn-secondary" data-dismiss="modal" (click)="modal.close()">\n        {{ \'AbpIdentity::Cancel\' | abpLocalization }}\n      </button>\n      <button type="submit" class="btn btn-primary">\n        <i class="fa fa-check mr-1"></i> <span>{{ \'AbpIdentity::Save\' | abpLocalization }}</span>\n      </button>\n    </div>\n  </form>\n</ng-template>\n<abp-permission-management\n  [(visible)]="visiblePermissions"\n  providerName="User"\n  [providerKey]="providerKey"\n></abp-permission-management>\n'}]}],e.ctorParameters=function(){return[{type:l.ConfirmationService},{type:i.NgbModal},{type:a.FormBuilder},{type:o.Store}]},e.propDecorators={modalContent:[{type:n.ViewChild,args:["modalContent",{static:!1}]}]},y([o.Select(P.getUsers),f("design:type",r.Observable)],e.prototype,"data$",void 0),y([o.Select(P.getUsersTotalCount),f("design:type",r.Observable)],e.prototype,"totalCount$",void 0),e}(),q=function(){function e(e){this.store=e}return e.prototype.resolve=function(){var e=this.store.selectSnapshot(P.getUsers);return e&&e.length?null:this.store.dispatch(new U)},e.decorators=[{type:n.Injectable}],e.ctorParameters=function(){return[{type:o.Store}]},e}(),M=[{path:"",redirectTo:"roles",pathMatch:"full"},{path:"roles",component:t.DynamicLayoutComponent,canActivate:[t.AuthGuard,t.PermissionGuard],data:{requiredPolicy:"AbpIdentity.Roles"},children:[{path:"",component:z,resolve:[j]}]},{path:"users",component:t.DynamicLayoutComponent,canActivate:[t.AuthGuard,t.PermissionGuard],data:{requiredPolicy:"AbpIdentity.Users"},children:[{path:"",component:D,resolve:[j,q]}]}],O=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{imports:[d.RouterModule.forChild(M)],exports:[d.RouterModule],providers:[j,q]}]}],e}(),T=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{declarations:[z,D],imports:[o.NgxsModule.forFeature([P]),t.CoreModule,O,i.NgbTabsetModule,l.ThemeSharedModule,m.TableModule,i.NgbDropdownModule,u.PermissionManagementModule,c.NgxValidateCoreModule]}]}],e}();!function(e){e.State=function(){},e.RoleSaveRequest=function(){},e.RoleItem=function(){},e.UserItem=function(){},e.User=function(){},e.UserSaveRequest=function(){}}(g||(g={})),e.IDENTITY_ROUTES=[{name:"Administration",path:"",order:1,wrapper:!0},{name:"Identity",path:"identity",order:1,parentName:"Administration",layout:"application",children:[{path:"roles",name:"Roles",order:2,requiredPolicy:"AbpIdentity.Roles"},{path:"users",name:"Users",order:1,requiredPolicy:"AbpIdentity.Users"}]}],e.IdentityAddRole=R,e.IdentityAddUser=N,e.IdentityDeleteRole=A,e.IdentityDeleteUser=L,e.IdentityGetRoleById=I,e.IdentityGetRoles=v,e.IdentityGetUserById=S,e.IdentityGetUserRoles=x,e.IdentityGetUsers=U,e.IdentityModule=T,e.IdentityService=k,e.IdentityState=P,e.IdentityUpdateRole=w,e.IdentityUpdateUser=C,e.RoleResolver=j,e.RolesComponent=z,e.ɵb=D,e.ɵc=O,e.ɵd=q,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=abp-ng.identity.umd.min.js.map
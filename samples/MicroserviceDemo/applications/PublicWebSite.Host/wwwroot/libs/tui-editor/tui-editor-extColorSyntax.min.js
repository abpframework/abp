/*!
 * tui-editor
 * @version 1.3.0
 * @author NHN Ent. FE Development Lab <dl_javascript@nhnent.com> (https://nhnent.github.io/tui.editor/)
 * @license MIT
 */
!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("jquery"),function(){try{return require("tui-editor")}catch(e){}}(),function(){try{return require("tui-editor/dist/tui-editor-Viewer")}catch(e){}}(),require("tui-color-picker"));else if("function"==typeof define&&define.amd)define(["jquery","tui-editor","tui-editor/dist/tui-editor-Viewer","tui-color-picker"],t);else{var o="object"==typeof exports?t(require("jquery"),function(){try{return require("tui-editor")}catch(e){}}(),function(){try{return require("tui-editor/dist/tui-editor-Viewer")}catch(e){}}(),require("tui-color-picker")):t(e.$,e.tui&&e.tui.Editor,e.tui&&e.tui.Editor,e.tui&&e.tui.colorPicker);for(var r in o)("object"==typeof exports?exports:e)[r]=o[r]}}("undefined"!=typeof self?self:this,function(e,t,o,r){return function(e){function t(r){if(o[r])return o[r].exports;var n=o[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var o={};return t.m=e,t.c=o,t.d=function(e,o,r){t.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(o,"a",o),o},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="dist/",t(t.s=44)}({0:function(t,o){t.exports=e},1:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=void 0;try{r=o(4)}catch(e){}if(!r)try{r=o(5)}catch(e){}t.default=r},4:function(e,o){if(void 0===t){var r=new Error('Cannot find module "undefined"');throw r.code="MODULE_NOT_FOUND",r}e.exports=t},44:function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function n(e){var t=e.options.colorSyntax,o=void 0===t?{}:t,r=o.preset,n=o.useCustomSyntax,a=void 0!==n&&n;e.eventManager.listen("convertorAfterMarkdownToHtmlConverted",function(e){return a?e.replace(x,function(e,t,o){return l(o,t).result}):e}),e.eventManager.listen("convertorAfterHtmlToMarkdownConverted",function(e){var t=a?S:b;return e.replace(t,function(e,t,o){return t.match(C)&&(t=s(t)),a?u(o,t).result:e.replace(/ ?class="colour" ?/g," ").replace(C,t)})}),e.isViewer()||"default"!==e.getUI().name||(e.addCommand("markdown",{name:"color",exec:function(e,t){var o=e.getEditor(),r=o.getCursor("from"),n=o.getCursor("to"),i=void 0,c=void 0;if(t){if(a){var s=u(o.getSelection(),t);i=s.result,c=s.from,o.replaceSelection(i)}else{var f=l(o.getSelection(),t);i=f.result,c=f.from,o.replaceSelection(i)}o.setSelection({line:r.line,ch:r.ch+c},{line:n.line,ch:r.line===n.line?n.ch+c:n.ch}),e.focus()}}}),e.addCommand("wysiwyg",{name:"color",exec:function(e,t){if(t){var o=e.getEditor(),r=e.componentManager.getManager("tableSelection");if(o.hasFormat("table")&&r.getSelectedCells().length){r.styleToSelectedCells(i,t);var n=o.getSelection();n.collapse(!0),o.setSelection(n)}else i(o,t)}}}),c(e,r))}function i(e,t){e.hasFormat("PRE")||(t===M?e.changeFormat(null,{class:"colour",tag:"span"}):e.setTextColour(t))}function c(e,t){var o=e.i18n,r=e.getUI().getToolbar(),n=e.options.usageStatistics;e.eventManager.addEventType("colorButtonClicked"),r.insertItem(3,{type:"button",options:{name:"colorSyntax",className:"tui-color",event:"colorButtonClicked",tooltip:o.get("Text color")}});var i=r.indexOfItem("colorSyntax"),c=r.getItem(i),u=c.$el,l=(0,g.default)("<div />"),a=(0,g.default)('<button type="button" class="te-apply-button">'+o.get("OK")+"</button>"),s={container:l[0],usageStatistics:n};t&&(s.preset=t);var f=y.default.create(s),d=f.getColor();l.append(a);var p=e.getUI().createPopup({header:!1,title:!1,content:l,className:"tui-popup-color",$target:e.getUI().getToolbar().$el,css:{width:"auto",position:"absolute"}});e.eventManager.listen("focus",function(){p.hide()}),e.eventManager.listen("colorButtonClicked",function(){if(p.isShow())return void p.hide();var t=u.get(0),o=t.offsetTop,r=t.offsetLeft;p.$el.css({top:o+u.outerHeight(),left:r}),f.slider.toggle(!0),e.eventManager.emit("closeAllPopup"),p.show()}),e.eventManager.listen("closeAllPopup",function(){p.hide()}),e.eventManager.listen("removeEditor",function(){f.off("selectColor")}),f.on("selectColor",function(t){d=t.color,"palette"===t.origin&&(e.exec("color",d),p.hide())}),p.$el.find(".te-apply-button").on("click",function(){e.exec("color",d)})}function u(e,t){return a("{color:"+t+"}",e,"{color}")}function l(e,t){return a('<span style="color:'+t+'">',e,"</span>")}function a(e,t,o){return{result:""+e+t+o,from:e.length,to:e.length+t.length}}function s(e){return e.replace(C,function(e,t,o,r){return"#"+f(t)+f(o)+f(r)})}function f(e){var t=parseInt(e,10);return t=t.toString(16),t=d(t)}function d(e){var t="00"+e;return t.substr(t.length-2)}Object.defineProperty(t,"__esModule",{value:!0});var p=o(0),g=r(p),v=o(45),y=r(v),m=o(1),h=r(m),x=/\{color:(.+?)}(.*?)\{color}/g,b=/<span (?:class="colour" )?style="color:(.+?)"(?: class="colour")?>(.*?)/g,S=/<span (?:class="colour" )?style="color:(.+?)"(?: class="colour")?>(.*?)<\/span>/g,C=/rgb\((\d+)[, ]+(\d+)[, ]+(\d+)\)/g,M="#181818";h.default.defineExtension("colorSyntax",n),t.default=n},45:function(e,t){e.exports=r},5:function(e,t){if(void 0===o){var r=new Error('Cannot find module "undefined"');throw r.code="MODULE_NOT_FOUND",r}e.exports=o}})});